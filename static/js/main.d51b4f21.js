/*! For license information please see main.d51b4f21.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,x=60106,E=60107,S=60108,T=60114,I=60109,C=60110,N=60112,A=60113,R=60120,P=60115,O=60116,D=60121,L=60128,j=60129,M=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;_=F("react.element"),x=F("react.portal"),E=F("react.fragment"),S=F("react.strict_mode"),T=F("react.profiler"),I=F("react.provider"),C=F("react.context"),N=F("react.forward_ref"),A=F("react.suspense"),R=F("react.suspense_list"),P=F("react.memo"),O=F("react.lazy"),D=F("react.block"),F("react.scope"),L=F("react.opaque.id"),j=F("react.debug_trace_mode"),M=F("react.offscreen"),U=F("react.legacy_hidden")}var V,q="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=q&&e[q]||e["@@iterator"])?e:null}function B(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function K(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function W(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case T:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case D:return G(e._render);case O:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ce=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Ie)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ie(e.stateNode,e.type,t))}}function Re(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Oe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var je=Oe,Me=!1,Ue=!1;function Fe(){null===Ce&&null===Ne||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var qe=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){qe=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(me){qe=!1}function Be(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,Ke=null,We=!1,Ge=null,Qe={onError:function(e){He=!0,Ke=e}};function $e(e,t,n,r,i,a,o,s,u){He=!1,Ke=null,Be.apply(Qe,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Xe(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},St={},Tt={};function It(e){if(St[e])return St[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return St[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ct=It("animationend"),Nt=It("animationiteration"),At=It("animationstart"),Rt=It("transitionend"),Pt=new Map,Ot=new Map,Dt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var jt=8;function Mt(e){if(0!==(1&e))return jt=15,1;if(0!==(2&e))return jt=14,2;if(0!==(4&e))return jt=13,4;var t=24&e;return 0!==t?(jt=12,t):0!==(32&e)?(jt=11,32):0!==(t=192&e)?(jt=10,t):0!==(256&e)?(jt=9,256):0!==(t=3584&e)?(jt=8,t):0!==(4096&e)?(jt=7,4096):0!==(t=4186112&e)?(jt=6,t):0!==(t=62914560&e)?(jt=5,t):67108864&e?(jt=4,67108864):0!==(134217728&e)?(jt=3,134217728):0!==(t=805306368&e)?(jt=2,t):0!==(1073741824&e)?(jt=1,1073741824):(jt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return jt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=jt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Mt(u),i=jt):0!==(s&=a)&&(r=Mt(s),i=jt)}else 0!==(a=n&~o)?(r=Mt(a),i=jt):0!==s&&(r=Mt(s),i=jt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Mt(t),i<=jt)return t;jt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Vt(10,t):e;case 10:return 0===(e=qt(192&~t))?Vt(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function qt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Wt|0)|0},Kt=Math.log,Wt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,$t=!0;function Xt(e,t,n,r){Me||Le();var i=Jt,a=Me;Me=!0;try{De(i,e,t,n,r)}finally{(Me=a)||Fe()}}function Yt(e,t,n,r){Qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=Xe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Ye(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(mn),gn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),bn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=un(wn),xn=un(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return In}var Nn=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=un(Nn),Rn=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Dn),jn=[9,13,27,32],Mn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var Fn=f&&"TextEvent"in window&&!Un,Vn=f&&(!Mn||Un&&8<Un&&11>=Un),qn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Qn(e,t,n,r){Re(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Xn=null;function Yn(e){Nr(e,0)}function Jn(e){if(Y(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",ar),Xn=$n=null)}function ar(e){if("value"===e.propertyName&&Jn(Xn)){var t=[];if(Qn(t,Xn,e,Te(e)),e=Yn,Me)e(t);else{Me=!0;try{Oe(e,t)}finally{Me=!1,Fe()}}}}function or(e,t,n){"focusin"===e?(ir(),Xn=n,($n=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Xn)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,_r=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Mr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Er.length;Sr++)Ot.set(Er[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if($e.apply(this,arguments),He){if(!He)throw Error(o(198));var l=Ke;He=!1,Ke=null,We||(We=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(We)throw e=Ge,We=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Rr]||(e[Rr]=!0,s.forEach((function(t){Ir.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Yt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{je(e,t,n)}finally{Ue=!1,Fe()}}((function(){var r=a,i=Te(n),o=[];e:{var s=Pt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Ct:case Nt:case At:u=bn;break;case Rt:u=On;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(jr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==u&&Fr(o,s,u,l,!1),null!==c&&null!==f&&Fr(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Gn(s))if(er)m=cr;else{m=sr;var y=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,xr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(Mn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Kn?Bn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Kn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Kn=!0)),0<(y=Mr(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Hn(n))&&(k.data=g))),(g=Fn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(zn=!0,qn);case"textInput":return(e=t.data)===qn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Mn&&Bn(e,t)?(e=rn(),nn=tn=en=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(jr(e,a,i)),null!=(a=Ve(e,t))&&r.push(jr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(jr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(jr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var qr=null,zr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Yr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Yr,Zr="__reactProps$"+Yr,ei="__reactContainer$"+Yr,ti="__reactEvents$"+Yr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var xi=null,Ei=null,Si=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Ii=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,ji=a.unstable_IdlePriority,Mi={},Ui=void 0!==Ni?Ni:function(){},Fi=null,Vi=null,qi=!1,zi=Ai(),Bi=1e4>zi?Ai:function(){return Ai()-zi};function Hi(){switch(Ri()){case Pi:return 99;case Oi:return 98;case Di:return 97;case Li:return 96;case ji:return 95;default:throw Error(o(332))}}function Ki(e){switch(e){case 99:return Pi;case 98:return Oi;case 97:return Di;case 96:return Li;case 95:return ji;default:throw Error(o(332))}}function Wi(e,t){return e=Ki(e),Si(e,t)}function Gi(e,t,n){return e=Ki(e),Ti(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ii(e)}$i()}function $i(){if(!qi&&null!==Fi){qi=!0;var e=0;try{var t=Fi;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ti(Pi,Qi),n}finally{qi=!1}}}var Xi=w.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,qs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var _a=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Wu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case x:return(t=Yu(t,e.mode,n)).return=e,t}if(_a(t)||z(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null}if(_a(n)||z(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_a(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=z(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case _:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=xa(e,r,a),u.return=e,e=u)}return s(e);case x:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Yu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xu(a,e.mode,u)).return=e,e=r),s(e);if(_a(a))return v(e,r,a,u);if(z(a))return m(e,r,a,u);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=Sa(!0),Ia=Sa(!1),Ca={},Na=ci(Ca),Aa=ci(Ca),Ra=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Oa(e,t){switch(fi(Ra,t),fi(Aa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Da(){li(Na),li(Aa),li(Ra)}function La(e){Pa(Ra.current);var t=Pa(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function ja(e){Aa.current===e&&(li(Na),li(Aa))}var Ma=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=null,Va=null,qa=!1;function za(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ba(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(qa){var t=Va;if(t){var n=t;if(!Ba(e,t)){if(!(t=Qr(n.nextSibling))||!Ba(e,t))return e.flags=-1025&e.flags|2,qa=!1,void(Fa=e);za(Fa,n)}Fa=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,qa=!1,Fa=e}}function Ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fa=e}function Wa(e){if(e!==Fa)return!1;if(!qa)return Ka(e),qa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Va;t;)za(e,t),t=Qr(t.nextSibling);if(Ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Fa?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Fa=null,qa=!1}var Qa=[];function $a(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Xa=w.ReactCurrentDispatcher,Ya=w.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=null===e||null===e.memoizedState?Oo:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Xa.current=Lo,e=n(r,i)}while(ro)}if(Xa.current=Po,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,qs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Os;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Xa.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Ht(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function bo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function _o(e,t){return bo(516,4,e,t)}function xo(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,So.bind(null,t,e),n)}function Io(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Hi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Ya.transition;Ya.transition=1;try{e(!1),t()}finally{Ya.transition=n}}))}function Ro(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:_o,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:Io,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return _o((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(qa){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:xo,useImperativeHandle:To,useLayoutEffect:Eo,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:Io,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:xo,useImperativeHandle:To,useLayoutEffect:Eo,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:Io,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},jo=w.ReactCurrentOwner,Mo=!1;function Uo(e,t,n,r){t.child=null===e?Ia(t,null,n,r):Ta(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ku(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,qo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Wu(o,r)).ref=t.ref,e.return=t,t.child=e)}function qo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Mo=!0)}return Ho(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_u(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_u(t,e),null;t.memoizedState={baseLanes:0},_u(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_u(t,r);return Uo(e,t,i,n),t.child}function Bo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ko(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ba(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Yi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ba(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){Bo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&_i(t,n,!1),as(e,t,a);r=t.stateNode,jo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,s,a)):Uo(e,t,s,a),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var Qo,$o,Xo,Yo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=Ma.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Ma,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Yo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=$u(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Wu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wu(o,s),null!==e?r=Wu(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Ma.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Ma,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Wu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!qa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),$a(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:ja(t);var a=Pa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Na.current),Wa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Zr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ue(r,s),Ar("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Ar(Tr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Ar("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?_e(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ar("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Ra.current),Pa(Na.current),Wa(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Ma),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ma.current)?0===Us&&(Us=3):(0!==Us&&3!==Us||(Us=4),null===Os||0===(134217727&qs)&&0===(134217727&zs)||gu(Os,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Ma),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Us||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Ma,1&Ma.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Ws&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ua(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!qa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Ma.current,fi(Ma,s?1&t|2:1&t),n):null;case 23:case 24:return xu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),$a(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return ja(e),null;case 13:return li(Ma),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ma),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return xu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Na.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Ys=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Mu(n,e),ju(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Mu(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Ss(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function _s(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xs(e,n,t):Es(e,n,t)}function xs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(xs(e,t,n),e=e.sibling;null!==e;)xs(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Ss(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?_e(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ge(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ks=Bi(),gs(t.child,!0)),void Is(t);case 19:return void Is(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Is(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=zu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,As=w.ReactCurrentDispatcher,Rs=w.ReactCurrentOwner,Ps=0,Os=null,Ds=null,Ls=0,js=0,Ms=ci(0),Us=0,Fs=null,Vs=0,qs=0,zs=0,Bs=0,Hs=null,Ks=0,Ws=1/0;function Gs(){Ws=Bi()+500}var Qs,$s=null,Xs=!1,Ys=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Ps)?Bi():-1!==su?su:su=Bi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===uu&&(uu=Vs),0!==Xi.transition){0!==cu&&(cu=null!==Hs?Hs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Ps)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;Bt(e,t,n),e===Os&&(zs|=t,4===Us&&gu(e,Ls));var r=Hi();1===t?0!==(8&Ps)&&0===(48&Ps)?ku(e):(mu(e,n),0===Ps&&(Gs(),Qi())):(0===(4&Ps)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Hs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ht(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=jt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ut(e,e===Os?Ls:0),t=jt,0===r)null!==n&&(n!==Mi&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ii(n)}15===t?(n=ku.bind(null,e),null===Fi?(Fi=[n],Vi=Ti(Pi,$i)):Fi.push(n),n=Mi):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Ps))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Ut(e,e===Os?Ls:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var a=Tu();for(Os===e&&Ls===r||(Gs(),Eu(e,r));;)try{Nu();break}catch(u){Su(e,u)}if(na(),As.current=a,Ps=i,null!==Ds?r=0:(Os=null,Ls=0,r=Us),0!==(Vs&zs))Eu(e,0);else if(0!==r){if(2===r&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ft(e))&&(r=Iu(e,n))),1===r)throw t=Fs,Eu(e,0),gu(e,n),mu(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Pu(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Ks+500-Bi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Pu.bind(null,e),r);break}Pu(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Kr(Pu.bind(null,e),n);break}Pu(e);break;default:throw Error(o(329))}}return mu(e,Bi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~Bs,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Ps))throw Error(o(327));if(Lu(),e===Os&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Iu(e,t);0!==(Vs&zs)&&(n=Iu(e,t=Ut(e,t)))}else n=Iu(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ft(e))&&(n=Iu(e,t))),1===n)throw n=Fs,Eu(e,0),gu(e,t),mu(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pu(e),mu(e,Bi()),null}function bu(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function wu(e,t){var n=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function _u(e,t){fi(Ms,js),js|=t,Vs|=t}function xu(){js=Ms.current,li(Ms)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),$a();break;case 5:ja(r);break;case 4:Da();break;case 13:case 19:li(Ma);break;case 10:ra(r);break;case 23:case 24:xu()}n=n.return}Os=e,Ds=Wu(e.current,null),Ls=js=Vs=t,Us=0,Fs=null,Bs=zs=qs=0}function Su(e,t){for(;;){var n=Ds;try{if(na(),Xa.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Rs.current=null,null===n||null===n.return){Us=1,Fs=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Ma.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,fa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var b=qu.bind(null,a,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Us&&(Us=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var w=h.type,_=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Js||!Js.has(_)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Ru(n)}catch(x){t=x,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Tu(){var e=As.current;return As.current=Po,null===e?Po:e}function Iu(e,t){var n=Ps;Ps|=16;var r=Tu();for(Os===e&&Ls===t||Eu(e,t);;)try{Cu();break}catch(i){Su(e,i)}if(na(),Ps=n,As.current=r,null!==Ds)throw Error(o(261));return Os=null,Ls=0,Us}function Cu(){for(;null!==Ds;)Au(Ds)}function Nu(){for(;null!==Ds&&!Ci();)Au(Ds)}function Au(e){var t=Qs(e.alternate,e,js);e.memoizedProps=e.pendingProps,null===t?Ru(e):Ds=t,Rs.current=null}function Ru(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,js)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&js)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Us&&(Us=5)}function Pu(e){var t=Hi();return Wi(99,Ou.bind(null,e,t)),null}function Ou(e,t){do{Lu()}while(null!==eu);if(0!==(48&Ps))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Ht(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Os&&(Ds=Os=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,Rs.current=null,qr=$t,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(T){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;zr={focusedElem:s,selectionRange:u},$t=!1,lu=null,fu=!1,$s=r;do{try{Du()}catch(T){if(null===$s)throw Error(o(330));Vu($s,T),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var k=$s.flags;if(16&k&&ge($s.stateNode,""),128&k){var b=$s.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:_s($s),$s.flags&=-3;break;case 6:_s($s),$s.flags&=-3,Ts($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Ts($s.alternate,$s);break;case 4:Ts($s.alternate,$s);break;case 8:Ss(s,u=$s);var _=u.alternate;bs(u),null!==_&&bs(_)}$s=$s.nextEffect}}catch(T){if(null===$s)throw Error(o(330));Vu($s,T),$s=$s.nextEffect}}while(null!==$s);if(w=zr,b=mr(),k=w.focusedElem,s=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&yr(k)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=k.textContent.length,_=Math.min(s.start,u),s=void 0===s.end?_:Math.min(s.end,u),!w.extend&&_>s&&(u=s,s=_,_=u),u=pr(k,_),a=pr(k,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),_>s?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!qr,zr=qr=null,e.current=n,$s=r;do{try{for(k=e;null!==$s;){var x=$s.flags;if(36&x&&ys(k,$s.alternate,$s),128&x){b=void 0;var E=$s.ref;if(null!==E){var S=$s.stateNode;$s.tag,b=S,"function"===typeof E?E(b):E.current=b}}$s=$s.nextEffect}}catch(T){if(null===$s)throw Error(o(330));Vu($s,T),$s=$s.nextEffect}}while(null!==$s);$s=null,Ui(),Ps=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((x=$s).sibling=null,x.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(T){}if(mu(e,Bi()),Xs)throw Xs=!1,e=Ys,Ys=null,e;return 0!==(8&Ps)||Qi(),null}function Du(){for(;null!==$s;){var e=$s.alternate;fu||null===lu||(0!==(8&$s.flags)?et($s,lu)&&(fu=!0):13===$s.tag&&Cs(e,$s)&&et($s,lu)&&(fu=!0));var t=$s.flags;0!==(256&t)&&ms(e,$s),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Lu(),null}))),$s=$s.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Wi(e,Uu)}return!1}function ju(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Mu(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Uu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ps))throw Error(o(331));var t=Ps;Ps|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ps=t,Qi(),!0}function Fu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(Bt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Fu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))Bt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function qu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ls&n)===n&&(4===Us||3===Us&&(62914560&Ls)===Ls&&500>Bi()-Ks?Eu(e,0):Bs|=n),mu(e,t)}function zu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===uu&&(uu=Vs),0===(t=qt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(Bt(e,t,n),mu(e,n))}function Bu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,r){return new Bu(e,t,n,r)}function Ku(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wu(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ku(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Qu(n.children,i,a,t);case j:s=8,i|=16;break;case S:s=8,i|=1;break;case T:return(e=Hu(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case A:return(e=Hu(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case R:return(e=Hu(19,n,t,i)).elementType=R,e.lanes=a,e;case M:return $u(n,i,a,t);case U:return(e=Hu(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case C:s=9;break e;case N:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Hu(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Hu(23,e,r,t)).elementType=M,e.lanes=n,e}function Xu(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function Yu(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}wu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Mo=!0;else{if(0===(n&r)){switch(Mo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(Ma,1&Ma.current),null!==(t=as(e,t,n))?t.sibling:null);fi(Ma,1&Ma.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Ma,Ma.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return as(e,t,n)}Mo=0!==(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ku(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=Yi(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Ko(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Yi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),Fa=t,a=qa=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ia(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==a&&Hr(r,a)&&(t.flags|=16),Bo(e,t),Uo(e,t,s,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return Jo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Ji,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Yi(i=t.type,t.pendingProps),Vo(e,t,i,a=Yi(i.type,a),r,n);case 15:return qo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));Y(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=bu,De=function(e,t,n,r,i){var a=Ps;Ps|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Ps=a)&&(Gs(),Qi())}},Le=function(){0===(49&Ps)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,Bi())}))}Qi()}(),Lu())},je=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,ai,Re,Pe,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{xi=fc.inject(lc),Ei=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ps;if(0!==(48&n))return e(t);Ps|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Ps=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+T(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),I(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=I(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=I(s=s.value,t,n,l=r+T(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function R(){var e=A.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!_.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(R){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var _=g.prototype=m.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,u(_,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(E.prototype),u(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),u(_,s,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>S(o,n))void 0!==u&&0>S(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],I=[],C=1,N=null,A=3,R=!1,P=!1,O=!1;function D(e){for(var t=x(I);null!==t;){if(null===t.callback)E(I);else{if(!(t.startTime<=e))break;E(I),t.sortIndex=t.expirationTime,_(T,t)}t=x(I)}}function L(e){if(O=!1,D(e),!P)if(null!==x(T))P=!0,n(j);else{var t=x(I);null!==t&&r(L,t.startTime-e)}}function j(e,n){P=!1,O&&(O=!1,i()),R=!0;var a=A;try{for(D(n),N=x(T);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var s=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===x(T)&&E(T),D(n)}else E(T);N=x(T)}if(null!==N)var u=!0;else{var c=x(I);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{N=null,A=a,R=!1}}var M=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,n(j))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return x(T)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,_(I,e),null===x(T)&&e===x(I)&&(O?i():O=!0,r(L,o-s))):(e.sortIndex=u,_(T,e),P||R||(P=!0,n(j))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e,t=n(791),r=n(164);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var u=function(e){return e};var c="beforeunload",l="popstate";function f(e){e.preventDefault(),e.returnValue=""}function h(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function d(){return Math.random().toString(36).substr(2,8)}function p(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function v(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t){if(!e)throw new Error(t)}var y=(0,t.createContext)(null);var g=(0,t.createContext)(null);var k=(0,t.createContext)({outlet:null,matches:[]});function b(e){var n=e.to,r=e.replace,i=e.state;T()||m(!1);var a=C();return(0,t.useEffect)((function(){a(n,{replace:r,state:i})})),null}function w(e){return function(e){var n=(0,t.useContext)(k).outlet;if(n)return(0,t.createElement)(N.Provider,{value:e},n);return n}(e.context)}function _(e){m(!1)}function x(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,s=n.location,u=n.navigationType,c=void 0===u?e.Pop:u,l=n.navigator,f=n.static,h=void 0!==f&&f;T()&&m(!1);var d=z(i),p=(0,t.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=v(s));var k=s,b=k.pathname,w=void 0===b?"/":b,_=k.search,x=void 0===_?"":_,E=k.hash,S=void 0===E?"":E,I=k.state,C=void 0===I?null:I,N=k.key,A=void 0===N?"default":N,R=(0,t.useMemo)((function(){var e=V(w,d);return null==e?null:{pathname:e,search:x,hash:S,state:C,key:A}}),[d,w,x,S,C,A]);return null==R?null:(0,t.createElement)(y.Provider,{value:p},(0,t.createElement)(g.Provider,{children:o,value:{location:R,navigationType:c}}))}function E(e){var n=e.children,r=e.location;return function(e,n){T()||m(!1);var r=(0,t.useContext)(k).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=I();if(n){var c,l="string"===typeof n?v(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||m(!1),s=l}else s=u;var f=s.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=V(("string"===typeof t?v(t):t).pathname||"/",n);if(null==r)return null;var i=P(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=j(i[o],r);return a}(e,{pathname:h});0;return M(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:q([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:q([o,e.pathnameBase])})})),r)}(R(n),r)}function S(e){T()||m(!1);var n=(0,t.useContext)(y),r=n.basename,i=n.navigator,a=A(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?v(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?r+(f?"/":""):q([r,s])}return i.createHref({pathname:c,search:u,hash:o})}function T(){return null!=(0,t.useContext)(g)}function I(){return T()||m(!1),(0,t.useContext)(g).location}function C(){T()||m(!1);var e=(0,t.useContext)(y),n=e.basename,r=e.navigator,i=(0,t.useContext)(k).matches,a=I().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var u=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=F(e,JSON.parse(o),a);"/"!==n&&(i.pathname=q([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}var N=(0,t.createContext)(null);function A(e){var n=(0,t.useContext)(k).matches,r=I().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return F(e,JSON.parse(i),r)}),[e,i,r])}function R(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==_&&m(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=R(e.props.children)),n.push(r)}else n.push.apply(n,R(e.props.children))})),n}function P(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||m(!1),a.relativePath=a.relativePath.slice(r.length));var o=q([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&m(!1),P(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:L(o,e.index),routesMeta:s})})),t}var O=/^:\w+$/,D=function(e){return"*"===e};function L(e,t){var n=e.split("/"),r=n.length;return n.some(D)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!D(e)})).reduce((function(e,t){return e+(O.test(t)?3:""===t?1:10)}),r)}function j(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=U({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:q([i,l.pathname]),pathnameBase:q([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=q([i,l.pathnameBase]))}return a}function M(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(k.Provider,{children:void 0!==i.route.element?i.route.element:(0,t.createElement)(w,null),value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=o(n,2),i=r[0],a=r[1],s=t.match(i);if(!s)return null;var u=s[0],c=u.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function F(e,t,n){var r,i="string"===typeof e?v(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?v(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:B(a),hash:H(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var q=function(e){return e.join("/").replace(/\/\/+/g,"/")},z=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},B=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},H=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}function W(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var G=["onClick","reloadDocument","replace","state","target","to"];function Q(n){var r=n.basename,i=n.children,a=n.window,m=(0,t.useRef)();null==m.current&&(m.current=function(t){void 0===t&&(t={});var n=t.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,u({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(l,(function(){if(o)w.call(o),o=null;else{var t=e.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var s=g-r;s&&(o={action:t,location:i,retry:function(){I(-1*s)}},I(s))}}else T(t)}}));var m=e.Pop,y=a(),g=y[0],k=y[1],b=h(),w=h();function _(e){return"string"===typeof e?e:p(e)}function x(e,t){return void 0===t&&(t=null),u(s({pathname:k.pathname,hash:"",search:""},"string"===typeof e?v(e):e,{state:t,key:d()}))}function E(e,t){return[{usr:e.state,key:e.key,idx:t},_(e)]}function S(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function T(e){m=e;var t=a();g=t[0],k=t[1],b.call({action:m,location:k})}function I(e){i.go(e)}null==g&&(g=0,i.replaceState(s({},i.state,{idx:g}),""));var C={get action(){return m},get location(){return k},createHref:_,push:function t(n,a){var o=e.Push,s=x(n,a);if(S(o,s,(function(){t(n,a)}))){var u=E(s,g+1),c=u[0],l=u[1];try{i.pushState(c,"",l)}catch(f){r.location.assign(l)}T(o)}},replace:function t(n,r){var a=e.Replace,o=x(n,r);if(S(a,o,(function(){t(n,r)}))){var s=E(o,g),u=s[0],c=s[1];i.replaceState(u,"",c),T(a)}},go:I,back:function(){I(-1)},forward:function(){I(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(c,f),function(){t(),w.length||r.removeEventListener(c,f)}}};return C}({window:a}));var y=m.current,g=o((0,t.useState)({action:y.action,location:y.location}),2),k=g[0],b=g[1];return(0,t.useLayoutEffect)((function(){return y.listen(b)}),[y]),(0,t.createElement)(x,{basename:r,children:i,location:k.location,navigationType:k.action,navigator:y})}var $=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=W(e,G),f=S(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=C(),u=I(),c=A(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||p(u)===p(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,t.createElement)("a",K({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));function X(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Y=n(184),J=function(e){var t=e.iconName,n=e.color,r=e.onClick;return(0,Y.jsx)("button",{className:"icon-button icon-button--".concat(n),onClick:function(){return r()},children:(0,Y.jsx)("i",{className:"icon-button__icon ".concat(t)})})},Z=function(e){var t=e.devices,n=e.actionButtons;return(0,Y.jsx)("div",{className:"devices-table",children:(0,Y.jsxs)("table",{className:"devices-table__table",children:[(0,Y.jsx)("thead",{className:"devices-table__thead",children:(0,Y.jsxs)("tr",{className:"devices-table__thead-tr",children:[(0,Y.jsx)("th",{className:"devices-table__th",children:"Model"}),(0,Y.jsx)("th",{className:"devices-table__th",children:"Category"}),(0,Y.jsx)("th",{className:"devices-table__th",children:"Serial number"}),(0,Y.jsx)("th",{className:"devices-table__th",children:"Manufacturer"}),(0,Y.jsx)("th",{className:"devices-table__th",children:"Actions"})]})}),(0,Y.jsx)("tbody",{className:"devices-table__tbody",children:t.map((function(e){var t=e.model,r=e.category,i=e.serialNumber,a=e.manufacturer,o=e.id;return(0,Y.jsxs)("tr",{className:"devices-table__tr",children:[(0,Y.jsx)("td",{className:"devices-table__td",children:t}),(0,Y.jsx)("td",{className:"devices-table__td",children:r}),(0,Y.jsx)("td",{className:"devices-table__td",children:i}),(0,Y.jsx)("td",{className:"devices-table__td",children:a}),(0,Y.jsx)("td",{className:"devices-table__td",children:(0,Y.jsx)("div",{className:"devices-table__actions",children:n.map((function(e){var n=e.iconName,s=e.color,u=e.callback;return(0,Y.jsx)(J,{iconName:n,color:s,onClick:function(){return u({model:t,category:r,serialNumber:i,manufacturer:a,id:o})}},"".concat(n,"-").concat(o))}))})})]},o)}))})]})})},ee=function(e){var t=e.children,n=e.title;return(0,Y.jsxs)("header",{className:"header-desktop",children:[(0,Y.jsx)("h5",{className:"header-desktop__title",children:n}),(0,Y.jsx)("div",{className:"header-desktop__container-right",children:t})]})},te=function(e){var n=e.text,r=e.options,i=e.selectedOption,a=e.setSelectedOption,s=e.resetText,u=o((0,t.useState)(!1),2),c=u[0],l=u[1],f=(0,t.useRef)(null);return(0,t.useEffect)((function(){var e=function(e){f.current&&!f.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),(0,Y.jsxs)("button",{ref:f,className:"select-button ".concat(c?"active":""),onClick:function(){return l(!c)},children:[(0,Y.jsx)("div",{className:"select-button__text",children:i||n}),(0,Y.jsx)("i",{className:"select-button__icon ".concat(c?"active":""," fa-solid fa-caret-down")}),(0,Y.jsxs)("ul",{className:"select-button__dropdown ".concat(c?"active":""),children:[s&&(0,Y.jsx)("li",{className:"select-button__dropdown-item select-button__dropdown-item--unset",onClick:function(){return a(null)},children:s}),r.map((function(e){return(0,Y.jsx)("li",{className:"select-button__dropdown-item",onClick:function(){return a(e)},children:e},e)}))]})]})},ne=function(e){var t=e.sortBy,n=e.setSortBy,r=e.sortingOptions;return(0,Y.jsxs)("div",{className:"sort-by",children:[(0,Y.jsx)("span",{className:"sort-by__text",children:"Sort By: "}),(0,Y.jsx)(te,{text:t,selectedOption:t,setSelectedOption:n,options:r})]})},re=function(e){var t=e.searchValue,n=e.setSearchValue;return(0,Y.jsxs)("div",{className:"search-bar",children:[(0,Y.jsx)("input",{className:"search-bar__input",placeholder:"Find device...",value:t,onChange:function(e){return n(e.target.value)}}),(0,Y.jsx)("i",{className:"search-bar__icon fas fa-search"})]})},ie=function(e){var t=e.text,n=e.backgroundColor,r=void 0===n?"white":n,i=e.action,a=e.disabled,o=void 0!==a&&a;return(0,Y.jsx)("button",{className:"button button--".concat(r," ").concat(o?"button--locked":""),onClick:i,disabled:o,children:t})},ae=function(e){var t=e.children,n=e.isOpen,i=e.onClose;if(!n)return null;return(0,r.createPortal)((0,Y.jsx)("div",{className:"modal",onClick:function(e){return function(e){e.target===e.currentTarget&&i()}(e)},"data-testid":"modal",children:t}),document.getElementById("modal"))};function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function le(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ce(a,r,i,o,s,"next",e)}function s(e){ce(a,r,i,o,s,"throw",e)}o(void 0)}))}}function fe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}var he=n(757),de=n.n(he);function pe(e,t){return pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pe(e,t)}function ve(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function me(e,t,n){return me=ve()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&pe(i,n.prototype),i},me.apply(null,arguments)}function ye(e){return ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ye(e)}function ge(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ye(e)););return e}function ke(){return ke="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ge(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ke.apply(this,arguments)}function be(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pe(e,t)}function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(e,t){if(t&&("object"===we(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _e(e)}function Ee(e){var t=ve();return function(){var n,r=ye(e);if(t){var i=ye(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xe(this,n)}}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,t,n){return t&&Te(e.prototype,t),n&&Te(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ce(e){var t="function"===typeof Map?new Map:void 0;return Ce=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return me(e,arguments,ye(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),pe(n,e)},Ce(e)}var Ne=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ne(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Re=function(e){try{return Ae.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var Pe=function(){function e(){var t=this;Se(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Ie(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Oe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function De(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function Le(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function je(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Me(){var e=Oe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}var Ue=function(e){be(n,e);var t=Ee(n);function n(e,r,i){var a;return Se(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(_e(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(_e(a),Fe.prototype.create),a}return Ie(n)}(Ce(Error)),Fe=function(){function e(t,n,r){Se(this,e),this.service=t,this.serviceName=n,this.errors=r}return Ie(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ve(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Ue(n,a,t);return o}}]),e}();function Ve(e,t){return e.replace(qe,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var qe=/\{\$([^}]+)}/g;function ze(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Be(s)&&Be(u)){if(!ze(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Be(e){return null!==e&&"object"===typeof e}function He(e){for(var t=[],n=function(){var e=o(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ke(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=o(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function We(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Ge=function(){function e(t,n){var r=this;Se(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Ie(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=fe(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Qe),void 0===r.error&&(r.error=Qe),void 0===r.complete&&(r.complete=Qe);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Qe(){}function $e(e){return e&&e._delegate?e._delegate:e}var Xe=function(){function e(t,n,r){Se(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ie(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ye="[DEFAULT]",Je=function(){function e(t,n){Se(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Ie(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Pe;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ye})}catch(c){}var t,n=fe(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=o(t.value,2),i=r[0],a=r[1],s=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:s});a.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=le(he.mark((function e(){var t;return he.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(X(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),X(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=fe(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var u=o(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){s.e(h)}finally{s.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(md){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ye?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(md){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye;return this.component?this.component.multipleInstances?e:Ye:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ze,et,tt=function(){function e(t){Se(this,e),this.name=t,this.providers=new Map}return Ie(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Je(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),nt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(et||(et={}));var rt,it,at={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},ot=et.INFO,st=(oe(Ze={},et.DEBUG,"log"),oe(Ze,et.VERBOSE,"log"),oe(Ze,et.INFO,"info"),oe(Ze,et.WARN,"warn"),oe(Ze,et.ERROR,"error"),Ze),ut=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=st[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ct=function(){function e(t){Se(this,e),this.name=t,this._logLevel=ot,this._logHandler=ut,this._userLogHandler=null,nt.push(this)}return Ie(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in et))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?at[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,et.DEBUG].concat(t)),this._logHandler.apply(this,[this,et.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,et.VERBOSE].concat(t)),this._logHandler.apply(this,[this,et.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,et.INFO].concat(t)),this._logHandler.apply(this,[this,et.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,et.WARN].concat(t)),this._logHandler.apply(this,[this,et.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,et.ERROR].concat(t)),this._logHandler.apply(this,[this,et.ERROR].concat(t))}}]),e}();var lt=function(){function e(t){Se(this,e),this.container=t}return Ie(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ft="@firebase/app",ht="0.7.17",dt=new ct("@firebase/app"),pt="[DEFAULT]",vt=(oe(rt={},ft,"fire-core"),oe(rt,"@firebase/app-compat","fire-core-compat"),oe(rt,"@firebase/analytics","fire-analytics"),oe(rt,"@firebase/analytics-compat","fire-analytics-compat"),oe(rt,"@firebase/app-check","fire-app-check"),oe(rt,"@firebase/app-check-compat","fire-app-check-compat"),oe(rt,"@firebase/auth","fire-auth"),oe(rt,"@firebase/auth-compat","fire-auth-compat"),oe(rt,"@firebase/database","fire-rtdb"),oe(rt,"@firebase/database-compat","fire-rtdb-compat"),oe(rt,"@firebase/functions","fire-fn"),oe(rt,"@firebase/functions-compat","fire-fn-compat"),oe(rt,"@firebase/installations","fire-iid"),oe(rt,"@firebase/installations-compat","fire-iid-compat"),oe(rt,"@firebase/messaging","fire-fcm"),oe(rt,"@firebase/messaging-compat","fire-fcm-compat"),oe(rt,"@firebase/performance","fire-perf"),oe(rt,"@firebase/performance-compat","fire-perf-compat"),oe(rt,"@firebase/remote-config","fire-rc"),oe(rt,"@firebase/remote-config-compat","fire-rc-compat"),oe(rt,"@firebase/storage","fire-gcs"),oe(rt,"@firebase/storage-compat","fire-gcs-compat"),oe(rt,"@firebase/firestore","fire-fst"),oe(rt,"@firebase/firestore-compat","fire-fst-compat"),oe(rt,"fire-js","fire-js"),oe(rt,"firebase","fire-js-all"),rt),mt=new Map,yt=new Map;function gt(e,t){try{e.container.addComponent(t)}catch(n){dt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function kt(e){var t=e.name;if(yt.has(t))return dt.debug("There were multiple attempts to register component ".concat(t,".")),!1;yt.set(t,e);var n,r=fe(mt.values());try{for(r.s();!(n=r.n()).done;){gt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function bt(e,t){return e.container.getProvider(t)}var wt,_t=(oe(it={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),oe(it,"bad-app-name","Illegal App name: '{$appName}"),oe(it,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),oe(it,"app-deleted","Firebase App named '{$appName}' already deleted"),oe(it,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),oe(it,"invalid-log-argument","First argument to `onLog` must be null or a function."),it),xt=new Fe("app","Firebase",_t),Et=function(){function e(t,n,r){var i=this;Se(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xe("app",(function(){return i}),"PUBLIC"))}return Ie(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw xt.create("app-deleted",{appName:this._name})}}]),e}(),St="9.6.7";function Tt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=mt.get(e);if(!t)throw xt.create("no-app",{appName:e});return t}function It(e,t,n){var r,i=null!==(r=vt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void dt.warn(s.join(" "))}kt(new Xe("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}wt="",kt(new Xe("platform-logger",(function(e){return new lt(e)}),"PRIVATE")),It(ft,ht,wt),It(ft,ht,"esm2017"),It("fire-js","");var Ct,Nt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},At={},Rt=Rt||{},Pt=Nt||self;function Ot(){}function Dt(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Lt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var jt="closure_uid_"+(1e9*Math.random()>>>0),Mt=0;function Ut(e,t,n){return e.call.apply(e.bind,arguments)}function Ft(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Vt(e,t,n){return(Vt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ut:Ft).apply(null,arguments)}function qt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function zt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Bt(){this.s=this.s,this.o=this.o}var Ht={};Bt.prototype.s=!1,Bt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,jt)&&e[jt]||(e[jt]=++Mt)}(this);delete Ht[e]}},Bt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Kt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Wt=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Gt(e){return Array.prototype.concat.apply([],arguments)}function Qt(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function $t(e){return/^[\s\xa0]*$/.test(e)}var Xt,Yt=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Jt(e,t){return-1!=e.indexOf(t)}function Zt(e,t){return e<t?-1:e>t?1:0}e:{var en=Pt.navigator;if(en){var tn=en.userAgent;if(tn){Xt=tn;break e}}Xt=""}function nn(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function rn(e){var t={};for(var n in e)t[n]=e[n];return t}var an="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function on(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<an.length;a++)n=an[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function sn(e){return sn[" "](e),e}sn[" "]=Ot;var un,cn=Jt(Xt,"Opera"),ln=Jt(Xt,"Trident")||Jt(Xt,"MSIE"),fn=Jt(Xt,"Edge"),hn=fn||ln,dn=Jt(Xt,"Gecko")&&!(Jt(Xt.toLowerCase(),"webkit")&&!Jt(Xt,"Edge"))&&!(Jt(Xt,"Trident")||Jt(Xt,"MSIE"))&&!Jt(Xt,"Edge"),pn=Jt(Xt.toLowerCase(),"webkit")&&!Jt(Xt,"Edge");function vn(){var e=Pt.document;return e?e.documentMode:void 0}e:{var mn="",yn=function(){var e=Xt;return dn?/rv:([^\);]+)(\)|;)/.exec(e):fn?/Edge\/([\d\.]+)/.exec(e):ln?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):pn?/WebKit\/(\S+)/.exec(e):cn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(yn&&(mn=yn?yn[1]:""),ln){var gn=vn();if(null!=gn&&gn>parseFloat(mn)){un=String(gn);break e}}un=mn}var kn,bn={};function wn(){return function(e){var t=bn;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Yt(String(un)).split("."),n=Yt("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Zt(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Zt(0==a[2].length,0==o[2].length)||Zt(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Pt.document&&ln){var _n=vn();kn=_n||(parseInt(un,10)||void 0)}else kn=void 0;var xn=kn,En=function(){if(!Pt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Pt.addEventListener("test",Ot,t),Pt.removeEventListener("test",Ot,t)}catch(n){}return e}();function Sn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Tn(e,t){if(Sn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(dn){e:{try{sn(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:In[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Tn.Z.h.call(this)}}Sn.prototype.h=function(){this.defaultPrevented=!0},zt(Tn,Sn);var In={2:"touch",3:"pen",4:"mouse"};Tn.prototype.h=function(){Tn.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Cn="closure_listenable_"+(1e6*Math.random()|0),Nn=0;function An(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Nn,this.ca=this.fa=!1}function Rn(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Pn(e){this.src=e,this.g={},this.h=0}function On(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Kt(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Rn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Dn(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Pn.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Dn(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new An(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Ln="closure_lm_"+(1e6*Math.random()|0),jn={};function Mn(e,t,n,r,i){if(r&&r.once)return Fn(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Mn(e,t[a],n,r,i);return null}return n=Wn(n),e&&e[Cn]?e.N(t,n,Lt(r)?!!r.capture:!!r,i):Un(e,t,n,!1,r,i)}function Un(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Lt(i)?!!i.capture:!!i,s=Hn(e);if(s||(e[Ln]=s=new Pn(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Bn;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)En||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(zn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Fn(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Fn(e,t[a],n,r,i);return null}return n=Wn(n),e&&e[Cn]?e.O(t,n,Lt(r)?!!r.capture:!!r,i):Un(e,t,n,!0,r,i)}function Vn(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Vn(e,t[a],n,r,i);else r=Lt(r)?!!r.capture:!!r,n=Wn(n),e&&e[Cn]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Dn(a=e.g[t],n,r,i))&&(Rn(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Hn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Dn(t,n,r,i)),(n=-1<e?t[e]:null)&&qn(n))}function qn(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Cn])On(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(zn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Hn(t))?(On(n,e),0==n.h&&(n.src=null,t[Ln]=null)):Rn(e)}}}function zn(e){return e in jn?jn[e]:jn[e]="on"+e}function Bn(e,t){if(e.ca)e=!0;else{t=new Tn(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&qn(e),e=n.call(r,t)}return e}function Hn(e){return(e=e[Ln])instanceof Pn?e:null}var Kn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wn(e){return"function"===typeof e?e:(e[Kn]||(e[Kn]=function(t){return e.handleEvent(t)}),e[Kn])}function Gn(){Bt.call(this),this.i=new Pn(this),this.P=this,this.I=null}function Qn(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Sn(t,e);else if(t instanceof Sn)t.target=t.target||e;else{var i=t;on(t=new Sn(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=$n(o,r,!0,t)&&i}if(i=$n(o=t.g=e,r,!0,t)&&i,i=$n(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=$n(o=t.g=n[a],r,!1,t)&&i}function $n(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&On(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}zt(Gn,Bt),Gn.prototype[Cn]=!0,Gn.prototype.removeEventListener=function(e,t,n,r){Vn(this,e,t,n,r)},Gn.prototype.M=function(){if(Gn.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Rn(n[r]);delete t.g[e],t.h--}}this.I=null},Gn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Gn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Xn=Pt.JSON.stringify;function Yn(){var e=ar,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Jn,Zn=function(){function e(){Se(this,e),this.h=this.g=null}return Ie(e,[{key:"add",value:function(e,t){var n=er.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),er=new(function(){function e(t,n){Se(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Ie(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new tr}),(function(e){return e.reset()})),tr=function(){function e(){Se(this,e),this.next=this.g=this.h=null}return Ie(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function nr(e){Pt.setTimeout((function(){throw e}),0)}function rr(e,t){Jn||function(){var e=Pt.Promise.resolve(void 0);Jn=function(){e.then(or)}}(),ir||(Jn(),ir=!0),ar.add(e,t)}var ir=!1,ar=new Zn;function or(){for(var e;e=Yn();){try{e.h.call(e.g)}catch(n){nr(n)}var t=er;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ir=!1}function sr(e,t){Gn.call(this),this.h=e||1,this.g=t||Pt,this.j=Vt(this.kb,this),this.l=Date.now()}function ur(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function cr(e,t,n){if("function"===typeof e)n&&(e=Vt(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Vt(e.handleEvent,e)}return 2147483647<Number(t)?-1:Pt.setTimeout(e,t||0)}function lr(e){e.g=cr((function(){e.g=null,e.i&&(e.i=!1,lr(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}zt(sr,Gn),(Ct=sr.prototype).da=!1,Ct.S=null,Ct.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Qn(this,"tick"),this.da&&(ur(this),this.start()))}},Ct.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ct.M=function(){sr.Z.M.call(this),ur(this),delete this.g};var fr=function(e){be(n,e);var t=Ee(n);function n(e,r){var i;return Se(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Ie(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:lr(this)}},{key:"M",value:function(){ke(ye(n.prototype),"M",this).call(this),this.g&&(Pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Bt);function hr(e){Bt.call(this),this.h=e,this.g={}}zt(hr,Bt);var dr=[];function pr(e,t,n,r){Array.isArray(n)||(n&&(dr[0]=n.toString()),n=dr);for(var i=0;i<n.length;i++){var a=Mn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function vr(e){nn(e.g,(function(e,t){this.g.hasOwnProperty(t)&&qn(e)}),e),e.g={}}function mr(){this.g=!0}function yr(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Xn(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}hr.prototype.M=function(){hr.Z.M.call(this),vr(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mr.prototype.Aa=function(){this.g=!1},mr.prototype.info=function(){};var gr={},kr=null;function br(){return kr=kr||new Gn}function wr(e){Sn.call(this,gr.Ma,e)}function _r(e){var t=br();Qn(t,new wr(t,e))}function xr(e,t){Sn.call(this,gr.STAT_EVENT,e),this.stat=t}function Er(e){var t=br();Qn(t,new xr(t,e))}function Sr(e,t){Sn.call(this,gr.Na,e),this.size=t}function Tr(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Pt.setTimeout((function(){e()}),t)}gr.Ma="serverreachability",zt(wr,Sn),gr.STAT_EVENT="statevent",zt(xr,Sn),gr.Na="timingevent",zt(Sr,Sn);var Ir={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Cr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Nr(){}function Ar(e){return e.h||(e.h=e.i())}function Rr(){}Nr.prototype.h=null;var Pr,Or={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Dr(){Sn.call(this,"d")}function Lr(){Sn.call(this,"c")}function jr(){}function Mr(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new hr(this),this.P=Fr,e=hn?125:void 0,this.W=new sr(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ur}function Ur(){this.i=null,this.g="",this.h=!1}zt(Dr,Sn),zt(Lr,Sn),zt(jr,Nr),jr.prototype.g=function(){return new XMLHttpRequest},jr.prototype.i=function(){return{}},Pr=new jr;var Fr=45e3,Vr={},qr={};function zr(e,t,n){e.K=1,e.v=fi(ai(t)),e.s=n,e.U=!0,Br(e,null)}function Br(e,t){e.F=Date.now(),Gr(e),e.A=ai(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Ei(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Ur,e.g=Ta(e.l,n?t:null,!e.s),0<e.O&&(e.L=new fr(Vt(e.Ia,e,e.g),e.O)),pr(e.V,e.g,"readystatechange",e.gb),t=e.H?rn(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),_r(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Hr(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Kr(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Wr(e,n))==qr){4==t&&(e.o=4,Er(14),i=!1),yr(e.j,e.m,null,"[Incomplete Response]");break}if(r==Vr){e.o=4,Er(15),yr(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}yr(e.j,e.m,r,null),Jr(e,r)}Hr(e)&&r!=qr&&r!=Vr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Er(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ga(t),t.L=!0,Er(11))):(yr(e.j,e.m,n,"[Invalid Chunked Response]"),Yr(e),Xr(e))}function Wr(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?qr:(n=Number(t.substring(n,r)),isNaN(n)?Vr:(r+=1)+n>t.length?qr:(t=t.substr(r,n),e.C=r+n,t))}function Gr(e){e.Y=Date.now()+e.P,Qr(e,e.P)}function Qr(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Tr(Vt(e.eb,e),t)}function $r(e){e.B&&(Pt.clearTimeout(e.B),e.B=null)}function Xr(e){0==e.l.G||e.I||wa(e.l,e)}function Yr(e){$r(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ur(e.W),vr(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Jr(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Pi(n.i,e)))if(n.I=e.N,!e.J&&Pi(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ba(n),ca(n)}ya(n),Er(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Tr(Vt(n.ab,n),6e3));if(1>=Ri(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else xa(n,11)}else if((e.J||n.g==e)&&ba(n),!$t(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Jt(l,"spdy")||Jt(l,"quic")||Jt(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Oi(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,li(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Sa(r,r.H?r.la:null,r.W),d.J){Di(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&($r(p),Gr(p)),r.g=d}else ma(r);0<n.l.length&&ha(n)}else"stop"!=a[0]&&"close"!=a[0]||xa(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?xa(n,7):ua(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}_r(4)}catch(a){}}function Zr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Dt(e)||"string"===typeof e)Wt(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Dt(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Dt(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function ei(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ei)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ti(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ni(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ni(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ni(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ct=Mr.prototype).setTimeout=function(e){this.P=e},Ct.gb=function(e){e=e.target;var t=this.L;t&&3==ra(e)?t.l():this.Ia(e)},Ct.Ia=function(e){try{if(e==this.g)e:{var t=ra(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||hn||this.g&&(this.h.h||this.g.ga()||ia(this.g)))){this.I||4!=t||7==n||_r(8==n||0>=r?3:2),$r(this);var i=this.g.ba();this.N=i;t:if(Hr(this)){var a=ia(this.g);e="";var o=a.length,s=4==ra(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Yr(this),Xr(this);var u="";break t}this.h.i=new Pt.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$t(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Er(12),Yr(this),Xr(this);break e}yr(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Jr(this,i)}this.U?(Kr(this,t,u),hn&&this.i&&3==t&&(pr(this.V,this.W,"tick",this.fb),this.W.start())):(yr(this.j,this.m,u,null),Jr(this,u)),4==t&&Yr(this),this.i&&!this.I&&(4==t?wa(this.l,this):(this.i=!1,Gr(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Er(12)):(this.o=0,Er(13)),Yr(this),Xr(this)}}}catch(t){}},Ct.fb=function(){if(this.g){var e=ra(this.g),t=this.g.ga();this.C<t.length&&($r(this),Kr(this,e,t),this.i&&4!=e&&Gr(this))}},Ct.cancel=function(){this.I=!0,Yr(this)},Ct.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(_r(3),Er(17)),Yr(this),this.o=2,Xr(this)):Qr(this,this.Y-e)},(Ct=ei.prototype).R=function(){ti(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ct.T=function(){return ti(this),this.g.concat()},Ct.get=function(e,t){return ni(this.h,e)?this.h[e]:t},Ct.set=function(e,t){ni(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ct.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var ri=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ii(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ii){this.g=void 0!==t?t:e.g,oi(this,e.j),this.s=e.s,si(this,e.i),ui(this,e.m),this.l=e.l,t=e.h;var n=new bi;n.i=t.i,t.g&&(n.g=new ei(t.g),n.h=t.h),ci(this,n),this.o=e.o}else e&&(n=String(e).match(ri))?(this.g=!!t,oi(this,n[1]||"",!0),this.s=hi(n[2]||""),si(this,n[3]||"",!0),ui(this,n[4]),this.l=hi(n[5]||"",!0),ci(this,n[6]||"",!0),this.o=hi(n[7]||"")):(this.g=!!t,this.h=new bi(null,this.g))}function ai(e){return new ii(e)}function oi(e,t,n){e.j=n?hi(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function si(e,t,n){e.i=n?hi(t,!0):t}function ui(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ci(e,t,n){t instanceof bi?(e.h=t,function(e,t){t&&!e.j&&(wi(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_i(this,t),Ei(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=di(t,gi)),e.h=new bi(t,e.g))}function li(e,t,n){e.h.set(t,n)}function fi(e){return li(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function hi(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function di(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pi),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pi(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ii.prototype.toString=function(){var e=[],t=this.j;t&&e.push(di(t,vi,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(di(t,vi,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(di(n,"/"==n.charAt(0)?yi:mi,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",di(n,ki)),e.join("")};var vi=/[#\/\?@]/g,mi=/[#\?:]/g,yi=/[#\?]/g,gi=/[#\?@]/g,ki=/#/g;function bi(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wi(e){e.g||(e.g=new ei,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _i(e,t){wi(e),t=Si(e,t),ni(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ni((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ti(e)))}function xi(e,t){return wi(e),t=Si(e,t),ni(e.g.h,t)}function Ei(e,t,n){_i(e,t),0<n.length&&(e.i=null,e.g.set(Si(e,t),Qt(n)),e.h+=n.length)}function Si(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ct=bi.prototype).add=function(e,t){wi(this),this.i=null,e=Si(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ct.forEach=function(e,t){wi(this),this.g.forEach((function(n,r){Wt(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ct.T=function(){wi(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ct.R=function(e){wi(this);var t=[];if("string"===typeof e)xi(this,e)&&(t=Gt(t,this.g.get(Si(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Gt(t,e[n])}return t},Ct.set=function(e,t){return wi(this),this.i=null,xi(this,e=Si(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ct.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Ti=Ie((function e(t,n){Se(this,e),this.h=t,this.g=n}));function Ii(e){this.l=e||Ni,Pt.PerformanceNavigationTiming?e=0<(e=Pt.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Pt.g&&Pt.g.Ea&&Pt.g.Ea()&&Pt.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ci,Ni=10;function Ai(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ri(e){return e.h?1:e.g?e.g.size:0}function Pi(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Oi(e,t){e.g?e.g.add(t):e.h=t}function Di(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Li(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=fe(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Qt(e.i)}function ji(){}function Mi(){this.g=new ji}function Ui(e,t,n){var r=n||"";try{Zr(e,(function(e,n){var i=e;Lt(e)&&(i=Xn(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Fi(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Vi(e){this.l=e.$b||null,this.j=e.ib||!1}function qi(e,t){Gn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=zi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ii.prototype.cancel=function(){if(this.i=Li(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=fe(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},ji.prototype.stringify=function(e){return Pt.JSON.stringify(e,void 0)},ji.prototype.parse=function(e){return Pt.JSON.parse(e,void 0)},zt(Vi,Nr),Vi.prototype.g=function(){return new qi(this.l,this.j)},Vi.prototype.i=(Ci={},function(){return Ci}),zt(qi,Gn);var zi=0;function Bi(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Hi(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ki(e)}function Ki(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ct=qi.prototype).open=function(e,t){if(this.readyState!=zi)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ki(this)},Ct.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Pt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hi(this)),this.readyState=zi},Ct.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ki(this)),this.g&&(this.readyState=3,Ki(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Pt.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Bi(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ct.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Hi(this):Ki(this),3==this.readyState&&Bi(this)}},Ct.Ua=function(e){this.g&&(this.response=this.responseText=e,Hi(this))},Ct.Ta=function(e){this.g&&(this.response=e,Hi(this))},Ct.ha=function(){this.g&&Hi(this)},Ct.setRequestHeader=function(e,t){this.v.append(e,t)},Ct.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ct.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Wi=Pt.JSON.parse;function Gi(e){Gn.call(this),this.headers=new ei,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Qi,this.K=this.L=!1}zt(Gi,Gn);var Qi="",$i=/^https?$/i,Xi=["POST","PUT"];function Yi(e){return"content-type"==e.toLowerCase()}function Ji(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Zi(e),ta(e)}function Zi(e){e.D||(e.D=!0,Qn(e,"complete"),Qn(e,"error"))}function ea(e){if(e.h&&"undefined"!=typeof Rt&&(!e.C[1]||4!=ra(e)||2!=e.ba()))if(e.v&&4==ra(e))cr(e.Fa,0,e);else if(Qn(e,"readystatechange"),4==ra(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(ri)[1]||null;if(!a&&Pt.self&&Pt.self.location){var o=Pt.self.location.protocol;a=o.substr(0,o.length-1)}i=!$i.test(a?a.toLowerCase():"")}t=i}if(t)Qn(e,"complete"),Qn(e,"success");else{e.m=6;try{var s=2<ra(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Zi(e)}}finally{ta(e)}}}function ta(e,t){if(e.g){na(e);var n=e.g,r=e.C[0]?Ot:null;e.g=null,e.C=null,t||Qn(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function na(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Pt.clearTimeout(e.A),e.A=null)}function ra(e){return e.g?e.g.readyState:0}function ia(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Qi:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function aa(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return nn(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):li(e,t,n))}function oa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function sa(e){this.za=0,this.l=[],this.h=new mr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=oa("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=oa("baseRetryDelayMs",5e3,e),this.$a=oa("retryDelaySeedMs",1e4,e),this.Ya=oa("forwardChannelMaxRetries",2,e),this.ra=oa("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ii(e&&e.concurrentRequestLimit),this.Ca=new Mi,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ua(e){if(la(e),3==e.G){var t=e.V++,n=ai(e.F);li(n,"SID",e.J),li(n,"RID",t),li(n,"TYPE","terminate"),pa(e,n),(t=new Mr(e,e.h,t,void 0)).K=2,t.v=fi(ai(n)),n=!1,Pt.navigator&&Pt.navigator.sendBeacon&&(n=Pt.navigator.sendBeacon(t.v.toString(),"")),!n&&Pt.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ta(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Gr(t)}Ea(e)}function ca(e){e.g&&(ga(e),e.g.cancel(),e.g=null)}function la(e){ca(e),e.u&&(Pt.clearTimeout(e.u),e.u=null),ba(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Pt.clearTimeout(e.m),e.m=null)}function fa(e,t){e.l.push(new Ti(e.Za++,t)),3==e.G&&ha(e)}function ha(e){Ai(e.i)||e.m||(e.m=!0,rr(e.Ha,e),e.C=0)}function da(e,t){var n;n=t?t.m:e.V++;var r=ai(e.F);li(r,"SID",e.J),li(r,"RID",n),li(r,"AID",e.U),pa(e,r),e.o&&e.s&&aa(r,e.o,e.s),n=new Mr(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=va(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Oi(e.i,n),zr(n,r,t)}function pa(e,t){e.j&&Zr({},(function(e,n){li(t,n,e)}))}function va(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Vt(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Ui(l,o,"req"+c+"_")}catch(eo){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function ma(e){e.g||e.u||(e.Y=1,rr(e.Ga,e),e.A=0)}function ya(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Tr(Vt(e.Ga,e),_a(e,e.A)),e.A++,!0)}function ga(e){null!=e.B&&(Pt.clearTimeout(e.B),e.B=null)}function ka(e){e.g=new Mr(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=ai(e.oa);li(t,"RID","rpc"),li(t,"SID",e.J),li(t,"CI",e.N?"0":"1"),li(t,"AID",e.U),pa(e,t),li(t,"TYPE","xmlhttp"),e.o&&e.s&&aa(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=fi(ai(t)),n.s=null,n.U=!0,Br(n,e)}function ba(e){null!=e.v&&(Pt.clearTimeout(e.v),e.v=null)}function wa(e,t){var n=null;if(e.g==t){ba(e),ga(e),e.g=null;var r=2}else{if(!Pi(e.i,t))return;n=t.D,Di(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Qn(r=br(),new Sr(r,n,t,i)),ha(e)}else ma(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ri(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Tr(Vt(e.Ha,e,t),_a(e,e.C)),e.C++,!0))}(e,t)||2==r&&ya(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:xa(e,5);break;case 4:xa(e,10);break;case 3:xa(e,6);break;default:xa(e,2)}}function _a(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function xa(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Vt(e.jb,e);n||(n=new ii("//www.google.com/images/cleardot.gif"),Pt.location&&"http"==Pt.location.protocol||oi(n,"https"),fi(n)),function(e,t){var n=new mr;if(Pt.Image){var r=new Image;r.onload=qt(Fi,n,r,"TestLoadImage: loaded",!0,t),r.onerror=qt(Fi,n,r,"TestLoadImage: error",!1,t),r.onabort=qt(Fi,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=qt(Fi,n,r,"TestLoadImage: timeout",!1,t),Pt.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Er(2);e.G=0,e.j&&e.j.va(t),Ea(e),la(e)}function Ea(e){e.G=0,e.I=-1,e.j&&(0==Li(e.i).length&&0==e.l.length||(e.i.i.length=0,Qt(e.l),e.l.length=0),e.j.ua())}function Sa(e,t,n){var r=function(e){return e instanceof ii?ai(e):new ii(e,void 0)}(n);if(""!=r.i)t&&si(r,t+"."+r.i),ui(r,r.m);else{var i=Pt.location;r=function(e,t,n,r){var i=new ii(null,void 0);return e&&oi(i,e),t&&si(i,t),n&&ui(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&nn(e.aa,(function(e,t){li(r,t,e)})),t=e.D,n=e.sa,t&&n&&li(r,t,n),li(r,"VER",e.ma),pa(e,r),r}function Ta(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Gi(new Vi({ib:!0})):new Gi(e.qa)).L=e.H,t}function Ia(){}function Ca(){if(ln&&!(10<=Number(xn)))throw Error("Environmental error: no available transport.")}function Na(e,t){Gn.call(this),this.g=new sa(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!$t(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!$t(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Pa(this)}function Aa(e){Dr.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ra(){Lr.call(this),this.status=1}function Pa(e){this.g=e}(Ct=Gi.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Pr.g(),this.C=this.u?Ar(this.u):Ar(Pr),this.g.onreadystatechange=Vt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Ji(this,a)}e=n||"";var i=new ei(this.headers);r&&Zr(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Yi,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Pt.FormData&&e instanceof Pt.FormData,!(0<=Kt(Xi,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{na(this),0<this.B&&((this.K=function(e){return ln&&wn()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vt(this.pa,this)):this.A=cr(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Ji(this,a)}},Ct.pa=function(){"undefined"!=typeof Rt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qn(this,"timeout"),this.abort(8))},Ct.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Qn(this,"complete"),Qn(this,"abort"),ta(this))},Ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ta(this,!0)),Gi.Z.M.call(this)},Ct.Fa=function(){this.s||(this.F||this.v||this.l?ea(this):this.cb())},Ct.cb=function(){ea(this)},Ct.ba=function(){try{return 2<ra(this)?this.g.status:-1}catch(Ci){return-1}},Ct.ga=function(){try{return this.g?this.g.responseText:""}catch(Ci){return""}},Ct.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Wi(t)}},Ct.Da=function(){return this.m},Ct.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ct=sa.prototype).ma=8,Ct.G=1,Ct.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Ct.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Mr(this,this.h,e,void 0),n=this.s;if(this.P&&(n?on(n=rn(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=va(this,t,r),li(i=ai(this.F),"RID",e),li(i,"CVER",22),this.D&&li(i,"X-HTTP-Session-Id",this.D),pa(this,i),this.o&&n&&aa(i,this.o,n),Oi(this.i,t),this.Ra&&li(i,"TYPE","init"),this.ja?(li(i,"$req",r),li(i,"SID","null"),t.$=!0,zr(t,i,null)):zr(t,i,r),this.G=2}}else 3==this.G&&(e?da(this,e):0==this.l.length||Ai(this.i)||da(this))},Ct.Ga=function(){if(this.u=null,ka(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Tr(Vt(this.bb,this),e)}},Ct.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Er(10),ca(this),ka(this))},Ct.ab=function(){null!=this.v&&(this.v=null,ca(this),ya(this),Er(19))},Ct.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Er(2)):(this.h.info("Failed to ping google.com"),Er(1))},(Ct=Ia.prototype).xa=function(){},Ct.wa=function(){},Ct.va=function(){},Ct.ua=function(){},Ct.Oa=function(){},Ca.prototype.g=function(e,t){return new Na(e,t)},zt(Na,Gn),Na.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),rr(Vt(e.hb,e,t))),Er(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Sa(e,null,e.W),ha(e)},Na.prototype.close=function(){ua(this.g)},Na.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,fa(this.g,t)}else this.v?((t={}).__data__=Xn(e),fa(this.g,t)):fa(this.g,e)},Na.prototype.M=function(){this.g.j=null,delete this.j,ua(this.g),delete this.g,Na.Z.M.call(this)},zt(Aa,Dr),zt(Ra,Lr),zt(Pa,Ia),Pa.prototype.xa=function(){Qn(this.g,"a")},Pa.prototype.wa=function(e){Qn(this.g,new Aa(e))},Pa.prototype.va=function(e){Qn(this.g,new Ra(e))},Pa.prototype.ua=function(){Qn(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,Na.prototype.send=Na.prototype.u,Na.prototype.open=Na.prototype.m,Na.prototype.close=Na.prototype.close,Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,Cr.COMPLETE="complete",Rr.EventType=Or,Or.OPEN="a",Or.CLOSE="b",Or.ERROR="c",Or.MESSAGE="d",Gn.prototype.listen=Gn.prototype.N,Gi.prototype.listenOnce=Gi.prototype.O,Gi.prototype.getLastError=Gi.prototype.La,Gi.prototype.getLastErrorCode=Gi.prototype.Da,Gi.prototype.getStatus=Gi.prototype.ba,Gi.prototype.getResponseJson=Gi.prototype.Qa,Gi.prototype.getResponseText=Gi.prototype.ga,Gi.prototype.send=Gi.prototype.ea;var Oa=At.createWebChannelTransport=function(){return new Ca},Da=At.getStatEventTarget=function(){return br()},La=At.ErrorCode=Ir,ja=At.EventType=Cr,Ma=At.Event=gr,Ua=At.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Fa=At.FetchXmlHttpFactory=Vi,Va=At.WebChannel=Rr,qa=At.XhrIo=Gi,za="@firebase/firestore",Ba=function(){function e(t){Se(this,e),this.uid=t}return Ie(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Ba.UNAUTHENTICATED=new Ba(null),Ba.GOOGLE_CREDENTIALS=new Ba("google-credentials-uid"),Ba.FIRST_PARTY=new Ba("first-party-uid"),Ba.MOCK_USER=new Ba("mock-user");var Ha="9.6.7",Ka=new ct("@firebase/firestore");function Wa(){return Ka.logLevel}function Ga(e){if(Ka.logLevel<=et.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Xa);Ka.debug.apply(Ka,["Firestore (".concat(Ha,"): ").concat(e)].concat(X(i)))}}function Qa(e){if(Ka.logLevel<=et.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Xa);Ka.error.apply(Ka,["Firestore (".concat(Ha,"): ").concat(e)].concat(X(i)))}}function $a(e){if(Ka.logLevel<=et.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Xa);Ka.warn.apply(Ka,["Firestore (".concat(Ha,"): ").concat(e)].concat(X(i)))}}function Xa(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ya(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ha,") INTERNAL ASSERTION FAILED: ")+e;throw Qa(t),new Error(t)}function Ja(e,t){e||Ya()}function Za(e,t){return e}var eo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},to=function(e){be(n,e);var t=Ee(n);function n(e,r){var i;return Se(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Ie(n)}(Ue),no=Ie((function e(){var t=this;Se(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ro=Ie((function e(t,n){Se(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),io=function(){function e(){Se(this,e)}return Ie(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ba.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ao=function(){function e(t){Se(this,e),this.t=t,this.currentUser=Ba.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Ie(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new no;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new no,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(le(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Ga("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Ga("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new no)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ga("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ja("string"==typeof n.accessToken),new ro(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Ja(null===e||"string"==typeof e),new Ba(e)}}]),e}(),oo=Ie((function e(t,n,r){Se(this,e),this.type="FirstParty",this.user=Ba.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),so=function(){function e(t,n,r){Se(this,e),this.h=t,this.l=n,this.m=r}return Ie(e,[{key:"getToken",value:function(){return Promise.resolve(new oo(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ba.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),uo=Ie((function e(t){Se(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),co=function(){function e(t){Se(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Ie(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ga("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Ga("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ga("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Ga("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Ja("string"==typeof t.token),e.p=t.token,new uo(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),lo=function(){function e(t,n){var r=this;Se(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Ie(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function fo(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}lo.A=-1;var ho=function(){function e(){Se(this,e)}return Ie(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=fo(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function po(e,t){return e<t?-1:e>t?1:0}function vo(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var mo=function(){function e(t,n){if(Se(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new to(eo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new to(eo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new to(eo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new to(eo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Ie(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?po(this.nanoseconds,e.nanoseconds):po(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),yo=function(){function e(t){Se(this,e),this.timestamp=t}return Ie(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new mo(0,0))}}]),e}();function go(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ko(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bo(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var wo=function(){function e(t,n,r){Se(this,e),void 0===n?n=0:n>t.length&&Ya(),void 0===r?r=t.length-n:r>t.length-n&&Ya(),this.segments=t,this.offset=n,this.len=r}return Ie(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),_o=function(e){be(n,e);var t=Ee(n);function n(){return Se(this,n),t.apply(this,arguments)}return Ie(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new to(eo.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,X(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(wo),xo=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Eo=function(e){be(n,e);var t=Ee(n);function n(){return Se(this,n),t.apply(this,arguments)}return Ie(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return xo.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new to(eo.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new to(eo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new to(eo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new to(eo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(wo),So=function(){function e(t){Se(this,e),this.fields=t,t.sort(Eo.comparator)}return Ie(e,[{key:"covers",value:function(e){var t,n=fe(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return vo(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var To=function(e){function t(e){Se(this,t),this.binaryString=e}return Ie(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return po(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();To.EMPTY_BYTE_STRING=new To("");var Io=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Co(e){if(Ja(!!e),"string"==typeof e){var t=0,n=Io.exec(e);if(Ja(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:No(e.seconds),nanos:No(e.nanos)}}function No(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ao(e){return"string"==typeof e?To.fromBase64String(e):To.fromUint8Array(e)}function Ro(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Po(e){var t=e.mapValue.fields.__previous_value__;return Ro(t)?Po(t):t}function Oo(e){var t=Co(e.mapValue.fields.__local_write_time__.timestampValue);return new mo(t.seconds,t.nanos)}var Do=Ie((function e(t,n,r,i,a,o,s,u){Se(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Lo=function(){function e(t,n){Se(this,e),this.projectId=t,this.database=n||"(default)"}return Ie(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function jo(e){return null==e}function Mo(e){return 0===e&&1/e==-1/0}function Uo(e){return"number"==typeof e&&Number.isInteger(e)&&!Mo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Fo=function(){function e(t){Se(this,e),this.path=t}return Ie(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===_o.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(_o.fromString(t))}},{key:"fromName",value:function(t){return new e(_o.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(_o.emptyPath())}},{key:"comparator",value:function(e,t){return _o.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new _o(t.slice()))}}]),e}(),Vo={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function qo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ro(e)?4:10:Ya()}function zo(e,t){if(e===t)return!0;var n=qo(e);if(n!==qo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Oo(e).isEqual(Oo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Co(e.timestampValue),r=Co(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ao(e.bytesValue).isEqual(Ao(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return No(e.geoPointValue.latitude)===No(t.geoPointValue.latitude)&&No(e.geoPointValue.longitude)===No(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return No(e.integerValue)===No(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=No(e.doubleValue),r=No(t.doubleValue);return n===r?Mo(n)===Mo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return vo(e.arrayValue.values||[],t.arrayValue.values||[],zo);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(go(n)!==go(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!zo(n[i],r[i])))return!1;return!0}(e,t);default:return Ya()}}function Bo(e,t){return void 0!==(e.values||[]).find((function(e){return zo(e,t)}))}function Ho(e,t){if(e===t)return 0;var n=qo(e),r=qo(t);if(n!==r)return po(n,r);switch(n){case 0:return 0;case 1:return po(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=No(e.integerValue||e.doubleValue),r=No(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ko(e.timestampValue,t.timestampValue);case 4:return Ko(Oo(e),Oo(t));case 5:return po(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ao(e),r=Ao(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=po(n[i],r[i]);if(0!==a)return a}return po(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=po(No(e.latitude),No(t.latitude));return 0!==n?n:po(No(e.longitude),No(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Ho(n[i],r[i]);if(a)return a}return po(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=po(r[o],a[o]);if(0!==s)return s;var u=Ho(n[r[o]],i[a[o]]);if(0!==u)return u}return po(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ya()}}function Ko(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return po(e,t);var n=Co(e),r=Co(t),i=po(n.seconds,r.seconds);return 0!==i?i:po(n.nanos,r.nanos)}function Wo(e){return Go(e)}function Go(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Co(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ao(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Fo.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=fe(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Go(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=fe(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Go(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Ya();var t,n}function Qo(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function $o(e){return!!e&&"integerValue"in e}function Xo(e){return!!e&&"arrayValue"in e}function Yo(e){return!!e&&"nullValue"in e}function Jo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zo(e){return!!e&&"mapValue"in e}function es(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ko(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=es(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=es(e.arrayValue.values[r]);return n}return Object.assign({},e)}var ts=function(){function e(t){Se(this,e),this.value=t}return Ie(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Zo(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=es(t)}},{key:"setAll",value:function(e){var t=this,n=Eo.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=es(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Zo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return zo(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Zo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ko(t,(function(t,n){return e[t]=n}));var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(es(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ns(e){var t=[];return ko(e.fields,(function(e,n){var r=new Eo([e]);if(Zo(n)){var i=ns(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=fe(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new So(t)}var rs=function(){function e(t,n,r,i,a,o){Se(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Ie(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=ts.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=ts.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,yo.min(),yo.min(),ts.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,yo.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,yo.min(),ts.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,yo.min(),ts.empty(),2)}}]),e}(),is=Ie((function e(t,n,r,i){Se(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));is.UNKNOWN_ID=-1;var as=Ie((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Se(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.P=null}));function os(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new as(e,t,n,r,i,a,o)}function ss(e){var t=Za(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Wo(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),jo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Wo(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Wo(e)})).join(",")),t.P=n}return t.P}function us(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ws(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!zo(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!xs(e.startAt,t.startAt)&&xs(e.endAt,t.endAt)}function cs(e){return Fo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var ls=function(e){be(n,e);var t=Ee(n);function n(e,r,i){var a;return Se(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Ie(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(Ho(t,this.value)):null!==t&&qo(this.value)===qo(t)&&this.V(Ho(t,this.value))}},{key:"V",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ya()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new fs(e,t,r):"array-contains"===t?new vs(e,r):"in"===t?new ms(e,r):"not-in"===t?new ys(e,r):"array-contains-any"===t?new gs(e,r):new n(e,t,r)}},{key:"v",value:function(e,t,n){return"in"===t?new hs(e,n):new ds(e,n)}}]),n}(function(){return Ie((function e(){Se(this,e)}))}()),fs=function(e){be(n,e);var t=Ee(n);function n(e,r,i){var a;return Se(this,n),(a=t.call(this,e,r,i)).key=Fo.fromName(i.referenceValue),a}return Ie(n,[{key:"matches",value:function(e){var t=Fo.comparator(e.key,this.key);return this.V(t)}}]),n}(ls),hs=function(e){be(n,e);var t=Ee(n);function n(e,r){var i;return Se(this,n),(i=t.call(this,e,"in",r)).keys=ps("in",r),i}return Ie(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ls),ds=function(e){be(n,e);var t=Ee(n);function n(e,r){var i;return Se(this,n),(i=t.call(this,e,"not-in",r)).keys=ps("not-in",r),i}return Ie(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ls);function ps(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Fo.fromName(e.referenceValue)}))}var vs=function(e){be(n,e);var t=Ee(n);function n(e,r){return Se(this,n),t.call(this,e,"array-contains",r)}return Ie(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Xo(t)&&Bo(t.arrayValue,this.value)}}]),n}(ls),ms=function(e){be(n,e);var t=Ee(n);function n(e,r){return Se(this,n),t.call(this,e,"in",r)}return Ie(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Bo(this.value.arrayValue,t)}}]),n}(ls),ys=function(e){be(n,e);var t=Ee(n);function n(e,r){return Se(this,n),t.call(this,e,"not-in",r)}return Ie(n,[{key:"matches",value:function(e){if(Bo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Bo(this.value.arrayValue,t)}}]),n}(ls),gs=function(e){be(n,e);var t=Ee(n);function n(e,r){return Se(this,n),t.call(this,e,"array-contains-any",r)}return Ie(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Xo(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Bo(t.value.arrayValue,e)}))}}]),n}(ls),ks=Ie((function e(t,n){Se(this,e),this.position=t,this.inclusive=n})),bs=Ie((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Se(this,e),this.field=t,this.dir=n}));function ws(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function _s(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Fo.comparator(Fo.fromName(o.referenceValue),n.key):Ho(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function xs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!zo(e.position[n],t.position[n]))return!1;return!0}var Es=Ie((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Se(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.D=null,this.C=null,this.startAt,this.endAt}));function Ss(e,t,n,r,i,a,o,s){return new Es(e,t,n,r,i,a,o,s)}function Ts(e){return new Es(e)}function Is(e){return!jo(e.limit)&&"F"===e.limitType}function Cs(e){return!jo(e.limit)&&"L"===e.limitType}function Ns(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function As(e){var t,n=fe(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Rs(e){return null!==e.collectionGroup}function Ps(e){var t=Za(e);if(null===t.D){t.D=[];var n=As(t),r=Ns(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new bs(n)),t.D.push(new bs(Eo.keyField(),"asc"));else{var i,a=!1,o=fe(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.D.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new bs(Eo.keyField(),u))}}}return t.D}function Os(e){var t=Za(e);if(!t.C)if("F"===t.limitType)t.C=os(t.path,t.collectionGroup,Ps(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=fe(Ps(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new bs(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new ks(t.endAt.position,!t.endAt.inclusive):null,u=t.startAt?new ks(t.startAt.position,!t.startAt.inclusive):null;t.C=os(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.C}function Ds(e,t,n){return new Es(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ls(e,t){return us(Os(e),Os(t))&&e.limitType===t.limitType}function js(e){return"".concat(ss(Os(e)),"|lt:").concat(e.limitType)}function Ms(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Wo(t.value));var t})).join(", "),"]")),jo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Wo(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Wo(e)})).join(",")),"Target(".concat(t,")")}(Os(e)),"; limitType=").concat(e.limitType,")")}function Us(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Fo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=fe(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=fe(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=_s(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ps(e),t))&&!(e.endAt&&!function(e,t,n){var r=_s(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ps(e),t))}(e,t)}function Fs(e){return function(t,n){var r,i=!1,a=fe(Ps(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Vs(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Vs(e,t,n){var r=e.field.isKeyField()?Fo.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ho(r,i):Ya()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ya()}}function qs(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mo(t)?"-0":t}}function zs(e){return{integerValue:""+e}}function Bs(e,t){return Uo(t)?zs(t):qs(e,t)}var Hs=Ie((function e(){Se(this,e),this._=void 0}));function Ks(e,t,n){return e instanceof Qs?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof $s?Xs(e,t):e instanceof Ys?Js(e,t):function(e,t){var n=Gs(e,t),r=eu(n)+eu(e.k);return $o(n)&&$o(e.k)?zs(r):qs(e.O,r)}(e,t)}function Ws(e,t,n){return e instanceof $s?Xs(e,t):e instanceof Ys?Js(e,t):n}function Gs(e,t){return e instanceof Zs?$o(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Qs=function(e){be(n,e);var t=Ee(n);function n(){return Se(this,n),t.apply(this,arguments)}return Ie(n)}(Hs),$s=function(e){be(n,e);var t=Ee(n);function n(e){var r;return Se(this,n),(r=t.call(this)).elements=e,r}return Ie(n)}(Hs);function Xs(e,t){var n,r=tu(t),i=fe(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return zo(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ys=function(e){be(n,e);var t=Ee(n);function n(e){var r;return Se(this,n),(r=t.call(this)).elements=e,r}return Ie(n)}(Hs);function Js(e,t){var n,r=tu(t),i=fe(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!zo(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Zs=function(e){be(n,e);var t=Ee(n);function n(e,r){var i;return Se(this,n),(i=t.call(this)).O=e,i.k=r,i}return Ie(n)}(Hs);function eu(e){return No(e.integerValue||e.doubleValue)}function tu(e){return Xo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var nu=Ie((function e(t,n){Se(this,e),this.field=t,this.transform=n}));var ru=Ie((function e(t,n){Se(this,e),this.version=t,this.transformResults=n})),iu=function(){function e(t,n){Se(this,e),this.updateTime=t,this.exists=n}return Ie(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function au(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ou=Ie((function e(){Se(this,e)}));function su(e,t,n){e instanceof hu?function(e,t,n){var r=e.value.clone(),i=vu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof du?function(e,t,n){if(au(e.precondition,t)){var r=vu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(pu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function uu(e,t,n){e instanceof hu?function(e,t,n){if(au(e.precondition,t)){var r=e.value.clone(),i=mu(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(fu(t),r).setHasLocalMutations()}}(e,t,n):e instanceof du?function(e,t,n){if(au(e.precondition,t)){var r=mu(e.fieldTransforms,n,t),i=t.data;i.setAll(pu(e)),i.setAll(r),t.convertToFoundDocument(fu(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){au(e.precondition,t)&&t.convertToNoDocument(yo.min())}(e,t)}function cu(e,t){var n,r=null,i=fe(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Gs(a.transform,o||null);null!=s&&(null==r&&(r=ts.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function lu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&vo(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof $s&&t instanceof $s||e instanceof Ys&&t instanceof Ys?vo(e.elements,t.elements,zo):e instanceof Zs&&t instanceof Zs?zo(e.k,t.k):e instanceof Qs&&t instanceof Qs}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function fu(e){return e.isFoundDocument()?e.version:yo.min()}var hu=function(e){be(n,e);var t=Ee(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Se(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Ie(n)}(ou),du=function(e){be(n,e);var t=Ee(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Se(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Ie(n)}(ou);function pu(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function vu(e,t,n){var r=new Map;Ja(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Ws(o,s,n[i]))}return r}function mu(e,t,n){var r,i=new Map,a=fe(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Ks(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var yu,gu,ku=function(e){be(n,e);var t=Ee(n);function n(e,r){var i;return Se(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Ie(n)}(ou),bu=function(e){be(n,e);var t=Ee(n);function n(e,r){var i;return Se(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Ie(n)}(ou),wu=Ie((function e(t){Se(this,e),this.count=t}));function _u(e){switch(e){default:return Ya();case eo.CANCELLED:case eo.UNKNOWN:case eo.DEADLINE_EXCEEDED:case eo.RESOURCE_EXHAUSTED:case eo.INTERNAL:case eo.UNAVAILABLE:case eo.UNAUTHENTICATED:return!1;case eo.INVALID_ARGUMENT:case eo.NOT_FOUND:case eo.ALREADY_EXISTS:case eo.PERMISSION_DENIED:case eo.FAILED_PRECONDITION:case eo.ABORTED:case eo.OUT_OF_RANGE:case eo.UNIMPLEMENTED:case eo.DATA_LOSS:return!0}}function xu(e){if(void 0===e)return Qa("GRPC error has no .code"),eo.UNKNOWN;switch(e){case yu.OK:return eo.OK;case yu.CANCELLED:return eo.CANCELLED;case yu.UNKNOWN:return eo.UNKNOWN;case yu.DEADLINE_EXCEEDED:return eo.DEADLINE_EXCEEDED;case yu.RESOURCE_EXHAUSTED:return eo.RESOURCE_EXHAUSTED;case yu.INTERNAL:return eo.INTERNAL;case yu.UNAVAILABLE:return eo.UNAVAILABLE;case yu.UNAUTHENTICATED:return eo.UNAUTHENTICATED;case yu.INVALID_ARGUMENT:return eo.INVALID_ARGUMENT;case yu.NOT_FOUND:return eo.NOT_FOUND;case yu.ALREADY_EXISTS:return eo.ALREADY_EXISTS;case yu.PERMISSION_DENIED:return eo.PERMISSION_DENIED;case yu.FAILED_PRECONDITION:return eo.FAILED_PRECONDITION;case yu.ABORTED:return eo.ABORTED;case yu.OUT_OF_RANGE:return eo.OUT_OF_RANGE;case yu.UNIMPLEMENTED:return eo.UNIMPLEMENTED;case yu.DATA_LOSS:return eo.DATA_LOSS;default:return Ya()}}(gu=yu||(yu={}))[gu.OK=0]="OK",gu[gu.CANCELLED=1]="CANCELLED",gu[gu.UNKNOWN=2]="UNKNOWN",gu[gu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gu[gu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gu[gu.NOT_FOUND=5]="NOT_FOUND",gu[gu.ALREADY_EXISTS=6]="ALREADY_EXISTS",gu[gu.PERMISSION_DENIED=7]="PERMISSION_DENIED",gu[gu.UNAUTHENTICATED=16]="UNAUTHENTICATED",gu[gu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gu[gu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gu[gu.ABORTED=10]="ABORTED",gu[gu.OUT_OF_RANGE=11]="OUT_OF_RANGE",gu[gu.UNIMPLEMENTED=12]="UNIMPLEMENTED",gu[gu.INTERNAL=13]="INTERNAL",gu[gu.UNAVAILABLE=14]="UNAVAILABLE",gu[gu.DATA_LOSS=15]="DATA_LOSS";var Eu=function(){function e(t,n){Se(this,e),this.comparator=t,this.root=n||Tu.EMPTY}return Ie(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Tu.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Tu.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Su(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Su(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Su(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Su(this.root,e,this.comparator,!0)}}]),e}(),Su=function(){function e(t,n,r,i){Se(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Ie(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Tu=function(){function e(t,n,r,i,a){Se(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Ie(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ya();if(this.right.isRed())throw Ya();var e=this.left.check();if(e!==this.right.check())throw Ya();return e+(this.isRed()?0:1)}}]),e}();Tu.EMPTY=null,Tu.RED=!0,Tu.BLACK=!1,Tu.EMPTY=new(function(){function e(){Se(this,e),this.size=0}return Ie(e,[{key:"key",get:function(){throw Ya()}},{key:"value",get:function(){throw Ya()}},{key:"color",get:function(){throw Ya()}},{key:"left",get:function(){throw Ya()}},{key:"right",get:function(){throw Ya()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Tu(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Iu=function(){function e(t){Se(this,e),this.comparator=t,this.data=new Eu(this.comparator)}return Ie(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Cu(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Cu(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Cu=function(){function e(t){Se(this,e),this.iter=t}return Ie(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Nu=new Eu(Fo.comparator);function Au(){return Nu}var Ru=new Eu(Fo.comparator);function Pu(){return Ru}var Ou=new Eu(Fo.comparator),Du=new Iu(Fo.comparator);function Lu(){for(var e=Du,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ju=new Iu(po);function Mu(){return ju}var Uu=function(){function e(t,n,r,i,a){Se(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Ie(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Fu.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(yo.min(),r,Mu(),Au(),Lu())}}]),e}(),Fu=function(){function e(t,n,r,i,a){Se(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Ie(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(To.EMPTY_BYTE_STRING,n,Lu(),Lu(),Lu())}}]),e}(),Vu=Ie((function e(t,n,r,i){Se(this,e),this.M=t,this.removedTargetIds=n,this.key=r,this.$=i})),qu=Ie((function e(t,n){Se(this,e),this.targetId=t,this.F=n})),zu=Ie((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:To.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Se(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Bu=function(){function e(){Se(this,e),this.B=0,this.L=Wu(),this.U=To.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return Ie(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Lu(),t=Lu(),n=Lu();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ya()}})),new Fu(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Wu()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Hu=function(){function e(t){Se(this,e),this.nt=t,this.st=new Map,this.it=Au(),this.rt=Ku(),this.ot=new Iu(po)}return Ie(e,[{key:"ct",value:function(e){var t,n=fe(e.M);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.at(r,e.key,e.$)}}catch(s){n.e(s)}finally{n.f()}var i,a=fe(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.$)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Ya()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(cs(i))if(0===n){var a=new Fo(i.path);this.at(t,a,rs.newNoDocument(a,yo.min()))}else Ja(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&cs(a.target)){var o=new Fo(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.at(i,o,rs.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Lu();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Uu(e,n,this.ot,this.it,r);return this.it=Au(),this.rt=Ku(),this.ot=new Iu(po),i}},{key:"ut",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Bu,this.st.set(e,t)),t}},{key:"Et",value:function(e){var t=this.rt.get(e);return t||(t=new Iu(po),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Ga("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Bu),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Ku(){return new Eu(Fo.comparator)}function Wu(){return new Eu(Fo.comparator)}var Gu={asc:"ASCENDING",desc:"DESCENDING"},Qu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$u=Ie((function e(t,n){Se(this,e),this.databaseId=t,this.N=n}));function Xu(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Yu(e,t){return e.N?t.toBase64():t.toUint8Array()}function Ju(e,t){return Xu(e,t.toTimestamp())}function Zu(e){return Ja(!!e),yo.fromTimestamp(function(e){var t=Co(e);return new mo(t.seconds,t.nanos)}(e))}function ec(e,t){return function(e){return new _o(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function tc(e){var t=_o.fromString(e);return Ja(wc(t)),t}function nc(e,t){return ec(e.databaseId,t.path)}function rc(e,t){var n=tc(t);if(n.get(1)!==e.databaseId.projectId)throw new to(eo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new to(eo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Fo(sc(n))}function ic(e,t){return ec(e.databaseId,t)}function ac(e){var t=tc(e);return 4===t.length?_o.emptyPath():sc(t)}function oc(e){return new _o(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sc(e){return Ja(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function uc(e,t,n){return{name:nc(e,t),fields:n.value.mapValue.fields}}function cc(e,t){var n;if(t instanceof hu)n={update:uc(e,t.key,t.value)};else if(t instanceof ku)n={delete:nc(e,t.key)};else if(t instanceof du)n={update:uc(e,t.key,t.data),updateMask:bc(t.fieldMask)};else{if(!(t instanceof bu))return Ya();n={verify:nc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Qs)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof $s)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ys)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Zs)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Ya()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ju(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ya()}(e,t.precondition)),n}function lc(e,t){return{documents:[ic(e,t.path)]}}function fc(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ic(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ic(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Jo(e.value))return{unaryFilter:{field:mc(e.field),op:"IS_NAN"}};if(Yo(e.value))return{unaryFilter:{field:mc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Jo(e.value))return{unaryFilter:{field:mc(e.field),op:"IS_NOT_NAN"}};if(Yo(e.value))return{unaryFilter:{field:mc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mc(e.field),op:vc(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:mc(e.field),direction:pc(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.N||jo(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function hc(e){var t=ac(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ja(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=dc(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new bs(yc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return jo(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new ks(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new ks(n,t)}(n.endAt)),Ss(t,i,s,o,u,"F",c,l)}function dc(e){return e?void 0!==e.unaryFilter?[kc(e)]:void 0!==e.fieldFilter?[gc(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return dc(e)})).reduce((function(e,t){return e.concat(t)})):Ya():[]}function pc(e){return Gu[e]}function vc(e){return Qu[e]}function mc(e){return{fieldPath:e.canonicalString()}}function yc(e){return Eo.fromServerFormat(e.fieldPath)}function gc(e){return ls.create(yc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ya()}}(e.fieldFilter.op),e.fieldFilter.value)}function kc(e){switch(e.unaryFilter.op){case"IS_NAN":var t=yc(e.unaryFilter.field);return ls.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=yc(e.unaryFilter.field);return ls.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=yc(e.unaryFilter.field);return ls.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=yc(e.unaryFilter.field);return ls.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ya()}}function bc(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function wc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function _c(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ec(t)),t=xc(e.get(n),t);return Ec(t)}function xc(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Ec(e){return e+"\x01\x01"}var Sc=Ie((function e(t,n,r){Se(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));Sc.store="owner",Sc.key="owner";var Tc=Ie((function e(t,n,r){Se(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Tc.store="mutationQueues",Tc.keyPath="userId";var Ic=Ie((function e(t,n,r,i,a){Se(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));Ic.store="mutations",Ic.keyPath="batchId",Ic.userMutationsIndex="userMutationsIndex",Ic.userMutationsKeyPath=["userId","batchId"];var Cc=function(){function e(){Se(this,e)}return Ie(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,_c(t)]}},{key:"key",value:function(e,t,n){return[e,_c(t),n]}}]),e}();Cc.store="documentMutations",Cc.PLACEHOLDER=new Cc;var Nc=Ie((function e(t,n,r,i,a,o){Se(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));Nc.store="remoteDocuments",Nc.readTimeIndex="readTimeIndex",Nc.readTimeIndexPath="readTime",Nc.collectionReadTimeIndex="collectionReadTimeIndex",Nc.collectionReadTimeIndexPath=["parentPath","readTime"];var Ac=Ie((function e(t){Se(this,e),this.byteSize=t}));Ac.store="remoteDocumentGlobal",Ac.key="remoteDocumentGlobalKey";var Rc=Ie((function e(t,n,r,i,a,o,s){Se(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));Rc.store="targets",Rc.keyPath="targetId",Rc.queryTargetsIndexName="queryTargetsIndex",Rc.queryTargetsKeyPath=["canonicalId","targetId"];var Pc=Ie((function e(t,n,r){Se(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Pc.store="targetDocuments",Pc.keyPath=["targetId","path"],Pc.documentTargetsIndex="documentTargetsIndex",Pc.documentTargetsKeyPath=["path","targetId"];var Oc=Ie((function e(t,n,r,i){Se(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Oc.key="targetGlobalKey",Oc.store="targetGlobal";var Dc=Ie((function e(t,n){Se(this,e),this.collectionId=t,this.parent=n}));Dc.store="collectionParents",Dc.keyPath=["collectionId","parent"];var Lc=Ie((function e(t,n,r,i){Se(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Lc.store="clientMetadata",Lc.keyPath="clientId";var jc=Ie((function e(t,n,r){Se(this,e),this.bundleId=t,this.createTime=n,this.version=r}));jc.store="bundles",jc.keyPath="bundleId";var Mc=Ie((function e(t,n,r){Se(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Mc.store="namedQueries",Mc.keyPath="name";var Uc=Ie((function e(t,n,r){Se(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r}));Uc.store="indexConfiguration",Uc.keyPath="indexId",Uc.collectionGroupIndex="collectionGroupIndex",Uc.collectionGroupIndexPath="collectionGroup";var Fc=Ie((function e(t,n,r,i,a,o){Se(this,e),this.indexId=t,this.uid=n,this.sequenceNumber=r,this.readTime=i,this.documentKey=a,this.largestBatchId=o}));Fc.store="indexState",Fc.keyPath=["indexId","uid"],Fc.sequenceNumberIndex="sequenceNumberIndex",Fc.sequenceNumberIndexPath=["uid","sequenceNumber"];var Vc=Ie((function e(t,n,r,i,a){Se(this,e),this.indexId=t,this.uid=n,this.arrayValue=r,this.directionalValue=i,this.documentKey=a}));Vc.store="indexEntries",Vc.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],Vc.documentKeyIndex="documentKeyIndex",Vc.documentKeyIndexPath=["indexId","uid","documentKey"];var qc=Ie((function e(t,n,r,i,a,o){Se(this,e),this.userId=t,this.collectionPath=n,this.documentId=r,this.collectionGroup=i,this.largestBatchId=a,this.overlayMutation=o}));qc.store="documentOverlays",qc.keyPath=["userId","collectionPath","documentId"],qc.collectionPathOverlayIndex="collectionPathOverlayIndex",qc.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],qc.collectionGroupOverlayIndex="collectionGroupOverlayIndex",qc.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];var zc=[Tc.store,Ic.store,Cc.store,Nc.store,Rc.store,Sc.store,Oc.store,Pc.store].concat([Lc.store]).concat([Ac.store]).concat([Dc.store]).concat([jc.store,Mc.store]),Bc=[].concat(X(zc),[qc.store]),Hc=([].concat(X(Bc),[Uc.store,Fc.store,Vc.store]),"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."),Kc=function(){function e(){Se(this,e),this.onCommittedListeners=[]}return Ie(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Wc=function(){function e(t){var n=this;Se(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Ie(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ya(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=fe(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}();function Gc(e){return"IndexedDbTransactionError"===e.name}var Qc=function(){function e(t,n,r,i){Se(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Ie(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&su(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=fe(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&uu(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=fe(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&uu(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(yo.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Lu())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,(function(e,t){return lu(e,t)}))&&vo(this.baseMutations,e.baseMutations,(function(e,t){return lu(e,t)}))}}]),e}(),$c=function(){function e(t,n,r,i){Se(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Ie(e,null,[{key:"from",value:function(t,n,r){Ja(t.mutations.length===r.length);for(var i=Ou,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Xc=function(){function e(t,n){Se(this,e),this.largestBatchId=t,this.mutation=n}return Ie(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Yc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:yo.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:yo.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:To.EMPTY_BYTE_STRING;Se(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return Ie(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Jc=Ie((function e(t){Se(this,e),this.Ht=t}));function Zc(e){var t=hc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ds(t,t.limit,"L"):t}var el=function(){function e(){Se(this,e)}return Ie(e,[{key:"Xt",value:function(e,t){this.Zt(e,t),t.te()}},{key:"Zt",value:function(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(No(e.integerValue));else if("doubleValue"in e){var n=No(e.doubleValue);isNaN(n)?this.ee(t,13):(this.ee(t,15),Mo(n)?t.ne(0):t.ne(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se("".concat(r.seconds||"")),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(Ao(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ee(t,45),t.ne(i.latitude||0),t.ne(i.longitude||0)}else"mapValue"in e?zo(e,Vo)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):Ya()}},{key:"ie",value:function(e,t){this.ee(t,25),this.he(e,t)}},{key:"he",value:function(e,t){t.se(e)}},{key:"ue",value:function(e,t){var n=e.fields||{};this.ee(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ie(a,t),this.Zt(n[a],t)}}},{key:"ae",value:function(e,t){var n=e.values||[];this.ee(t,50);var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Zt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ce",value:function(e,t){var n=this;this.ee(t,37),Fo.fromName(e).path.forEach((function(e){n.ee(t,60),n.he(e,t)}))}},{key:"ee",value:function(e,t){e.ne(t)}},{key:"re",value:function(e){e.ne(2)}}]),e}();el.le=new el;var tl=function(){function e(){Se(this,e),this.xe=new nl}return Ie(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.xe.add(t),Wc.resolve()}},{key:"getCollectionParents",value:function(e,t){return Wc.resolve(this.xe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Wc.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Wc.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return Wc.resolve(Lu())}},{key:"getFieldIndex",value:function(e,t){return Wc.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return Wc.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Wc.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return Wc.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Wc.resolve()}}]),e}(),nl=function(){function e(){Se(this,e),this.index={}}return Ie(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Iu(_o.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Iu(_o.comparator)).toArray()}}]),e}();var rl=function(){function e(t,n,r){Se(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Ie(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();rl.DEFAULT_COLLECTION_PERCENTILE=10,rl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rl.DEFAULT=new rl(41943040,rl.DEFAULT_COLLECTION_PERCENTILE,rl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rl.DISABLED=new rl(-1,0,0);var il=function(){function e(t){Se(this,e),this.ze=t}return Ie(e,[{key:"next",value:function(){return this.ze+=2,this.ze}}],[{key:"He",value:function(){return new e(0)}},{key:"Je",value:function(){return new e(-1)}}]),e}();function al(e){return ol.apply(this,arguments)}function ol(){return ol=le(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===eo.FAILED_PRECONDITION&&t.message===Hc){e.next=2;break}throw t;case 2:Ga("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ol.apply(this,arguments)}var sl=function(){function e(t,n){Se(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Ie(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),s=a[0],u=a[1];if(this.equalsFn(s,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){ko(this.inner,(function(t,n){var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),s=a[0],u=a[1];e(s,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return bo(this.inner)}}]),e}(),ul=function(){function e(){Se(this,e),this.changes=new sl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Ie(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,rs.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Wc.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var cl=function(){function e(t,n,r){Se(this,e),this.qn=t,this.gs=n,this.indexManager=r}return Ie(e,[{key:"ys",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.ps(e,t,r)}))}},{key:"ps",value:function(e,t,n){return this.qn.getEntry(e,t).next((function(e){var t,r=fe(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Is",value:function(e,t){e.forEach((function(e,n){var r,i=fe(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Es",value:function(e,t){var n=this;return this.qn.getEntries(e,t).next((function(t){return n.Ts(e,t).next((function(){return t}))}))}},{key:"Ts",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Is(t,e)}))}},{key:"As",value:function(e,t,n){return function(e){return Fo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Rs(e,t.path):Rs(t)?this.Ps(e,t,n):this.bs(e,t,n)}},{key:"Rs",value:function(e,t){return this.ys(e,new Fo(t)).next((function(e){var t=Pu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ps",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Pu();return this.indexManager.getCollectionParents(e,i).next((function(o){return Wc.forEach(o,(function(o){var s=function(e,t){return new Es(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.bs(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"bs",value:function(e,t,n){var r,i=this;return this.qn.getAll(e,t.path,n).next((function(n){return r=n,i.gs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=fe(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=fe(a.mutations);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.key,c=r.get(u);null==c&&(c=rs.newInvalidDocument(u),r=r.insert(u,c)),uu(s,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Us(t,n)||(r=r.remove(e))})),r}))}}]),e}(),ll=function(){function e(t,n,r,i){Se(this,e),this.targetId=t,this.fromCache=n,this.vs=r,this.Vs=i}return Ie(e,null,[{key:"Ss",value:function(t,n){var r,i=Lu(),a=Lu(),o=fe(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),fl=function(){function e(){Se(this,e)}return Ie(e,[{key:"Ds",value:function(e){this.Cs=e}},{key:"As",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(yo.min())?this.Ns(e,t):this.Cs.Es(e,r).next((function(a){var o=i.xs(t,a);return(Is(t)||Cs(t))&&i.ks(t.limitType,o,r,n)?i.Ns(e,t):(Wa()<=et.DEBUG&&Ga("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ms(t)),i.Cs.As(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"xs",value:function(e,t){var n=new Iu(Fs(e));return t.forEach((function(t,r){Us(e,r)&&(n=n.add(r))})),n}},{key:"ks",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ns",value:function(e,t){return Wa()<=et.DEBUG&&Ga("QueryEngine","Using full collection scan to execute query:",Ms(t)),this.Cs.As(e,t,yo.min())}}]),e}(),hl=function(){function e(t,n,r,i){Se(this,e),this.persistence=t,this.Os=n,this.O=i,this.Ms=new Eu(po),this.$s=new sl((function(e){return ss(e)}),us),this.Fs=yo.min(),this.Bs=t.getRemoteDocumentCache(),this.Un=t.getTargetCache(),this.Kn=t.getBundleCache(),this.Ls(r)}return Ie(e,[{key:"Ls",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new cl(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ms)}))}}]),e}();function dl(e,t,n,r){return new hl(e,t,n,r)}function pl(e,t){return vl.apply(this,arguments)}function vl(){return vl=le(de().mark((function e(t,n){var r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Za(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.gs.getAllMutationBatches(e).next((function(i){return t=i,r.Ls(n),r.gs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Lu(),u=fe(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=fe(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=fe(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=fe(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.Us.Es(e,s).next((function(e){return{qs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),vl.apply(this,arguments)}function ml(e,t){var n=Za(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Wc.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Ja(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.gs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}function yl(e){var t=Za(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Un.getLastRemoteSnapshotVersion(e)}))}function gl(e,t){var n=Za(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.Ms;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Un.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Un.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(To.EMPTY_BYTE_STRING,yo.min()).withLastLimboFreeSnapshotVersion(yo.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Un.updateTargetData(e,c))}}));var s=Au();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(kl(e,a,t.documentUpdates).next((function(e){s=e}))),!r.isEqual(yo.min())){var u=n.Un.getLastRemoteSnapshotVersion(e).next((function(t){return n.Un.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return Wc.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Us.Ts(e,s)})).next((function(){return s}))})).then((function(e){return n.Ms=i,e}))}function kl(e,t,n){var r=Lu();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Au();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(yo.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Ga("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function bl(e,t){var n=Za(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.gs.getNextMutationBatchAfterBatchId(e,t)}))}function wl(e,t){var n=Za(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Un.getTargetData(e,t).next((function(i){return i?(r=i,Wc.resolve(r)):n.Un.allocateTargetId(e).next((function(i){return r=new Yc(t,i,0,e.currentSequenceNumber),n.Un.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.$s.set(t,e.targetId)),e}))}function _l(e,t,n){return xl.apply(this,arguments)}function xl(){return xl=le(de().mark((function e(t,n,r){var i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Za(t),a=i.Ms.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Gc(e.t1)){e.next=12;break}throw e.t1;case 12:Ga("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ms=i.Ms.remove(n),i.$s.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),xl.apply(this,arguments)}function El(e,t,n){var r=Za(e),i=yo.min(),a=Lu();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Za(e),i=r.$s.get(n);return void 0!==i?Wc.resolve(r.Ms.get(i)):r.Un.getTargetData(t,n)}(r,e,Os(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Os.As(e,t,n?i:yo.min(),n?a:Lu())})).next((function(e){return{documents:e,Ks:a}}))}))}var Sl=function(){function e(t){Se(this,e),this.O=t,this.Ws=new Map,this.zs=new Map}return Ie(e,[{key:"getBundleMetadata",value:function(e,t){return Wc.resolve(this.Ws.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Ws.set(t.id,{id:(n=t).id,version:n.version,createTime:Zu(n.createTime)}),Wc.resolve()}},{key:"getNamedQuery",value:function(e,t){return Wc.resolve(this.zs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.zs.set(t.name,function(e){return{name:e.name,query:Zc(e.bundledQuery),readTime:Zu(e.readTime)}}(t)),Wc.resolve()}}]),e}(),Tl=function(){function e(){Se(this,e),this.overlays=new Eu(Fo.comparator),this.Hs=new Map}return Ie(e,[{key:"getOverlay",value:function(e,t){return Wc.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n){r.Yt(e,t,n)})),Wc.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Hs.delete(n)),Wc.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=new Map,i=t.length+1,a=new Fo(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Wc.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Eu((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=new Map,i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=new Map,c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(t,e)})),!(u.size>=r)););return Wc.resolve(u)}},{key:"Yt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);null!==r&&this.Hs.get(r.largestBatchId).delete(n.key),this.overlays=this.overlays.insert(n.key,new Xc(t,n));var i=this.Hs.get(t);void 0===i&&(i=new Set,this.Hs.set(t,i)),i.add(n.key)}}}]),e}(),Il=function(){function e(){Se(this,e),this.Js=new Iu(Cl.Ys),this.Xs=new Iu(Cl.Zs)}return Ie(e,[{key:"isEmpty",value:function(){return this.Js.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Cl(e,t);this.Js=this.Js.add(n),this.Xs=this.Xs.add(n)}},{key:"ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ei(new Cl(e,t))}},{key:"ni",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"si",value:function(e){var t=this,n=new Fo(new _o([])),r=new Cl(n,e),i=new Cl(n,e+1),a=[];return this.Xs.forEachInRange([r,i],(function(e){t.ei(e),a.push(e.key)})),a}},{key:"ii",value:function(){var e=this;this.Js.forEach((function(t){return e.ei(t)}))}},{key:"ei",value:function(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}},{key:"ri",value:function(e){var t=new Fo(new _o([])),n=new Cl(t,e),r=new Cl(t,e+1),i=Lu();return this.Xs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Cl(e,0),n=this.Js.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Cl=function(){function e(t,n){Se(this,e),this.key=t,this.oi=n}return Ie(e,null,[{key:"Ys",value:function(e,t){return Fo.comparator(e.key,t.key)||po(e.oi,t.oi)}},{key:"Zs",value:function(e,t){return po(e.oi,t.oi)||Fo.comparator(e.key,t.key)}}]),e}(),Nl=function(){function e(t,n){Se(this,e),this.indexManager=t,this.referenceDelegate=n,this.gs=[],this.ci=1,this.ui=new Iu(Cl.Ys)}return Ie(e,[{key:"checkEmpty",value:function(e){return Wc.resolve(0===this.gs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ci;this.ci++,this.gs.length>0&&this.gs[this.gs.length-1];var a=new Qc(i,t,n,r);this.gs.push(a);var o,s=fe(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ui=this.ui.add(new Cl(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Wc.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Wc.resolve(this.ai(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.hi(n),i=r<0?0:r;return Wc.resolve(this.gs.length>i?this.gs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Wc.resolve(0===this.gs.length?-1:this.ci-1)}},{key:"getAllMutationBatches",value:function(e){return Wc.resolve(this.gs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Cl(t,0),i=new Cl(t,Number.POSITIVE_INFINITY),a=[];return this.ui.forEachInRange([r,i],(function(e){var t=n.ai(e.oi);a.push(t)})),Wc.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Iu(po);return t.forEach((function(e){var t=new Cl(e,0),i=new Cl(e,Number.POSITIVE_INFINITY);n.ui.forEachInRange([t,i],(function(e){r=r.add(e.oi)}))})),Wc.resolve(this.li(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Fo.isDocumentKey(i)||(i=i.child(""));var a=new Cl(new Fo(i),0),o=new Iu(po);return this.ui.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.oi)),!0)}),a),Wc.resolve(this.li(o))}},{key:"li",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ai(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Ja(0===this.fi(t.batchId,"removed")),this.gs.shift();var r=this.ui;return Wc.forEach(t.mutations,(function(i){var a=new Cl(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ui=r}))}},{key:"Qe",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Cl(t,0),r=this.ui.firstAfterOrEqual(n);return Wc.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.gs.length,Wc.resolve()}},{key:"fi",value:function(e,t){return this.hi(e)}},{key:"hi",value:function(e){return 0===this.gs.length?0:e-this.gs[0].batchId}},{key:"ai",value:function(e){var t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}]),e}(),Al=function(){function e(t){Se(this,e),this.di=t,this.docs=new Eu(Fo.comparator),this.size=0}return Ie(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.di(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Wc.resolve(n?n.document.mutableCopy():rs.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Au();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():rs.newInvalidDocument(e))})),Wc.resolve(r)}},{key:"getAll",value:function(e,t,n){for(var r=Au(),i=new Fo(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||u.readTime.compareTo(n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return Wc.resolve(r)}},{key:"_i",value:function(e,t){return Wc.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Rl(this)}},{key:"getSize",value:function(e){return Wc.resolve(this.size)}}]),e}(),Rl=function(e){be(n,e);var t=Ee(n);function n(e){var r;return Se(this,n),(r=t.call(this)).Tn=e,r}return Ie(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Tn.addEntry(e,i)):t.Tn.removeEntry(r)})),Wc.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Tn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Tn.getEntries(e,t)}}]),n}(ul),Pl=function(){function e(t){Se(this,e),this.persistence=t,this.wi=new sl((function(e){return ss(e)}),us),this.lastRemoteSnapshotVersion=yo.min(),this.highestTargetId=0,this.mi=0,this.gi=new Il,this.targetCount=0,this.yi=il.He()}return Ie(e,[{key:"forEachTarget",value:function(e,t){return this.wi.forEach((function(e,n){return t(n)})),Wc.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Wc.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Wc.resolve(this.mi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.yi.next(),Wc.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.mi&&(this.mi=t),Wc.resolve()}},{key:"Ze",value:function(e){this.wi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.yi=new il(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ze(t),this.targetCount+=1,Wc.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ze(t),Wc.resolve()}},{key:"removeTargetData",value:function(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,Wc.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.wi.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.wi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Wc.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Wc.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.wi.get(t)||null;return Wc.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.gi.ti(t,n),Wc.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.gi.ni(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Wc.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.gi.si(t),Wc.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.gi.ri(t);return Wc.resolve(n)}},{key:"containsKey",value:function(e,t){return Wc.resolve(this.gi.containsKey(t))}}]),e}(),Ol=function(){function e(t,n){var r=this;Se(this,e),this.pi={},this.overlays={},this.Nn=new lo(0),this.xn=!1,this.xn=!0,this.referenceDelegate=t(this),this.Un=new Pl(this),this.indexManager=new tl,this.qn=new Al((function(e){return r.referenceDelegate.Ii(e)})),this.O=new Jc(n),this.Kn=new Sl(this.O)}return Ie(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xn=!1,Promise.resolve()}},{key:"started",get:function(){return this.xn}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Tl,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.pi[e.toKey()];return n||(n=new Nl(t,this.referenceDelegate),this.pi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;Ga("MemoryPersistence","Starting transaction:",e);var i=new Dl(this.Nn.next());return this.referenceDelegate.Ei(),n(i).next((function(e){return r.referenceDelegate.Ti(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ai",value:function(e,t){return Wc.or(Object.values(this.pi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Dl=function(e){be(n,e);var t=Ee(n);function n(e){var r;return Se(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Ie(n)}(Kc),Ll=function(){function e(t){Se(this,e),this.persistence=t,this.Ri=new Il,this.Pi=null}return Ie(e,[{key:"vi",get:function(){if(this.Pi)return this.Pi;throw Ya()}},{key:"addReference",value:function(e,t,n){return this.Ri.addReference(n,t),this.vi.delete(n.toString()),Wc.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ri.removeReference(n,t),this.vi.add(n.toString()),Wc.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.vi.add(t.toString()),Wc.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ri.si(t.targetId).forEach((function(e){return n.vi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ei",value:function(){this.Pi=new Set}},{key:"Ti",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wc.forEach(this.vi,(function(r){var i=Fo.fromPath(r);return t.Vi(e,i).next((function(e){e||n.removeEntry(i,yo.min())}))})).next((function(){return t.Pi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Vi(e,t).next((function(e){e?n.vi.delete(t.toString()):n.vi.add(t.toString())}))}},{key:"Ii",value:function(e){return 0}},{key:"Vi",value:function(e,t){var n=this;return Wc.or([function(){return Wc.resolve(n.Ri.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ai(e,t)}])}}],[{key:"bi",value:function(t){return new e(t)}}]),e}();var jl=function(){function e(){Se(this,e),this.activeTargetIds=Mu()}return Ie(e,[{key:"Ci",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ni",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Di",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Ml=function(){function e(){Se(this,e),this._r=new jl,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Ie(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this._r.Ci(e),this.wr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.wr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this._r.Ni(e)}},{key:"isLocalQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.wr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this._r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"start",value:function(){return this._r=new jl,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Ul=function(){function e(){Se(this,e)}return Ie(e,[{key:"mr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Fl=function(){function e(){var t=this;Se(this,e),this.gr=function(){return t.yr()},this.pr=function(){return t.Ir()},this.Er=[],this.Tr()}return Ie(e,[{key:"mr",value:function(e){this.Er.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}},{key:"Tr",value:function(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}},{key:"yr",value:function(){Ga("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=fe(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ir",value:function(){Ga("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=fe(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Vl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ql=function(){function e(t){Se(this,e),this.Ar=t.Ar,this.Rr=t.Rr}return Ie(e,[{key:"Pr",value:function(e){this.br=e}},{key:"vr",value:function(e){this.Vr=e}},{key:"onMessage",value:function(e){this.Sr=e}},{key:"close",value:function(){this.Rr()}},{key:"send",value:function(e){this.Ar(e)}},{key:"Dr",value:function(){this.br()}},{key:"Cr",value:function(e){this.Vr(e)}},{key:"Nr",value:function(e){this.Sr(e)}}]),e}(),zl=function(e){be(n,e);var t=Ee(n);function n(e){var r;return Se(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Ie(n,[{key:"Br",value:function(e,t,n,r){return new Promise((function(i,a){var o=new qa;o.listenOnce(ja.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case La.NO_ERROR:var t=o.getResponseJson();Ga("Connection","XHR received:",JSON.stringify(t)),i(t);break;case La.TIMEOUT:Ga("Connection",'RPC "'+e+'" timed out'),a(new to(eo.DEADLINE_EXCEEDED,"Request time out"));break;case La.HTTP_ERROR:var n=o.getStatus();if(Ga("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(eo).indexOf(t)>=0?t:eo.UNKNOWN}(r.status);a(new to(s,r.message))}else a(new to(eo.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new to(eo.UNAVAILABLE,"Connection failed."));break;default:Ya()}}finally{Ga("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Ur",value:function(e,t,n){var r=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Oa(),a=Da(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Fa({})),this.Fr(o.initMessageHeaders,t,n),De()||je()||Oe().indexOf("Electron/")>=0||Me()||Oe().indexOf("MSAppHost/")>=0||Le()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");Ga("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new ql({Ar:function(e){l?Ga("Connection","Not sending because WebChannel is closed:",e):(c||(Ga("Connection","Opening WebChannel transport."),u.open(),c=!0),Ga("Connection","WebChannel sending:",e),u.send(e))},Rr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,Va.EventType.OPEN,(function(){l||Ga("Connection","WebChannel transport opened.")})),h(u,Va.EventType.CLOSE,(function(){l||(l=!0,Ga("Connection","WebChannel transport closed"),f.Cr())})),h(u,Va.EventType.ERROR,(function(e){l||(l=!0,$a("Connection","WebChannel transport errored:",e),f.Cr(new to(eo.UNAVAILABLE,"The operation could not be completed")))})),h(u,Va.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Ja(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ga("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=yu[e];if(void 0!==t)return xu(t)}(a),s=i.message;void 0===o&&(o=eo.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Cr(new to(o,s)),u.close()}else Ga("Connection","WebChannel received:",n),f.Nr(n)}})),h(a,Ma.STAT_EVENT,(function(e){e.stat===Ua.PROXY?Ga("Connection","Detected buffering proxy"):e.stat===Ua.NOPROXY&&Ga("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Dr()}),0),f}}]),n}(function(){function e(t){Se(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.kr=n+"://"+t.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Ie(e,[{key:"Mr",value:function(e,t,n,r,i){var a=this.$r(e,t);Ga("RestConnection","Sending: ",a,n);var o={};return this.Fr(o,r,i),this.Br(e,a,o,n).then((function(e){return Ga("RestConnection","Received: ",e),e}),(function(t){throw $a("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"Lr",value:function(e,t,n,r,i){return this.Mr(e,t,n,r,i)}},{key:"Fr",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ha,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"$r",value:function(e,t){var n=Vl[e];return"".concat(this.kr,"/v1/").concat(t,":").concat(n)}}]),e}());function Bl(){return"undefined"!=typeof document?document:null}function Hl(e){return new $u(e,!0)}var Kl=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Se(this,e),this.Sn=t,this.timerId=n,this.qr=r,this.Kr=i,this.Gr=a,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}return Ie(e,[{key:"reset",value:function(){this.jr=0}},{key:"zr",value:function(){this.jr=this.Gr}},{key:"Hr",value:function(e){var t=this;this.cancel();var n=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,n-r);i>0&&Ga("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.jr," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,(function(){return t.Wr=Date.now(),e()})),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}},{key:"Yr",value:function(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}},{key:"cancel",value:function(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}},{key:"Jr",value:function(){return(Math.random()-.5)*this.jr}}]),e}(),Wl=function(){function e(t,n,r,i,a,o,s,u){Se(this,e),this.Sn=t,this.Xr=r,this.Zr=i,this.eo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new Kl(t,n)}return Ie(e,[{key:"oo",value:function(){return 1===this.state||5===this.state||this.co()}},{key:"co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.uo()}},{key:"stop",value:function(){var e=le(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ao",value:function(){this.state=0,this.ro.reset()}},{key:"ho",value:function(){var e=this;this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,(function(){return e.lo()})))}},{key:"fo",value:function(e){this._o(),this.stream.send(e)}},{key:"lo",value:function(){var e=le(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_o",value:function(){this.so&&(this.so.cancel(),this.so=null)}},{key:"wo",value:function(){this.io&&(this.io.cancel(),this.io=null)}},{key:"close",value:function(){var e=le(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._o(),this.wo(),this.ro.cancel(),this.no++,4!==t?this.ro.reset():n&&n.code===eo.RESOURCE_EXHAUSTED?(Qa(n.toString()),Qa("Using maximum backoff delay to prevent overloading the backend."),this.ro.zr()):n&&n.code===eo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.mo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.vr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.yo(this.no),n=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=o(t,2),i=r[0],a=r[1];e.no===n&&e.po(i,a)}),(function(n){t((function(){var t=new to(eo.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Io(t)}))}))}},{key:"po",value:function(e,t){var n=this,r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr((function(){r((function(){return n.state=2,n.io=n.Sn.enqueueAfterDelay(n.Zr,1e4,(function(){return n.co()&&(n.state=3),Promise.resolve()})),n.listener.Pr()}))})),this.stream.vr((function(e){r((function(){return n.Io(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"uo",value:function(){var e=this;this.state=5,this.ro.Hr(le(de().mark((function t(){return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Io",value:function(e){return Ga("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"yo",value:function(e){var t=this;return function(n){t.Sn.enqueueAndForget((function(){return t.no===e?n():(Ga("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Gl=function(e){be(n,e);var t=Ee(n);function n(e,r,i,a,o,s){var u;return Se(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).O=o,u}return Ie(n,[{key:"Eo",value:function(e,t){return this.eo.Ur("Listen",e,t)}},{key:"onMessage",value:function(e){this.ro.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ya()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Ja(void 0===t||"string"==typeof t),To.fromBase64String(t||"")):(Ja(void 0===t||t instanceof Uint8Array),To.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?eo.UNKNOWN:xu(e.code);return new to(t,e.message||"")}(o);n=new zu(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=rc(e,u.document.name),l=Zu(u.document.updateTime),f=new ts({mapValue:{fields:u.document.fields}}),h=rs.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Vu(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=rc(e,v.document),y=v.readTime?Zu(v.readTime):yo.min(),g=rs.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Vu([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=rc(e,b.document),_=b.removedTargetIds||[];n=new Vu([],_,w,null)}else{if(!("filter"in t))return Ya();t.filter;var x=t.filter;x.targetId;var E=x.count||0,S=new wu(E),T=x.targetId;n=new qu(T,S)}return n}(this.O,e),n=function(e){if(!("targetChange"in e))return yo.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?yo.min():t.readTime?Zu(t.readTime):yo.min()}(e);return this.listener.To(t,n)}},{key:"Ao",value:function(e){var t={};t.database=oc(this.O),t.addTarget=function(e,t){var n,r=t.target;return(n=cs(r)?{documents:lc(e,r)}:{query:fc(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Yu(e,t.resumeToken):t.snapshotVersion.compareTo(yo.min())>0&&(n.readTime=Xu(e,t.snapshotVersion.toTimestamp())),n}(this.O,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ya()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.O,e);n&&(t.labels=n),this.fo(t)}},{key:"Ro",value:function(e){var t={};t.database=oc(this.O),t.removeTarget=e,this.fo(t)}}]),n}(Wl),Ql=function(e){be(n,e);var t=Ee(n);function n(e,r,i,a,o,s){var u;return Se(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).O=o,u.Po=!1,u}return Ie(n,[{key:"bo",get:function(){return this.Po}},{key:"start",value:function(){this.Po=!1,this.lastStreamToken=void 0,ke(ye(n.prototype),"start",this).call(this)}},{key:"mo",value:function(){this.Po&&this.vo([])}},{key:"Eo",value:function(e,t){return this.eo.Ur("Write",e,t)}},{key:"onMessage",value:function(e){if(Ja(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();var t=function(e,t){return e&&e.length>0?(Ja(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Zu(e.updateTime):Zu(t);return n.isEqual(yo.min())&&(n=Zu(t)),new ru(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Zu(e.commitTime);return this.listener.Vo(n,t)}return Ja(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}},{key:"Do",value:function(){var e={};e.database=oc(this.O),this.fo(e)}},{key:"vo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return cc(t.O,e)}))};this.fo(n)}}]),n}(Wl),$l=function(e){be(n,e);var t=Ee(n);function n(e,r,i,a){var o;return Se(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.eo=i,o.O=a,o.Co=!1,o}return Ie(n,[{key:"No",value:function(){if(this.Co)throw new to(eo.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Mr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),s=a[0],u=a[1];return r.eo.Mr(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===eo.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new to(eo.UNKNOWN,e.toString())}))}},{key:"Lr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),s=a[0],u=a[1];return r.eo.Lr(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===eo.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new to(eo.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Co=!0}}]),n}(function(){return Ie((function e(){Se(this,e)}))}()),Xl=function(){function e(t,n){Se(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}return Ie(e,[{key:"Mo",value:function(){var e=this;0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ko=null,e.Fo("Backend didn't respond within 10 seconds."),e.$o("Offline"),Promise.resolve()})))}},{key:"Bo",value:function(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.$o("Offline")))}},{key:"set",value:function(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}},{key:"$o",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"Fo",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Oo?(Qa(t),this.Oo=!1):Ga("OnlineStateTracker",t)}},{key:"Lo",value:function(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}]),e}(),Yl=Ie((function e(t,n,r,i,a){var o=this;Se(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=a,this.jo.mr((function(e){r.enqueueAndForget(le(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=cf(o),!e.t0){e.next=5;break}return Ga("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=le(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Za(t)).Ko.add(4),e.next=4,ef(n);case 4:return n.Qo.set("Unknown"),n.Ko.delete(4),e.next=8,Jl(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Qo=new Xl(r,i)}));function Jl(e){return Zl.apply(this,arguments)}function Zl(){return Zl=le(de().mark((function e(t){var n,r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!cf(t)){e.next=18;break}n=fe(t.Go),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Zl.apply(this,arguments)}function ef(e){return tf.apply(this,arguments)}function tf(){return tf=le(de().mark((function e(t){var n,r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fe(t.Go),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),tf.apply(this,arguments)}function nf(e,t){var n=Za(e);n.qo.has(t.targetId)||(n.qo.set(t.targetId,t),uf(n)?sf(n):Uf(n).co()&&af(n,t))}function rf(e,t){var n=Za(e),r=Uf(n);n.qo.delete(t),r.co()&&of(n,t),0===n.qo.size&&(r.co()?r.ho():cf(n)&&n.Qo.set("Unknown"))}function af(e,t){e.Wo.Z(t.targetId),Uf(e).Ao(t)}function of(e,t){e.Wo.Z(t),Uf(e).Ro(t)}function sf(e){e.Wo=new Hu({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Tt:function(t){return e.qo.get(t)||null}}),Uf(e).start(),e.Qo.Mo()}function uf(e){return cf(e)&&!Uf(e).oo()&&e.qo.size>0}function cf(e){return 0===Za(e).Ko.size}function lf(e){e.Wo=void 0}function ff(e){return hf.apply(this,arguments)}function hf(){return hf=le(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.qo.forEach((function(e,n){af(t,e)}));case 1:case"end":return e.stop()}}),e)}))),hf.apply(this,arguments)}function df(e,t){return pf.apply(this,arguments)}function pf(){return pf=le(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:lf(t),uf(t)?(t.Qo.Bo(n),sf(t)):t.Qo.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),pf.apply(this,arguments)}function vf(e,t,n){return mf.apply(this,arguments)}function mf(){return mf=le(de().mark((function e(t,n,r){var i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Qo.set("Online"),!(n instanceof zu&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=le(de().mark((function e(t,n){var r,i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=fe(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.qo.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.qo.delete(o),t.Wo.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ga("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,yf(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Vu?t.Wo.ct(n):n instanceof qu?t.Wo._t(n):t.Wo.ht(n),r.isEqual(yo.min())){e.next=29;break}return e.prev=14,e.next=17,yl(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Wo.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.qo.get(r);i&&e.qo.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.qo.get(t);if(n){e.qo.set(t,n.withResumeToken(To.EMPTY_BYTE_STRING,n.snapshotVersion)),of(e,t);var r=new Yc(n.target,t,1,n.sequenceNumber);af(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ga("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,yf(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),mf.apply(this,arguments)}function yf(e,t,n){return gf.apply(this,arguments)}function gf(){return gf=le(de().mark((function e(t,n,r){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gc(n)){e.next=2;break}throw n;case 2:return t.Ko.add(1),e.next=5,ef(t);case 5:t.Qo.set("Offline"),r||(r=function(){return yl(t.localStore)}),t.asyncQueue.enqueueRetryable(le(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ga("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Ko.delete(1),e.next=6,Jl(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),gf.apply(this,arguments)}function kf(e,t){return t().catch((function(n){return yf(e,n,t)}))}function bf(e){return wf.apply(this,arguments)}function wf(){return wf=le(de().mark((function e(t){var n,r,i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Za(t),r=Ff(n),i=n.Uo.length>0?n.Uo[n.Uo.length-1].batchId:-1;case 2:if(!_f(n)){e.next=19;break}return e.prev=3,e.next=6,bl(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Uo.length&&r.ho(),e.abrupt("break",19);case 10:i=a.batchId,xf(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,yf(n,e.t0);case 17:e.next=2;break;case 19:Ef(n)&&Sf(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),wf.apply(this,arguments)}function _f(e){return cf(e)&&e.Uo.length<10}function xf(e,t){e.Uo.push(t);var n=Ff(e);n.co()&&n.bo&&n.vo(t.mutations)}function Ef(e){return cf(e)&&!Ff(e).oo()&&e.Uo.length>0}function Sf(e){Ff(e).start()}function Tf(e){return If.apply(this,arguments)}function If(){return If=le(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ff(t).Do();case 1:case"end":return e.stop()}}),e)}))),If.apply(this,arguments)}function Cf(e){return Nf.apply(this,arguments)}function Nf(){return Nf=le(de().mark((function e(t){var n,r,i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ff(t),r=fe(t.Uo);try{for(r.s();!(i=r.n()).done;)a=i.value,n.vo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Nf.apply(this,arguments)}function Af(e,t,n){return Rf.apply(this,arguments)}function Rf(){return Rf=le(de().mark((function e(t,n,r){var i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Uo.shift(),a=$c.from(i,n,r),e.next=3,kf(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,bf(t);case 5:case"end":return e.stop()}}),e)}))),Rf.apply(this,arguments)}function Pf(e,t){return Of.apply(this,arguments)}function Of(){return Of=le(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Ff(t).bo,!e.t0){e.next=4;break}return e.next=4,function(){var e=le(de().mark((function e(t,n){var r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_u(i=n.code)||i===eo.ABORTED){e.next=7;break}return r=t.Uo.shift(),Ff(t).ao(),e.next=5,kf(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,bf(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Ef(t)&&Sf(t);case 5:case"end":return e.stop()}}),e)}))),Of.apply(this,arguments)}function Df(e,t){return Lf.apply(this,arguments)}function Lf(){return Lf=le(de().mark((function e(t,n){var r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Za(t)).asyncQueue.verifyOperationInProgress(),Ga("RemoteStore","RemoteStore received new credentials"),i=cf(r),r.Ko.add(3),e.next=6,ef(r);case 6:return i&&r.Qo.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Ko.delete(3),e.next=12,Jl(r);case 12:case"end":return e.stop()}}),e)}))),Lf.apply(this,arguments)}function jf(e,t){return Mf.apply(this,arguments)}function Mf(){return Mf=le(de().mark((function e(t,n){var r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Za(t),!n){e.next=7;break}return r.Ko.delete(2),e.next=5,Jl(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Ko.add(2),e.next=12,ef(r);case 12:r.Qo.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Mf.apply(this,arguments)}function Uf(e){return e.zo||(e.zo=function(e,t,n){var r=Za(e);return r.No(),new Gl(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:ff.bind(null,e),vr:df.bind(null,e),To:vf.bind(null,e)}),e.Go.push(function(){var t=le(de().mark((function t(n){return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.zo.ao(),uf(e)?sf(e):e.Qo.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.zo.stop();case 6:lf(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.zo}function Ff(e){return e.Ho||(e.Ho=function(e,t,n){var r=Za(e);return r.No(),new Ql(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:Tf.bind(null,e),vr:Pf.bind(null,e),So:Cf.bind(null,e),Vo:Af.bind(null,e)}),e.Go.push(function(){var t=le(de().mark((function t(n){return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Ho.ao(),t.next=4,bf(e);case 4:t.next=9;break;case 6:return t.next=8,e.Ho.stop();case 8:e.Uo.length>0&&(Ga("RemoteStore","Stopping write stream with ".concat(e.Uo.length," pending writes")),e.Uo=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Ho}var Vf=function(){function e(t,n,r,i,a){Se(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new no,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Ie(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new to(eo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function qf(e,t){if(Qa("AsyncQueue","".concat(t,": ").concat(e)),Gc(e))return new to(eo.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var zf=function(){function e(t){Se(this,e),this.comparator=t?function(e,n){return t(e,n)||Fo.comparator(e.key,n.key)}:function(e,t){return Fo.comparator(e.key,t.key)},this.keyedMap=Pu(),this.sortedSet=new Eu(this.comparator)}return Ie(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Bf=function(){function e(){Se(this,e),this.Jo=new Eu(Fo.comparator)}return Ie(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Jo.get(t);n?0!==e.type&&3===n.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==n.type?this.Jo=this.Jo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jo=this.Jo.remove(t):1===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):Ya():this.Jo=this.Jo.insert(t,e)}},{key:"Yo",value:function(){var e=[];return this.Jo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Hf=function(){function e(t,n,r,i,a,o,s,u){Se(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return Ie(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ls(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,zf.emptySet(n),a,r,i,!0,!1)}}]),e}(),Kf=Ie((function e(){Se(this,e),this.Xo=void 0,this.listeners=[]})),Wf=Ie((function e(){Se(this,e),this.queries=new sl((function(e){return js(e)}),Ls),this.onlineState="Unknown",this.Zo=new Set}));function Gf(e,t){return Qf.apply(this,arguments)}function Qf(){return Qf=le(de().mark((function e(t,n){var r,i,a,o,s;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Za(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Kf),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Xo=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=qf(e.t0,"Initialization of query '".concat(Ms(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.tc(r.onlineState),o.Xo&&n.ec(o.Xo)&&Zf(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Qf.apply(this,arguments)}function $f(e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=le(de().mark((function e(t,n){var r,i,a,o,s;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Za(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}function Yf(e,t){var n,r=Za(e),i=!1,a=fe(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=fe(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.ec(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Xo=o}}}catch(f){a.e(f)}finally{a.f()}i&&Zf(r)}function Jf(e,t,n){var r=Za(e),i=r.queries.get(t);if(i){var a,o=fe(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Zf(e){e.Zo.forEach((function(e){e.next()}))}var eh=function(){function e(t,n,r){Se(this,e),this.query=t,this.nc=n,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}return Ie(e,[{key:"ec",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=fe(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Hf(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.sc?this.rc(e)&&(this.nc.next(e),a=!0):this.oc(e,this.onlineState)&&(this.cc(e),a=!0),this.ic=e,a}},{key:"onError",value:function(e){this.nc.error(e)}},{key:"tc",value:function(e){this.onlineState=e;var t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}},{key:"oc",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.uc||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"rc",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"cc",value:function(e){e=Hf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}]),e}();var th=Ie((function e(t){Se(this,e),this.key=t})),nh=Ie((function e(t){Se(this,e),this.key=t})),rh=function(){function e(t,n){Se(this,e),this.query=t,this.dc=n,this._c=null,this.current=!1,this.wc=Lu(),this.mutatedKeys=Lu(),this.mc=Fs(t),this.gc=new zf(this.mc)}return Ie(e,[{key:"yc",get:function(){return this.dc}},{key:"Ic",value:function(e,t){var n=this,r=t?t.Ec:new Bf,i=t?t.gc:this.gc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=Is(this.query)&&i.size===this.query.limit?i.last():null,c=Cs(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Us(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Tc(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.mc(f,u)>0||c&&n.mc(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Is(this.query)||Cs(this.query))for(;o.size>this.query.limit;){var l=Is(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{gc:o,Ec:r,ks:s,mutatedKeys:a}}},{key:"Tc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;var a=e.Ec.Yo();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ya()}};return n(e)-n(t)}(e.type,t.type)||r.mc(e.doc,t.doc)})),this.Ac(n);var o=t?this.Rc():[],s=0===this.wc.size&&this.current?1:0,u=s!==this._c;return this._c=s,0!==a.length||u?{snapshot:new Hf(this.query,e.gc,i,a,e.mutatedKeys,0===s,u,!1),Pc:o}:{Pc:o}}},{key:"tc",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new Bf,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}},{key:"bc",value:function(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}},{key:"Ac",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.dc=t.dc.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.dc=t.dc.delete(e)})),this.current=e.current)}},{key:"Rc",value:function(){var e=this;if(!this.current)return[];var t=this.wc;this.wc=Lu(),this.gc.forEach((function(t){e.bc(t.key)&&(e.wc=e.wc.add(t.key))}));var n=[];return t.forEach((function(t){e.wc.has(t)||n.push(new nh(t))})),this.wc.forEach((function(e){t.has(e)||n.push(new th(e))})),n}},{key:"vc",value:function(e){this.dc=e.Ks,this.wc=Lu();var t=this.Ic(e.documents);return this.applyChanges(t,!0)}},{key:"Vc",value:function(){return Hf.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}]),e}(),ih=Ie((function e(t,n,r){Se(this,e),this.query=t,this.targetId=n,this.view=r})),ah=Ie((function e(t){Se(this,e),this.key=t,this.Sc=!1})),oh=function(){function e(t,n,r,i,a,o){Se(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Dc={},this.Cc=new sl((function(e){return js(e)}),Ls),this.Nc=new Map,this.xc=new Set,this.kc=new Eu(Fo.comparator),this.Oc=new Map,this.Mc=new Il,this.$c={},this.Fc=new Map,this.Bc=il.Je(),this.onlineState="Unknown",this.Lc=void 0}return Ie(e,[{key:"isPrimaryClient",get:function(){return!0===this.Lc}}]),e}();function sh(e,t){return uh.apply(this,arguments)}function uh(){return uh=le(de().mark((function e(t,n){var r,i,a,o,s,u;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jh(t),!(o=r.Cc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Vc(),e.next=15;break;case 6:return e.next=8,wl(r.localStore,Os(n));case 8:return s=e.sent,r.isPrimaryClient&&nf(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,ch(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),uh.apply(this,arguments)}function ch(e,t,n,r){return lh.apply(this,arguments)}function lh(){return lh=le(de().mark((function e(t,n,r,i){var a,o,s,u,c,l;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Uc=function(e,n,r){return function(){var e=le(de().mark((function e(t,n,r,i){var a,o,s;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ic(r),e.t0=a.ks,!e.t0){e.next=6;break}return e.next=5,El(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ic(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Ch(t,n.targetId,s.Pc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,El(t.localStore,n,!0);case 3:return a=e.sent,o=new rh(n,a.Ks),s=o.Ic(a.documents),u=Fu.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),Ch(t,r,c.Pc),l=new ih(n,r,o),e.abrupt("return",(t.Cc.set(n,l),t.Nc.has(r)?t.Nc.get(r).push(n):t.Nc.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),lh.apply(this,arguments)}function fh(e,t){return hh.apply(this,arguments)}function hh(){return hh=le(de().mark((function e(t,n){var r,i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Za(t),i=r.Cc.get(n),!((a=r.Nc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Nc.set(i.targetId,a.filter((function(e){return!Ls(e,n)}))),void r.Cc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,_l(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),rf(r.remoteStore,i.targetId),Th(r,i.targetId)})).catch(al);case 9:e.next=14;break;case 11:return Th(r,i.targetId),e.next=14,_l(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),hh.apply(this,arguments)}function dh(e,t,n){return ph.apply(this,arguments)}function ph(){return ph=le(de().mark((function e(t,n,r){var i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mh(t),e.prev=1,e.next=4,function(e,t){var n,r=Za(e),i=mo.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Lu());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Us.Es(e,a).next((function(a){n=a;var o,s=[],u=fe(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=cu(c,n.get(c.key));null!=l&&s.push(new du(c.key,l,ns(l.value.mapValue),iu.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.gs.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.$c[e.currentUser.toKey()];r||(r=new Eu(po)),r=r.insert(t,n),e.$c[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Rh(i,a.changes);case 9:return e.next=11,bf(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=qf(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),ph.apply(this,arguments)}function vh(e,t){return mh.apply(this,arguments)}function mh(){return mh=le(de().mark((function e(t,n){var r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Za(t),e.prev=1,e.next=4,gl(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Oc.get(t);n&&(Ja(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Sc=!0:e.modifiedDocuments.size>0?Ja(n.Sc):e.removedDocuments.size>0&&(Ja(n.Sc),n.Sc=!1))})),e.next=8,Rh(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,al(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),mh.apply(this,arguments)}function yh(e,t,n){var r=Za(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Cc.forEach((function(e,n){var r=n.view.tc(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Za(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=fe(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.tc(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Zf(n)}(r.eventManager,t),i.length&&r.Dc.To(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function gh(e,t,n){return kh.apply(this,arguments)}function kh(){return kh=le(de().mark((function e(t,n,r){var i,a,o,s,u,c;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Za(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Oc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Eu(Fo.comparator)).insert(o,rs.newNoDocument(o,yo.min())),u=Lu().add(o),c=new Uu(yo.min(),new Map,new Iu(po),s,u),e.next=9,vh(i,c);case 9:i.kc=i.kc.remove(o),i.Oc.delete(n),Ah(i),e.next=16;break;case 14:return e.next=16,_l(i.localStore,n,!1).then((function(){return Th(i,n,r)})).catch(al);case 16:case"end":return e.stop()}}),e)}))),kh.apply(this,arguments)}function bh(e,t){return wh.apply(this,arguments)}function wh(){return wh=le(de().mark((function e(t,n){var r,i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Za(t),i=n.batch.batchId,e.prev=1,e.next=4,ml(r.localStore,n);case 4:return a=e.sent,Sh(r,i,null),Eh(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Rh(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,al(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),wh.apply(this,arguments)}function _h(e,t,n){return xh.apply(this,arguments)}function xh(){return xh=le(de().mark((function e(t,n,r){var i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Za(t),e.prev=1,e.next=4,function(e,t){var n=Za(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.gs.lookupMutationBatch(e,t).next((function(t){return Ja(null!==t),r=t.keys(),n.gs.removeMutationBatch(e,t)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Sh(i,n,r),Eh(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Rh(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,al(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),xh.apply(this,arguments)}function Eh(e,t){(e.Fc.get(t)||[]).forEach((function(e){e.resolve()})),e.Fc.delete(t)}function Sh(e,t,n){var r=Za(e),i=r.$c[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.$c[r.currentUser.toKey()]=i}}function Th(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=fe(e.Nc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Cc.delete(a),n&&e.Dc.qc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Nc.delete(t),e.isPrimaryClient&&e.Mc.si(t).forEach((function(t){e.Mc.containsKey(t)||Ih(e,t)}))}function Ih(e,t){e.xc.delete(t.path.canonicalString());var n=e.kc.get(t);null!==n&&(rf(e.remoteStore,n),e.kc=e.kc.remove(t),e.Oc.delete(n),Ah(e))}function Ch(e,t,n){var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof th?(e.Mc.addReference(a.key,t),Nh(e,a)):a instanceof nh?(Ga("SyncEngine","Document no longer in limbo: "+a.key),e.Mc.removeReference(a.key,t),e.Mc.containsKey(a.key)||Ih(e,a.key)):Ya()}}catch(o){i.e(o)}finally{i.f()}}function Nh(e,t){var n=t.key,r=n.path.canonicalString();e.kc.get(n)||e.xc.has(r)||(Ga("SyncEngine","New document in limbo: "+n),e.xc.add(r),Ah(e))}function Ah(e){for(;e.xc.size>0&&e.kc.size<e.maxConcurrentLimboResolutions;){var t=e.xc.values().next().value;e.xc.delete(t);var n=new Fo(_o.fromString(t)),r=e.Bc.next();e.Oc.set(r,new ah(n)),e.kc=e.kc.insert(n,r),nf(e.remoteStore,new Yc(Os(Ts(n.path)),r,2,lo.A))}}function Rh(e,t,n){return Ph.apply(this,arguments)}function Ph(){return Ph=le(de().mark((function e(t,n,r){var i,a,o,s;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Za(t),a=[],o=[],s=[],e.t0=i.Cc.isEmpty(),e.t0){e.next=9;break}return i.Cc.forEach((function(e,t){s.push(i.Uc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=ll.Ss(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Dc.To(a),e.next=9,function(){var e=le(de().mark((function e(t,n){var r,i,a,o,s,u,c,l;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Za(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Wc.forEach(n,(function(t){return Wc.forEach(t.vs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Wc.forEach(t.Vs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Gc(e.t0)){e.next=10;break}throw e.t0;case 10:Ga("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=fe(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ms.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ms=r.Ms.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Ph.apply(this,arguments)}function Oh(e,t){return Dh.apply(this,arguments)}function Dh(){return Dh=le(de().mark((function e(t,n){var r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Za(t)).currentUser.isEqual(n)){e.next=11;break}return Ga("SyncEngine","User change. New user:",n.toKey()),e.next=5,pl(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Fc.forEach((function(e){e.forEach((function(e){e.reject(new to(eo.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Rh(r,i.qs);case 11:case"end":return e.stop()}}),e)}))),Dh.apply(this,arguments)}function Lh(e,t){var n=Za(e),r=n.Oc.get(t);if(r&&r.Sc)return Lu().add(r.key);var i=Lu(),a=n.Nc.get(t);if(!a)return i;var o,s=fe(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Cc.get(u);i=i.unionWith(c.view.yc)}}catch(l){s.e(l)}finally{s.f()}return i}function jh(e){var t=Za(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gh.bind(null,t),t.Dc.To=Yf.bind(null,t.eventManager),t.Dc.qc=Jf.bind(null,t.eventManager),t}function Mh(e){var t=Za(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_h.bind(null,t),t}var Uh=function(){function e(){Se(this,e),this.synchronizeTabs=!1}return Ie(e,[{key:"initialize",value:function(){var e=le(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.O=Hl(t.databaseInfo.databaseId),this.sharedClientState=this.Gc(t),this.persistence=this.jc(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Qc(t),this.localStore=this.Wc(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){return null}},{key:"Wc",value:function(e){return dl(this.persistence,new fl,e.initialUser,this.O)}},{key:"jc",value:function(e){return new Ol(Ll.bi,this.O)}},{key:"Gc",value:function(e){return new Ml}},{key:"terminate",value:function(){var e=le(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Fh=function(){function e(){Se(this,e)}return Ie(e,[{key:"initialize",value:function(){var e=le(de().mark((function e(t,n){var r=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return yh(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Oh.bind(null,this.syncEngine),e.next=12,jf(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Wf}},{key:"createDatastore",value:function(e){var t,n=Hl(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new zl(t));return function(e,t,n,r){return new $l(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return yh(o.syncEngine,e,0)},a=Fl.Vt()?new Fl:new Ul,new Yl(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new oh(e,t,n,r,i,a);return o&&(s.Lc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=le(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Za(t),Ga("RemoteStore","RemoteStore shutting down."),n.Ko.add(5),e.next=5,ef(n);case 5:n.jo.shutdown(),n.Qo.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Vh=function(){function e(t){Se(this,e),this.observer=t,this.muted=!1}return Ie(e,[{key:"next",value:function(e){this.observer.next&&this.Hc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Jc",value:function(){this.muted=!0}},{key:"Hc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),qh=function(){function e(t,n,r,i){var a=this;Se(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ba.UNAUTHENTICATED,this.clientId=ho.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=le(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ga("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ga("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Ie(e,[{key:"getConfiguration",value:function(){var e=le(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new to(eo.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new no;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(le(de().mark((function n(){var r;return de().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=qf(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function zh(e,t){return Bh.apply(this,arguments)}function Bh(){return Bh=le(de().mark((function e(t,n){var r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ga("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=le(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,pl(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Bh.apply(this,arguments)}function Hh(e,t){return Kh.apply(this,arguments)}function Kh(){return Kh=le(de().mark((function e(t,n){var r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Wh(t);case 3:return r=e.sent,Ga("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Df(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Df(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Kh.apply(this,arguments)}function Wh(e){return Gh.apply(this,arguments)}function Gh(){return Gh=le(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Ga("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,zh(t,new Uh);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Gh.apply(this,arguments)}function Qh(e){return $h.apply(this,arguments)}function $h(){return $h=le(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Ga("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Hh(t,new Fh);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),$h.apply(this,arguments)}function Xh(e){return Qh(e).then((function(e){return e.syncEngine}))}function Yh(e){return Jh.apply(this,arguments)}function Jh(){return Jh=le(de().mark((function e(t){var n,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qh(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=sh.bind(null,n.syncEngine),r.onUnlisten=fh.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Jh.apply(this,arguments)}function Zh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new no;return e.asyncQueue.enqueueAndForget(le(de().mark((function i(){return de().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Vh({next:function(n){t.enqueueAndForget((function(){return $f(e,o)})),n.fromCache&&"server"===r.source?i.reject(new to(eo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new eh(n,a,{includeMetadataChanges:!0,uc:!0});return Gf(e,o)},i.next=3,Yh(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var ed=new Map;function td(e,t,n){if(!n)throw new to(eo.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function nd(e){if(!Fo.isDocumentKey(e))throw new to(eo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function rd(e){if(Fo.isDocumentKey(e))throw new to(eo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function id(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ya()}function ad(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new to(eo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=id(e);throw new to(eo.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var od=function(){function e(t){var n;if(Se(this,e),void 0===t.host){if(void 0!==t.ssl)throw new to(eo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new to(eo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new to(eo.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Ie(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),sd=function(){function e(t,n,r){Se(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new od({}),this._settingsFrozen=!1,t instanceof Lo?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new to(eo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lo(e.options.projectId)}(t))}return Ie(e,[{key:"app",get:function(){if(!this._app)throw new to(eo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new to(eo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new od(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new io;switch(e.type){case"gapi":var t=e.client;return Ja(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new so(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new to(eo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=ed.get(e);t&&(Ga("ComponentProvider","Removing Datastore"),ed.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var ud=function(){function e(t,n,r){Se(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Ie(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new ld(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),cd=function(){function e(t,n,r){Se(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Ie(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),ld=function(e){be(n,e);var t=Ee(n);function n(e,r,i){var a;return Se(this,n),(a=t.call(this,e,r,Ts(i)))._path=i,a.type="collection",a}return Ie(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new ud(this.firestore,null,new Fo(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(cd);function fd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=$e(e),td("collection","path",t),e instanceof sd){var a=_o.fromString.apply(_o,[t].concat(r));return rd(a),new ld(e,null,a)}if(!(e instanceof ud||e instanceof ld))throw new to(eo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(_o.fromString.apply(_o,[t].concat(r)));return rd(o),new ld(e.firestore,null,o)}function hd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=$e(e),1===arguments.length&&(t=ho.R()),td("doc","path",t),e instanceof sd){var a=_o.fromString.apply(_o,[t].concat(r));return nd(a),new ud(e,null,new Fo(a))}if(!(e instanceof ud||e instanceof ld))throw new to(eo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(_o.fromString.apply(_o,[t].concat(r)));return nd(o),new ud(e.firestore,e instanceof ld?e.converter:null,new Fo(o))}var dd=function(){function e(){var t=this;Se(this,e),this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new Kl(this,"async_queue_retry"),this.yu=function(){var e=Bl();e&&Ga("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ro.Yr()};var n=Bl();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.yu)}return Ie(e,[{key:"isShuttingDown",get:function(){return this.fu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.pu(),this.Iu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.fu){this.fu=!0,this.mu=e||!1;var t=Bl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}},{key:"enqueue",value:function(e){var t=this;if(this.pu(),this.fu)return new Promise((function(){}));var n=new no;return this.Iu((function(){return t.fu&&t.mu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.lu.push(e),t.Eu()}))}},{key:"Eu",value:function(){var e=le(de().mark((function e(){var t=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.lu.length){e.next=14;break}return e.prev=1,e.next=4,this.lu[0]();case 4:this.lu.shift(),this.ro.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Gc(e.t0)){e.next=12;break}throw e.t0;case 12:Ga("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.lu.length>0&&this.ro.Hr((function(){return t.Eu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Iu",value:function(e){var t=this,n=this.hu.then((function(){return t.wu=!0,e().catch((function(e){t._u=e,t.wu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Qa("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.wu=!1,e}))}));return this.hu=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.pu(),this.gu.indexOf(e)>-1&&(t=0);var i=Vf.createAndSchedule(this,e,t,n,(function(e){return r.Tu(e)}));return this.du.push(i),i}},{key:"pu",value:function(){this._u&&Ya()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Au",value:function(){var e=le(de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.hu,e.next=3,t;case 3:if(t!==this.hu){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ru",value:function(e){var t,n=fe(this.du);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.Au().then((function(){t.du.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=fe(t.du);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Au()}))}},{key:"bu",value:function(e){this.gu.push(e)}},{key:"Tu",value:function(e){var t=this.du.indexOf(e);this.du.splice(t,1)}}]),e}();function pd(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=fe(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var vd=function(e){be(n,e);var t=Ee(n);function n(e,r,i){var a;return Se(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new dd,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Ie(n,[{key:"_terminate",value:function(){return this._firestoreClient||yd(this),this._firestoreClient.terminate()}}]),n}(sd);function md(e){return e._firestoreClient||yd(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function yd(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Do(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new qh(e._authCredentials,e._appCheckCredentials,e._queue,r)}var gd=function(){function e(){Se(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new to(eo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Eo(n)}return Ie(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var kd=function(){function e(t){Se(this,e),this._byteString=t}return Ie(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(To.fromBase64String(t))}catch(t){throw new to(eo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(To.fromUint8Array(t))}}]),e}(),bd=Ie((function e(t){Se(this,e),this._methodName=t})),wd=function(){function e(t,n){if(Se(this,e),!isFinite(t)||t<-90||t>90)throw new to(eo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new to(eo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Ie(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return po(this._lat,e._lat)||po(this._long,e._long)}}]),e}(),_d=/^__.*__$/,xd=function(){function e(t,n,r){Se(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ie(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new du(e,this.data,this.fieldMask,t,this.fieldTransforms):new hu(e,this.data,t,this.fieldTransforms)}}]),e}(),Ed=function(){function e(t,n,r){Se(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ie(e,[{key:"toMutation",value:function(e,t){return new du(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Sd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ya()}}var Td=function(){function e(t,n,r,i,a,o){Se(this,e),this.settings=t,this.databaseId=n,this.O=r,this.ignoreUndefinedProperties=i,void 0===a&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Ie(e,[{key:"path",get:function(){return this.settings.path}},{key:"Vu",get:function(){return this.settings.Vu}},{key:"Su",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Du",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.Nu(e),r}},{key:"xu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.vu(),r}},{key:"ku",value:function(e){return this.Su({path:void 0,Cu:!0})}},{key:"Ou",value:function(e){return Kd(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"vu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}},{key:"Nu",value:function(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(Sd(this.Vu)&&_d.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}]),e}(),Id=function(){function e(t,n,r){Se(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.O=r||Hl(t)}return Ie(e,[{key:"Fu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Td({Vu:e,methodName:t,$u:n,path:Eo.emptyPath(),Cu:!1,Mu:r},this.databaseId,this.O,this.ignoreUndefinedProperties)}}]),e}();function Cd(e){var t=e._freezeSettings(),n=Hl(e._databaseId);return new Id(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Nd(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Fu(a.merge||a.mergeFields?2:0,t,n,i);qd("Data must be an object, but it was:",o,r);var s,u,c=Fd(r,o);if(a.merge)s=new So(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=fe(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=zd(t,d,n);if(!o.contains(p))throw new to(eo.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Wd(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new So(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new xd(new ts(c),s,u)}var Ad=function(e){be(n,e);var t=Ee(n);function n(){return Se(this,n),t.apply(this,arguments)}return Ie(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Vu)throw 1===e.Vu?e.Ou("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ou("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(bd);function Rd(e,t,n){return new Td({Vu:3,$u:t.settings.$u,methodName:e._methodName,Cu:n},t.databaseId,t.O,t.ignoreUndefinedProperties)}var Pd=function(e){be(n,e);var t=Ee(n);function n(){return Se(this,n),t.apply(this,arguments)}return Ie(n,[{key:"_toFieldTransform",value:function(e){return new nu(e.path,new Qs)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(bd),Od=function(e){be(n,e);var t=Ee(n);function n(e,r){var i;return Se(this,n),(i=t.call(this,e)).Bu=r,i}return Ie(n,[{key:"_toFieldTransform",value:function(e){var t=Rd(this,e,!0),n=this.Bu.map((function(e){return Ud(e,t)})),r=new $s(n);return new nu(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bd),Dd=function(e){be(n,e);var t=Ee(n);function n(e,r){var i;return Se(this,n),(i=t.call(this,e)).Bu=r,i}return Ie(n,[{key:"_toFieldTransform",value:function(e){var t=Rd(this,e,!0),n=this.Bu.map((function(e){return Ud(e,t)})),r=new Ys(n);return new nu(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bd);function Ld(e,t,n,r){var i=e.Fu(1,t,n);qd("Data must be an object, but it was:",i,r);var a=[],o=ts.empty();ko(r,(function(e,r){var s=Hd(t,e,n);r=$e(r);var u=i.xu(s);if(r instanceof Ad)a.push(s);else{var c=Ud(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new So(a);return new Ed(o,s,i.fieldTransforms)}function jd(e,t,n,r,i,a){var o=e.Fu(1,t,n),s=[zd(t,r,n)],u=[i];if(a.length%2!=0)throw new to(eo.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(zd(t,a[c])),u.push(a[c+1]);for(var l=[],f=ts.empty(),h=s.length-1;h>=0;--h)if(!Wd(l,s[h])){var d=s[h],p=u[h];p=$e(p);var v=o.xu(d);if(p instanceof Ad)l.push(d);else{var m=Ud(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new So(l);return new Ed(f,y,o.fieldTransforms)}function Md(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ud(n,e.Fu(r?4:3,t))}function Ud(e,t){if(Vd(e=$e(e)))return qd("Unsupported field value:",t,e),Fd(e,t);if(e instanceof bd)return function(e,t){if(!Sd(t.Vu))throw t.Ou("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ou("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Cu&&4!==t.Vu)throw t.Ou("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=fe(e);try{for(a.s();!(n=a.n()).done;){var o=Ud(n.value,t.ku(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=$e(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Bs(t.O,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=mo.fromDate(e);return{timestampValue:Xu(t.O,n)}}if(e instanceof mo){var r=new mo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Xu(t.O,r)}}if(e instanceof wd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof kd)return{bytesValue:Yu(t.O,e._byteString)};if(e instanceof ud){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ou("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:ec(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ou("Unsupported field value: ".concat(id(e)))}(e,t)}function Fd(e,t){var n={};return bo(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ko(e,(function(e,r){var i=Ud(r,t.Du(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Vd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof mo||e instanceof wd||e instanceof kd||e instanceof ud||e instanceof bd)}function qd(e,t,n){if(!Vd(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=id(n);throw"an object"===r?t.Ou(e+" a custom object"):t.Ou(e+" "+r)}}function zd(e,t,n){if((t=$e(t))instanceof gd)return t._internalPath;if("string"==typeof t)return Hd(e,t);throw Kd("Field path arguments must be of type string or ",e,!1,void 0,n)}var Bd=new RegExp("[~\\*/\\[\\]]");function Hd(e,t,n){if(t.search(Bd)>=0)throw Kd("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return me(gd,X(t.split(".")))._internalPath}catch(r){throw Kd("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Kd(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new to(eo.INVALID_ARGUMENT,s+e+u)}function Wd(e,t){return e.some((function(e){return e.isEqual(t)}))}var Gd=function(){function e(t,n,r,i,a){Se(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Ie(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new ud(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Qd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field($d("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Qd=function(e){be(n,e);var t=Ee(n);function n(){return Se(this,n),t.apply(this,arguments)}return Ie(n,[{key:"data",value:function(){return ke(ye(n.prototype),"data",this).call(this)}}]),n}(Gd);function $d(e,t){return"string"==typeof t?Hd(e,t):t instanceof gd?t._internalPath:t._delegate._internalPath}var Xd=function(){function e(t,n){Se(this,e),this.hasPendingWrites=t,this.fromCache=n}return Ie(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Yd=function(e){be(n,e);var t=Ee(n);function n(e,r,i,a,o,s){var u;return Se(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Ie(n,[{key:"exists",value:function(){return ke(ye(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field($d("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Gd),Jd=function(e){be(n,e);var t=Ee(n);function n(){return Se(this,n),t.apply(this,arguments)}return Ie(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ke(ye(n.prototype),"data",this).call(this,e)}}]),n}(Yd),Zd=function(){function e(t,n,r,i){Se(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xd(i.hasPendingWrites,i.fromCache),this.query=r}return Ie(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Jd(n._firestore,n._userDataWriter,r.key,r,new Xd(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new to(eo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Jd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Xd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Jd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Xd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ep(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function ep(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ya()}}function tp(e){if(Cs(e)&&0===e.explicitOrderBy.length)throw new to(eo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var np=Ie((function e(){Se(this,e)}));function rp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var ip=function(e){be(n,e);var t=Ee(n);function n(e,r,i){var a;return Se(this,n),(a=t.call(this)).Uu=e,a.qu=r,a.Ku=i,a.type="where",a}return Ie(n,[{key:"_apply",value:function(e){var t=Cd(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new to(eo.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){up(o,a);var u,c=[],l=fe(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(sp(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=sp(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||up(o,a),s=Md(n,"where",o,"in"===a||"not-in"===a);var h=ls.create(i,a,s);return function(e,t){if(t.S()){var n=As(e);if(null!==n&&!n.isEqual(t.field))throw new to(eo.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Ns(e);null!==r&&cp(e,t.field,r)}var i=function(e,t){var n,r=fe(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new to(eo.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new to(eo.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new cd(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Es(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(np);var ap=function(e){be(n,e);var t=Ee(n);function n(e,r){var i;return Se(this,n),(i=t.call(this)).Uu=e,i.Gu=r,i.type="orderBy",i}return Ie(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new to(eo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new to(eo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new bs(t,n);return function(e,t){if(null===Ns(e)){var n=As(e);null!==n&&cp(e,n,t.field)}}(e,r),r}(e._query,this.Uu,this.Gu);return new cd(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Es(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(np);function op(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=$d("orderBy",e);return new ap(r,n)}function sp(e,t,n){if("string"==typeof(n=$e(n))){if(""===n)throw new to(eo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rs(t)&&-1!==n.indexOf("/"))throw new to(eo.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(_o.fromString(n));if(!Fo.isDocumentKey(r))throw new to(eo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Qo(e,new Fo(r))}if(n instanceof ud)return Qo(e,n._key);throw new to(eo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(id(n),"."))}function up(e,t){if(!Array.isArray(e)||0===e.length)throw new to(eo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new to(eo.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function cp(e,t,n){if(!n.isEqual(t))throw new to(eo.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var lp=function(){function e(){Se(this,e)}return Ie(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return No(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ya()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ko(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new wd(No(e.latitude),No(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Po(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Oo(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Co(e);return new mo(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=_o.fromString(e);Ja(wc(n));var r=new Lo(n.get(1),n.get(3)),i=new Fo(n.popFirst(5));return r.isEqual(t)||Qa("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function fp(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var hp=function(e){be(n,e);var t=Ee(n);function n(e){var r;return Se(this,n),(r=t.call(this)).firestore=e,r}return Ie(n,[{key:"convertBytes",value:function(e){return new kd(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ud(this.firestore,null,t)}}]),n}(lp);function dp(e){e=ad(e,cd);var t=ad(e.firestore,vd),n=md(t),r=new hp(t);return tp(e._query),Zh(n,e._query).then((function(n){return new Zd(t,r,e,n)}))}function pp(e,t,n){e=ad(e,ud);var r=ad(e.firestore,vd),i=fp(e.converter,t,n);return kp(r,[Nd(Cd(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,iu.none())])}function vp(e,t,n){e=ad(e,ud);for(var r=ad(e.firestore,vd),i=Cd(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return kp(r,[("string"==typeof(t=$e(t))||t instanceof gd?jd(i,"updateDoc",e._key,t,n,o):Ld(i,"updateDoc",e._key,t)).toMutation(e._key,iu.exists(!0))])}function mp(e){return kp(ad(e.firestore,vd),[new ku(e._key,iu.none())])}function yp(e,t){var n=ad(e.firestore,vd),r=hd(e),i=fp(e.converter,t);return kp(n,[Nd(Cd(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,iu.exists(!1))]).then((function(){return r}))}function gp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=$e(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||pd(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(pd(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof ud)l=ad(e.firestore,vd),f=Ts(e._key.path),c={next:function(t){n[u]&&n[u](bp(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=ad(e,cd);l=ad(p.firestore,vd),f=p._query;var v=new hp(l);c={next:function(e){n[u]&&n[u](new Zd(l,v,p,e))},error:n[u+1],complete:n[u+2]},tp(e._query)}return function(e,t,n,r){var i=new Vh(r),a=new eh(t,i,n);return e.asyncQueue.enqueueAndForget(le(de().mark((function t(){return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Gf,t.next=3,Yh(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Jc(),e.asyncQueue.enqueueAndForget(le(de().mark((function t(){return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=$f,t.next=3,Yh(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(md(l),f,h,c)}function kp(e,t){return function(e,t){var n=new no;return e.asyncQueue.enqueueAndForget(le(de().mark((function r(){return de().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=dh,r.next=3,Xh(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(md(e),t)}function bp(e,t,n){var r=n.docs.get(t._key),i=new hp(e);return new Yd(e,i,t._key,r,new Xd(n.hasPendingWrites,n.fromCache),t.converter)}function wp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Od("arrayUnion",t)}function _p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Dd("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Ha="9.6.7",kt(new Xe("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new vd(i,new ao(e.getProvider("auth-internal")),new co(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),It(za,"3.4.5",e),It(za,"3.4.5","esm2017")}();It("firebase","9.6.7","app");function xp(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Ep;Object.create;function Sp(){return oe({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Tp=Sp,Ip=new Fe("auth","Firebase",Sp()),Cp=new ct("@firebase/auth");function Np(e){if(Cp.logLevel<=et.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Cp.error.apply(Cp,["Auth (".concat(St,"): ").concat(e)].concat(n))}}function Ap(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Op.apply(void 0,[e].concat(n))}function Rp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Op.apply(void 0,[e].concat(n))}function Pp(e,t,n){var r=Object.assign(Object.assign({},Tp()),oe({},t,n));return new Fe("auth","Firebase",r).create(t,{appName:e.name})}function Op(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=X(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(X(o)))}return Ip.create.apply(Ip,[e].concat(n))}function Dp(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Op.apply(void 0,[t].concat(r))}}function Lp(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Np(t),new Error(t)}function jp(e,t){e||Lp(t)}var Mp=new Map;function Up(e){jp(e instanceof Function,"Expected a class definition");var t=Mp.get(e);return t?(jp(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Mp.set(e,t),t)}function Fp(e,t){var n=bt(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(ze(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Ap(r,"already-initialized")}return n.initialize({options:t})}function Vp(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function qp(){return"http:"===zp()||"https:"===zp()}function zp(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Bp=function(){function e(t,n){Se(this,e),this.shortDelay=t,this.longDelay=n,jp(n>t,"Short delay should be less than long delay!"),this.isMobile=De()||je()}return Ie(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(qp()||Le()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Hp(e,t){jp(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Kp=function(){function e(){Se(this,e)}return Ie(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Lp("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Lp("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Lp("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Wp=(oe(Ep={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),oe(Ep,"MISSING_CUSTOM_TOKEN","internal-error"),oe(Ep,"INVALID_IDENTIFIER","invalid-email"),oe(Ep,"MISSING_CONTINUE_URI","internal-error"),oe(Ep,"INVALID_PASSWORD","wrong-password"),oe(Ep,"MISSING_PASSWORD","internal-error"),oe(Ep,"EMAIL_EXISTS","email-already-in-use"),oe(Ep,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),oe(Ep,"INVALID_IDP_RESPONSE","invalid-credential"),oe(Ep,"INVALID_PENDING_TOKEN","invalid-credential"),oe(Ep,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),oe(Ep,"MISSING_REQ_TYPE","internal-error"),oe(Ep,"EMAIL_NOT_FOUND","user-not-found"),oe(Ep,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),oe(Ep,"EXPIRED_OOB_CODE","expired-action-code"),oe(Ep,"INVALID_OOB_CODE","invalid-action-code"),oe(Ep,"MISSING_OOB_CODE","internal-error"),oe(Ep,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),oe(Ep,"INVALID_ID_TOKEN","invalid-user-token"),oe(Ep,"TOKEN_EXPIRED","user-token-expired"),oe(Ep,"USER_NOT_FOUND","user-token-expired"),oe(Ep,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),oe(Ep,"INVALID_CODE","invalid-verification-code"),oe(Ep,"INVALID_SESSION_INFO","invalid-verification-id"),oe(Ep,"INVALID_TEMPORARY_PROOF","invalid-credential"),oe(Ep,"MISSING_SESSION_INFO","missing-verification-id"),oe(Ep,"SESSION_EXPIRED","code-expired"),oe(Ep,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),oe(Ep,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),oe(Ep,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),oe(Ep,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),oe(Ep,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),oe(Ep,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),oe(Ep,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),oe(Ep,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),oe(Ep,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),oe(Ep,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),oe(Ep,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ep),Gp=new Bp(3e4,6e4);function Qp(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function $p(e,t,n,r){return Xp.apply(this,arguments)}function Xp(){return Xp=le(de().mark((function e(t,n,r,i){var a,o=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Yp(t,a,le(de().mark((function e(){var a,o,s,u;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=He(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Kp.fetch()(tv(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Xp.apply(this,arguments)}function Yp(e,t,n){return Jp.apply(this,arguments)}function Jp(){return Jp=le(de().mark((function e(t,n,r){var i,a,s,u,c,l,f,h,d,p;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Wp),n),e.prev=2,a=new nv(t),e.next=6,Promise.race([r(),a.promise]);case 6:return s=e.sent,a.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw rv(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=o(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw rv(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw rv(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw Pp(t,p,d);case 30:Ap(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Ue)){e.next=37;break}throw e.t0;case 37:Ap(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Jp.apply(this,arguments)}function Zp(e,t,n,r){return ev.apply(this,arguments)}function ev(){return ev=le(de().mark((function e(t,n,r,i){var a,o,s=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,$p(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Ap(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ev.apply(this,arguments)}function tv(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Hp(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var nv=function(){function e(t){var n=this;Se(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Rp(n.auth,"network-request-failed"))}),Gp.get())}))}return Ie(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function rv(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Rp(e,t,r);return i.customData._tokenResponse=n,i}function iv(e,t){return av.apply(this,arguments)}function av(){return av=le(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$p(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),av.apply(this,arguments)}function ov(e,t){return sv.apply(this,arguments)}function sv(){return sv=le(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$p(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),sv.apply(this,arguments)}function uv(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function cv(){return cv=le(de().mark((function e(t){var n,r,i,a,o,s,u=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=$e(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Dp((a=fv(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:uv(lv(a.auth_time)),issuedAtTime:uv(lv(a.iat)),expirationTime:uv(lv(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),cv.apply(this,arguments)}function lv(e){return 1e3*Number(e)}function fv(e){var t=o(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Np("JWT malformed, contained fewer than 3 sections"),null;try{var a=Re(r);return a?JSON.parse(a):(Np("Failed to decode base64 JWT payload"),null)}catch(s){return Np("Caught error parsing JWT payload as JSON",s),null}}function hv(e,t){return dv.apply(this,arguments)}function dv(){return dv=le(de().mark((function e(t,n){var r=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ue&&pv(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),dv.apply(this,arguments)}function pv(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var vv=function(){function e(t){Se(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Ie(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(le(de().mark((function t(){return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=le(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),mv=function(){function e(t,n){Se(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Ie(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=uv(this.lastLoginAt),this.creationTime=uv(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function yv(e){return gv.apply(this,arguments)}function gv(){return gv=le(de().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,hv(t,ov(r,{idToken:i}));case 6:Dp(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?wv(o.providerUserInfo):[],u=bv(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new mv(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),gv.apply(this,arguments)}function kv(){return(kv=le(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$e(t),e.next=3,yv(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bv(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(X(n),X(t))}function wv(e){return e.map((function(e){var t=e.providerId,n=xp(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function _v(e,t){return xv.apply(this,arguments)}function xv(){return xv=le(de().mark((function e(t,n){var r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yp(t,{},le(de().mark((function e(){var r,i,a,o,s,u;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=He({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=tv(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Kp.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),xv.apply(this,arguments)}var Ev=function(){function e(){Se(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Ie(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Dp(e.idToken,"internal-error"),Dp("undefined"!==typeof e.idToken,"internal-error"),Dp("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=fv(e);return Dp(t,"internal-error"),Dp("undefined"!==typeof t.exp,"internal-error"),Dp("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=le(de().mark((function e(t){var n,r=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Dp(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=le(de().mark((function e(t,n){var r,i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_v(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Lp("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Dp("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Dp("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Dp("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Sv(e,t){Dp("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Tv=function(){function e(t){Se(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=xp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?X(a.providerData):[],this.metadata=new mv(a.createdAt||void 0,a.lastLoginAt||void 0)}return Ie(e,[{key:"getIdToken",value:function(){var e=le(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hv(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Dp(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return cv.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return kv.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Dp(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Dp(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=le(de().mark((function e(t){var n,r,i=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,yv(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=le(de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,hv(this,iv(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;Dp(k&&x,t,"internal-error");var E=Ev.fromJSON(this.name,x);Dp("string"===typeof k,t,"internal-error"),Sv(f,t.name),Sv(h,t.name),Dp("boolean"===typeof b,t,"internal-error"),Dp("boolean"===typeof w,t,"internal-error"),Sv(d,t.name),Sv(p,t.name),Sv(v,t.name),Sv(m,t.name),Sv(y,t.name),Sv(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(S.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=le(de().mark((function t(n,r){var i,a,o,s=arguments;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Ev).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,yv(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Iv=function(){function e(){Se(this,e),this.type="NONE",this.storage={}}return Ie(e,[{key:"_isAvailable",value:function(){var e=le(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=le(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=le(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=le(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Iv.type="NONE";var Cv=Iv;function Nv(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Av=function(){function e(t,n,r){Se(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Nv(this.userKey,a.apiKey,o),this.fullPersistenceKey=Nv("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Ie(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=le(de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Tv._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=le(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=le(de().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Up(Cv),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=le(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Up(Cv),s=Nv(i,n.config.apiKey,n.name),u=null,c=fe(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Tv._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=le(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Rv(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Lv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Pv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Mv(t))return"Blackberry";if(Uv(t))return"Webos";if(Ov(t))return"Safari";if((t.includes("chrome/")||Dv(t))&&!t.includes("edge/"))return"Chrome";if(jv(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Pv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/firefox\//i.test(e)}function Ov(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Dv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/crios\//i.test(e)}function Lv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/iemobile/i.test(e)}function jv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/android/i.test(e)}function Mv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/blackberry/i.test(e)}function Uv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/webos/i.test(e)}function Fv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/iphone|ipad|ipod/i.test(e)}function Vv(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return Fv(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function qv(){return Me()&&10===document.documentMode}function zv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return Fv(e)||jv(e)||Uv(e)||Mv(e)||/windows phone/i.test(e)||Lv(e)}function Bv(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Rv(Oe());break;case"Worker":t="".concat(Rv(Oe()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(St,"/").concat(r)}var Hv=function(){function e(t,n){Se(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wv(this),this.idTokenSubscription=new Wv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ip,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return Ie(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Up(t)),this._initializationPromise=this.queue(le(de().mark((function r(){var i,a;return de().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Av.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=le(de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=le(de().mark((function e(t){var n,r,i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Dp(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=le(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=le(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yv(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=le(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=le(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?$e(t):null)&&Dp(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=le(de().mark((function e(t){var n=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Dp(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(le(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=le(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(le(de().mark((function n(){return de().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Up(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Fe("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=le(de().mark((function e(t,n){var r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=le(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Dp(n=t&&Up(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Av.create(this,[Up(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=le(de().mark((function e(t){var n,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(le(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=le(de().mark((function e(t){var n=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(le(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Dp(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=le(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Dp(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bv(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=le(de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=oe({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Kv(e){return $e(e)}var Wv=function(){function e(t){var n=this;Se(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Ge(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return Ie(e,[{key:"next",get:function(){return Dp(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var Gv=function(){function e(t,n){Se(this,e),this.providerId=t,this.signInMethod=n}return Ie(e,[{key:"toJSON",value:function(){return Lp("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Lp("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Lp("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Lp("not implemented")}}]),e}();function Qv(e,t){return $v.apply(this,arguments)}function $v(){return $v=le(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$p(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),$v.apply(this,arguments)}function Xv(e,t){return Yv.apply(this,arguments)}function Yv(){return Yv=le(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zp(t,"POST","/v1/accounts:signInWithPassword",Qp(t,n)));case 1:case"end":return e.stop()}}),e)}))),Yv.apply(this,arguments)}function Jv(e,t){return Zv.apply(this,arguments)}function Zv(){return Zv=le(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zp(t,"POST","/v1/accounts:signInWithEmailLink",Qp(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zv.apply(this,arguments)}function em(e,t){return tm.apply(this,arguments)}function tm(){return tm=le(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zp(t,"POST","/v1/accounts:signInWithEmailLink",Qp(t,n)));case 1:case"end":return e.stop()}}),e)}))),tm.apply(this,arguments)}var nm=function(e){be(n,e);var t=Ee(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Se(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Ie(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=le(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Xv(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Jv(t,{email:this._email,oobCode:this._password}));case 5:Ap(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=le(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Qv(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",em(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Ap(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Gv);function rm(e,t){return im.apply(this,arguments)}function im(){return im=le(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zp(t,"POST","/v1/accounts:signInWithIdp",Qp(t,n)));case 1:case"end":return e.stop()}}),e)}))),im.apply(this,arguments)}var am=function(e){be(n,e);var t=Ee(n);function n(){var e;return Se(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Ie(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return rm(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,rm(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,rm(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=He(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ap("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=xp(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Gv);function om(e,t){return sm.apply(this,arguments)}function sm(){return sm=le(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$p(t,"POST","/v1/accounts:sendVerificationCode",Qp(t,n)));case 1:case"end":return e.stop()}}),e)}))),sm.apply(this,arguments)}function um(){return um=le(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zp(t,"POST","/v1/accounts:signInWithPhoneNumber",Qp(t,n)));case 1:case"end":return e.stop()}}),e)}))),um.apply(this,arguments)}function cm(){return cm=le(de().mark((function e(t,n){var r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zp(t,"POST","/v1/accounts:signInWithPhoneNumber",Qp(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw rv(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),cm.apply(this,arguments)}var lm=oe({},"USER_NOT_FOUND","user-not-found");function fm(){return fm=le(de().mark((function e(t,n){var r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Zp(t,"POST","/v1/accounts:signInWithPhoneNumber",Qp(t,r),lm));case 2:case"end":return e.stop()}}),e)}))),fm.apply(this,arguments)}var hm=function(e){be(n,e);var t=Ee(n);function n(e){var r;return Se(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Ie(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return um.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return cm.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return fm.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Gv);var dm=function(){function e(t){var n,r,i,a,o,s;Se(this,e);var u=Ke(We(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Dp(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Ie(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ke(We(e)).link,n=t?Ke(We(t)).deep_link_id:null,r=Ke(We(e)).deep_link_id;return(r?Ke(We(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(md){return null}}}]),e}();var pm=function(){function e(){Se(this,e),this.providerId=e.PROVIDER_ID}return Ie(e,null,[{key:"credential",value:function(e,t){return nm._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=dm.parseLink(t);return Dp(n,"argument-error"),nm._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();pm.PROVIDER_ID="password",pm.EMAIL_PASSWORD_SIGN_IN_METHOD="password",pm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var vm=function(){function e(t){Se(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Ie(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),mm=function(e){be(n,e);var t=Ee(n);function n(){var e;return Se(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Ie(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return X(this.scopes)}}]),n}(vm),ym=function(e){be(n,e);var t=Ee(n);function n(){return Se(this,n),t.call(this,"facebook.com")}return Ie(n,null,[{key:"credential",value:function(e){return am._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(md){return null}}}]),n}(mm);ym.FACEBOOK_SIGN_IN_METHOD="facebook.com",ym.PROVIDER_ID="facebook.com";var gm=function(e){be(n,e);var t=Ee(n);function n(){var e;return Se(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Ie(n,null,[{key:"credential",value:function(e,t){return am._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(md){return null}}}]),n}(mm);gm.GOOGLE_SIGN_IN_METHOD="google.com",gm.PROVIDER_ID="google.com";var km=function(e){be(n,e);var t=Ee(n);function n(){return Se(this,n),t.call(this,"github.com")}return Ie(n,null,[{key:"credential",value:function(e){return am._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(md){return null}}}]),n}(mm);km.GITHUB_SIGN_IN_METHOD="github.com",km.PROVIDER_ID="github.com";var bm=function(e){be(n,e);var t=Ee(n);function n(){return Se(this,n),t.call(this,"twitter.com")}return Ie(n,null,[{key:"credential",value:function(e,t){return am._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(md){return null}}}]),n}(mm);function wm(e,t){return _m.apply(this,arguments)}function _m(){return _m=le(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zp(t,"POST","/v1/accounts:signUp",Qp(t,n)));case 1:case"end":return e.stop()}}),e)}))),_m.apply(this,arguments)}bm.TWITTER_SIGN_IN_METHOD="twitter.com",bm.PROVIDER_ID="twitter.com";var xm=function(){function e(t){Se(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Ie(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=le(de().mark((function t(n,r,i){var a,o,s,u,c=arguments;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Tv._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Em(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=le(de().mark((function t(n,r,i){var a;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Em(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Em(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Sm=function(e){be(n,e);var t=Ee(n);function n(e,r,i,a){var o,s;return Se(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(_e(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Ie(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ue);function Tm(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Sm._fromErrorAndOperation(e,n,t,r);throw n}))}function Im(e,t){return Cm.apply(this,arguments)}function Cm(){return Cm=le(de().mark((function e(t,n){var r,i,a=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=hv,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",xm._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Cm.apply(this,arguments)}function Nm(e,t){return Am.apply(this,arguments)}function Am(){return Am=le(de().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,hv(t,Tm(i,a,n,t),r);case 6:return Dp((o=e.sent).idToken,i,"internal-error"),Dp(s=fv(o.idToken),i,"internal-error"),u=s.sub,Dp(t.uid===u,i,"user-mismatch"),e.abrupt("return",xm._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Ap(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Am.apply(this,arguments)}function Rm(e,t){return Pm.apply(this,arguments)}function Pm(){return Pm=le(de().mark((function e(t,n){var r,i,a,o,s=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Tm(t,i,n);case 4:return a=e.sent,e.next=7,xm._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Pm.apply(this,arguments)}function Om(e,t){return Dm.apply(this,arguments)}function Dm(){return Dm=le(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rm(Kv(t),n));case 1:case"end":return e.stop()}}),e)}))),Dm.apply(this,arguments)}function Lm(e,t){return jm.apply(this,arguments)}function jm(){return(jm=le(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nm($e(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mm(e,t,n){return Um.apply(this,arguments)}function Um(){return Um=le(de().mark((function e(t,n,r){var i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Kv(t),e.next=3,wm(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,xm._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Um.apply(this,arguments)}function Fm(e,t){return Vm.apply(this,arguments)}function Vm(){return Vm=le(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$p(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Vm.apply(this,arguments)}function qm(e,t){return zm.apply(this,arguments)}function zm(){return(zm=le(de().mark((function e(t,n){var r,i,a,o,s,u,c;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=$e(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,hv(a,Fm(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bm(e,t){return Hm($e(e),null,t)}function Hm(e,t,n){return Km.apply(this,arguments)}function Km(){return Km=le(de().mark((function e(t,n,r){var i,a,o,s;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,hv(t,Qv(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),Km.apply(this,arguments)}function Wm(e,t){return $p(e,"POST","/v2/accounts/mfaEnrollment:start",Qp(e,t))}new WeakMap;var Gm="__sak",Qm=function(){function e(t,n){Se(this,e),this.storageRetriever=t,this.type=n}return Ie(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Gm,"1"),this.storage.removeItem(Gm),Promise.resolve(!0)):Promise.resolve(!1)}catch(md){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var $m=function(e){be(n,e);var t=Ee(n);function n(){var e;return Se(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Oe();return Ov(e)||Fv(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=zv(),e._shouldAllowMigration=!0,e}return Ie(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);qv()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=le(de().mark((function e(t,r){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(ye(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=le(de().mark((function e(t){var r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(ye(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=le(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(ye(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Qm);$m.type="LOCAL";var Xm=$m,Ym=function(e){be(n,e);var t=Ee(n);function n(){return Se(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Ie(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Qm);Ym.type="SESSION";var Jm=Ym;function Zm(e){return Promise.all(e.map(function(){var e=le(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ey=function(){function e(t){Se(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Ie(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=le(de().mark((function e(t){var n,r,i,a,o,s,u,c;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=le(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Zm(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ty(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ey.receivers=[];var ny=function(){function e(t){Se(this,e),this.target=t,this.handlers=new Set}return Ie(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=le(de().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=ty("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ry(){return window}function iy(){return"undefined"!==typeof ry().WorkerGlobalScope&&"function"===typeof ry().importScripts}function ay(){return oy.apply(this,arguments)}function oy(){return(oy=le(de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function sy(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var uy="firebaseLocalStorageDb",cy="firebaseLocalStorage",ly="fbase_key",fy=function(){function e(t){Se(this,e),this.request=t}return Ie(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function hy(e,t){return e.transaction([cy],t?"readwrite":"readonly").objectStore(cy)}function dy(){var e=indexedDB.deleteDatabase(uy);return new fy(e).toPromise()}function py(){var e=indexedDB.open(uy,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(cy,{keyPath:ly})}catch(r){n(r)}})),e.addEventListener("success",le(de().mark((function n(){var r;return de().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(cy)){n.next=12;break}return r.close(),n.next=5,dy();case 5:return n.t0=t,n.next=8,py();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function vy(e,t,n){return my.apply(this,arguments)}function my(){return my=le(de().mark((function e(t,n,r){var i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=hy(t,!0).put((oe(i={},ly,n),oe(i,"value",r),i)),e.abrupt("return",new fy(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),my.apply(this,arguments)}function yy(e,t){return gy.apply(this,arguments)}function gy(){return gy=le(de().mark((function e(t,n){var r,i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hy(t,!1).get(n),e.next=3,new fy(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),gy.apply(this,arguments)}function ky(e,t){var n=hy(e,!0).delete(t);return new fy(n).toPromise()}var by=function(){function e(){Se(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Ie(e,[{key:"_openDb",value:function(){var e=le(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,py();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=le(de().mark((function e(t){var n,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=le(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iy()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=le(de().mark((function e(){var t=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ey._getInstance(iy()?self:null),this.receiver._subscribe("keyChanged",function(){var e=le(de().mark((function e(n,r){var i;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=le(de().mark((function e(t,n){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=le(de().mark((function e(){var t,n,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ay();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new ny(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=le(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&sy()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=le(de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,py();case 5:return t=e.sent,e.next=8,vy(t,Gm,"1");case 8:return e.next=10,ky(t,Gm);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=le(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=le(de().mark((function e(t,n){var r=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(le(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return vy(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=le(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return yy(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=le(de().mark((function e(t){var n=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(le(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ky(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=le(de().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=hy(e,!1).getAll();return new fy(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=fe(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(le(de().mark((function t(){return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();by.type="LOCAL";var wy=by;function _y(e,t){return $p(e,"POST","/v2/accounts/mfaSignIn:start",Qp(e,t))}function xy(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Rp("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ey(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}Ey("rcb"),new Bp(3e4,6e4);var Sy="recaptcha";function Ty(e,t,n){return Iy.apply(this,arguments)}function Iy(){return Iy=le(de().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Dp("string"===typeof a,t,"argument-error"),Dp(r.type===Sy,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Dp("enroll"===s.type,t,"internal-error"),e.next=13,Wm(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Dp("signin"===s.type,t,"internal-error"),Dp(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,_y(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,om(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Iy.apply(this,arguments)}var Cy=function(){function e(t){Se(this,e),this.providerId=e.PROVIDER_ID,this.auth=Kv(t)}return Ie(e,[{key:"verifyPhoneNumber",value:function(e,t){return Ty(this.auth,e,$e(t))}}],[{key:"credential",value:function(e,t){return hm._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?hm._fromTokenResponse(n,r):null}}]),e}();function Ny(e,t){return t?Up(t):(Dp(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Cy.PROVIDER_ID="phone",Cy.PHONE_SIGN_IN_METHOD="phone";var Ay=function(e){be(n,e);var t=Ee(n);function n(e){var r;return Se(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Ie(n,[{key:"_getIdTokenResponse",value:function(e){return rm(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return rm(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return rm(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Gv);function Ry(e){return Rm(e.auth,new Ay(e),e.bypassAuthState)}function Py(e){var t=e.auth,n=e.user;return Dp(n,t,"internal-error"),Nm(n,new Ay(e),e.bypassAuthState)}function Oy(e){return Dy.apply(this,arguments)}function Dy(){return Dy=le(de().mark((function e(t){var n,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Dp(r=t.user,n,"internal-error"),e.abrupt("return",Im(r,new Ay(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Dy.apply(this,arguments)}var Ly=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Se(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Ie(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=le(de().mark((function t(n,r){return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=le(de().mark((function e(t){var n,r,i,a,o,s,u;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ry;case"linkViaPopup":case"linkViaRedirect":return Oy;case"reauthViaPopup":case"reauthViaRedirect":return Py;default:Ap(this.auth,"internal-error")}}},{key:"resolve",value:function(e){jp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){jp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),jy=new Bp(2e3,1e4);var My=function(e){be(n,e);var t=Ee(n);function n(e,r,i,a,o){var s;return Se(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=_e(s),s}return Ie(n,[{key:"executeNotNull",value:function(){var e=le(de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Dp(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=le(de().mark((function e(){var t,n=this;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jp(1===this.filter.length,"Popup operations only handle one event"),t=ty(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Rp(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Rp(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Rp(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,jy.get())}()}}]),n}(Ly);My.currentPopupAction=null;var Uy=new Map,Fy=function(e){be(n,e);var t=Ee(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Se(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Ie(n,[{key:"execute",value:function(){var e=le(de().mark((function e(){var t,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Uy.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Vy(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ke(ye(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Uy.set(this.auth._key(),t);case 21:return this.bypassAuthState||Uy.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=le(de().mark((function e(t){var r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ke(ye(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ke(ye(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=le(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ly);function Vy(e,t){return qy.apply(this,arguments)}function qy(){return qy=le(de().mark((function e(t,n){var r,i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=By(n),i=zy(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),qy.apply(this,arguments)}function zy(e){return Up(e._redirectPersistence)}function By(e){return Nv("pendingRedirect",e.config.apiKey,e.name)}function Hy(e,t){return Ky.apply(this,arguments)}function Ky(){return Ky=le(de().mark((function e(t,n){var r,i,a,o,s,u=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Kv(t),a=Ny(i,n),o=new Fy(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Ky.apply(this,arguments)}var Wy=function(){function e(t){Se(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Ie(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qy(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Qy(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Rp(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gy(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Gy(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Gy(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Qy(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function $y(e){return Xy.apply(this,arguments)}function Xy(){return Xy=le(de().mark((function e(t){var n,r=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",$p(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Xy.apply(this,arguments)}var Yy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jy=/^https?/;function Zy(){return Zy=le(de().mark((function e(t){var n,r,i,a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,$y(t);case 4:n=e.sent,r=n.authorizedDomains,i=fe(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!eg(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Ap(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Zy.apply(this,arguments)}function eg(e){var t=Vp(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Jy.test(r))return!1;if(Yy.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var tg=new Bp(3e4,6e4);function ng(){var e=ry().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=X(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var rg=null;function ig(e){return rg=rg||function(e){return new Promise((function(t,n){var r,i,a;function o(){ng(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){ng(),n(Rp(e,"network-request-failed"))},timeout:tg.get()})}if(null===(i=null===(r=ry().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ry().gapi)||void 0===a?void 0:a.load)){var s=Ey("iframefcb");return ry()[s]=function(){gapi.load?o():n(Rp(e,"network-request-failed"))},xy("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw rg=null,e}))}(e),rg}var ag=new Bp(5e3,15e3),og={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ug(e){var t=e.config;Dp(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Hp(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:St},i=sg.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(He(r).slice(1))}function cg(e){return lg.apply(this,arguments)}function lg(){return lg=le(de().mark((function e(t){var n,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ig(t);case 2:return n=e.sent,Dp(r=ry().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ug(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:og,dontclear:!0},(function(e){return new Promise(function(){var n=le(de().mark((function n(r,i){var a,o,s;return de().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){ry().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Rp(t,"network-request-failed"),o=ry().setTimeout((function(){i(a)}),ag.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),lg.apply(this,arguments)}var fg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hg="_blank",dg="http://localhost",pg=function(){function e(t){Se(this,e),this.window=t,this.associatedEvent=null}return Ie(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function vg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},fg),{width:r.toString(),height:i.toString(),top:a,left:s}),l=Oe().toLowerCase();n&&(u=Dv(l)?hg:n),Pv(l)&&(t=t||dg,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=o(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Vv(l)&&"_self"!==u)return mg(t||"",u),new pg(null);var h=window.open(t||"",u,f);Dp(h,e,"popup-blocked");try{h.focus()}catch(d){}return new pg(h)}function mg(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var yg="__/auth/handler",gg="emulator/auth/handler";function kg(e,t,n,r,i,a){Dp(e.config.authDomain,e,"auth-domain-config-required"),Dp(e.config.apiKey,e,"invalid-api-key");var s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:St,eventId:i};if(t instanceof vm){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(a||{});u<c.length;u++){var l=o(c[u],2),f=l[0],h=l[1];s[f]=h}}if(t instanceof mm){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(s.scopes=d.join(","))}e.tenantId&&(s.tid=e.tenantId);for(var p=s,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(yg);return Hp(t,gg)}(e),"?").concat(He(p).slice(1))}var bg="webStorageSupport",wg=function(){function e(){Se(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jm,this._completeRedirectFn=Hy}return Ie(e,[{key:"_openPopup",value:function(){var e=le(de().mark((function e(t,n,r,i){var a,o;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jp(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=kg(t,n,r,Vp(),i),e.abrupt("return",vg(t,o,ty()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=le(de().mark((function e(t,n,r,i){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=kg(t,n,r,Vp(),i),ry().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(jp(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=le(de().mark((function e(t){var n,r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cg(t);case 2:return n=e.sent,r=new Wy(t),n.register("authEvent",(function(e){return Dp(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(bg,{type:bg},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Ap(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Zy.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return zv()||Ov()||Fv()}}]),e}(),_g=wg,xg=function(){function e(t){Se(this,e),this.factorId=t}return Ie(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Lp("unexpected MultiFactorSessionType")}}}]),e}(),Eg=function(e){be(n,e);var t=Ee(n);function n(e){var r;return Se(this,n),(r=t.call(this,"phone")).credential=e,r}return Ie(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return $p(e,"POST","/v2/accounts/mfaEnrollment:finalize",Qp(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return $p(e,"POST","/v2/accounts/mfaSignIn:finalize",Qp(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(xg);(function(){function e(){Se(this,e)}return Ie(e,null,[{key:"assertion",value:function(e){return Eg._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Sg,Tg="@firebase/auth",Ig="0.19.9",Cg=function(){function e(t){Se(this,e),this.auth=t,this.internalListeners=new Map}return Ie(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=le(de().mark((function e(t){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Dp(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();Sg="Browser",kt(new Xe("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){Dp(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Dp(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:Sg,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bv(Sg)},r=new Hv(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Up);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),kt(new Xe("auth-internal",(function(e){return function(e){return new Cg(e)}(Kv(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),It(Tg,Ig,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Sg)),It(Tg,Ig,"esm2017");var Ng="firebasestorage.googleapis.com",Ag=function(e){be(n,e);var t=Ee(n);function n(e,r){var i;return Se(this,n),(i=t.call(this,Rg(e),"Firebase Storage: ".concat(r," (").concat(Rg(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(_e(i),n.prototype),i}return Ie(n,[{key:"_codeEquals",value:function(e){return Rg(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Ue);function Rg(e){return"storage/"+e}function Pg(){return new Ag("unknown","An unknown error occurred, please check the error payload for server response.")}function Og(){return new Ag("canceled","User canceled the upload/download.")}function Dg(){return new Ag("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Lg(e){return new Ag("invalid-argument",e)}function jg(){return new Ag("app-deleted","The Firebase app was deleted.")}function Mg(e,t){return new Ag("invalid-format","String does not match format '"+e+"': "+t)}function Ug(e){throw new Ag("internal-error","Internal error: "+e)}var Fg,Vg=function(){function e(t,n){Se(this,e),this.bucket=t,this.path_=n}return Ie(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new Ag("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Ng?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new Ag("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),qg=function(){function e(t){Se(this,e),this.promise_=Promise.reject(t)}return Ie(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function zg(e){return"string"===typeof e||e instanceof String}function Bg(e){return Hg()&&e instanceof Blob}function Hg(){return"undefined"!==typeof Blob}function Kg(e,t,n,r){if(r<t)throw Lg("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Lg("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Wg(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Gg(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Fg||(Fg={}));var Qg=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this;Se(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return Ie(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=Pg();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?jg():Og());else i(new Ag("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new $g(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new $g(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Fg.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new $g(o,r))}else{var s=r.getErrorCode()===Fg.ABORT;t(!1,new $g(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),$g=Ie((function e(t,n,r){Se(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function Xg(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Yg(){for(var e=Xg(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(Hg())return new Blob(n);throw new Ag("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Jg="raw",Zg="base64",ek="base64url",tk="data_url",nk=Ie((function e(t,n){Se(this,e),this.data=t,this.contentType=n||null}));function rk(e,t){switch(e){case Jg:return new nk(ik(t));case Zg:case ek:return new nk(ak(e,t));case tk:return new nk(function(e){var t=new ok(e);return t.base64?ak(Zg,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw Mg(tk,"Malformed data URL.")}return ik(t)}(t.rest)}(t),new ok(t).contentType)}throw Pg()}function ik(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ak(e,t){switch(e){case Zg:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Mg(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case ek:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Mg(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw Mg(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var ok=Ie((function e(t){Se(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Mg(tk,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var sk=function(){function e(t,n){Se(this,e);var r=0,i="";Bg(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return Ie(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(Bg(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Hg()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(Yg.apply(null,i))}var a=n.map((function(e){return zg(e)?rk(Jg,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function uk(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function ck(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function lk(e,t){return t}var fk=Ie((function e(t,n,r,i){Se(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||lk})),hk=null;function dk(){if(hk)return hk;var e=[];e.push(new fk("bucket")),e.push(new fk("generation")),e.push(new fk("metageneration")),e.push(new fk("name","fullPath",!0));var t=new fk("name");t.xform=function(e,t){return function(e){return!zg(e)||e.length<2?e:ck(e)}(t)},e.push(t);var n=new fk("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new fk("timeCreated")),e.push(new fk("updated")),e.push(new fk("md5Hash",null,!0)),e.push(new fk("cacheControl",null,!0)),e.push(new fk("contentDisposition",null,!0)),e.push(new fk("contentEncoding",null,!0)),e.push(new fk("contentLanguage",null,!0)),e.push(new fk("contentType",null,!0)),e.push(new fk("metadata","customMetadata",!0)),hk=e}function pk(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Vg(n,r);return t._makeStorageReference(i)}})}(r,e),r}function vk(e,t,n){var r=uk(t);return null===r?null:pk(e,r,n)}function mk(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var yk=Ie((function e(t,n,r,i){Se(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function gk(e){if(!e)throw Pg()}function kk(e,t){return function(n,r){var i=vk(e,r,t);return gk(null!==i),i}}function bk(e,t){return function(n,r){var i=vk(e,r,t);return gk(null!==i),function(e,t,n,r){var i=uk(t);if(null===i)return null;if(!zg(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return Wg("/b/"+o(i)+"/o/"+o(a),n,r)+Gg({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function wk(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Ag("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Ag("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new Ag("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Ag("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function _k(e){var t=wk(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new Ag("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function xk(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Ek(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=xk(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+mk(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=sk.getBlob(c,r,l);if(null===f)throw Dg();var h={name:u.fullPath},d=Wg(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new yk(d,"POST",kk(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=wk(t),v}var Sk=function(){function e(){var t=this;Se(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fg.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Fg.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Fg.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Ie(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Ug("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Ug("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Ug("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Ug("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Ug("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),Tk=function(e){be(n,e);var t=Ee(n);function n(){return Se(this,n),t.apply(this,arguments)}return Ie(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Sk);function Ik(){return new Tk}var Ck=function(){function e(t,n){Se(this,e),this._service=t,this._location=n instanceof Vg?n:Vg.makeFromUrl(n,t.host)}return Ie(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Vg(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return ck(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Vg(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new Ag("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function Nk(e,t,n){e._throwIfRoot("uploadBytes");var r=Ek(e.storage,e._location,dk(),new sk(t,!0),n);return e.storage.makeRequestWithTokens(r,Ik).then((function(t){return{metadata:t,ref:e}}))}function Ak(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=Wg(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new yk(r,"GET",bk(e,n),i);return a.errorHandler=_k(t),a}(e.storage,e._location,dk());return e.storage.makeRequestWithTokens(t,Ik).then((function(e){if(null===e)throw new Ag("no-download-url","The given file does not have any download URLs.");return e}))}function Rk(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Vg(e._location.bucket,n);return new Ck(e.storage,r)}function Pk(e,t){if(e instanceof Lk){var n=e;if(null==n._bucket)throw new Ag("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Ck(n,n._bucket);return null!=t?Pk(r,t):r}return void 0!==t?Rk(e,t):e}function Ok(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Lk)return new Ck(e,t);throw Lg("To use ref(service, url), the first argument must be a Storage instance.")}return Pk(e,t)}function Dk(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Vg.makeFromBucketSpec(n,e)}var Lk=function(){function e(t,n,r,i,a){Se(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Ng,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Vg.makeFromBucketSpec(i,this._host):Dk(this._host,this.app.options)}return Ie(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Vg.makeFromBucketSpec(this._url,e):this._bucket=Dk(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Kg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Kg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=le(de().mark((function e(){var t,n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=le(de().mark((function e(){var t,n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Ck(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new qg(jg());var a=function(e,t,n,r,i,a){var o=Gg(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Qg(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=le(de().mark((function e(t,n){var r,i,a,s;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=o(r,2),a=i[0],s=i[1],e.abrupt("return",this._makeRequest(t,n,a,s).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),jk="@firebase/storage",Mk="0.9.2",Uk="storage";function Fk(e,t,n){return Nk(e=$e(e),t,n)}function Vk(e){return Ak(e=$e(e))}function qk(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Lk(r,i,a,n,St)}kt(new Xe(Uk,qk,"PUBLIC").setMultipleInstances(!0)),It(jk,Mk,""),It(jk,Mk,"esm2017");!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:pt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw xt.create("bad-app-name",{appName:String(i)});var a=mt.get(i);if(a){if(ze(e,a.options)&&ze(r,a.config))return a;throw xt.create("duplicate-app",{appName:i})}var o,s=new tt(i),u=fe(yt.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Et(e,r,s);mt.set(i,l)}({apiKey:"AIzaSyBG8aKjWM-p_DcXrJ1-nGTwnbJvk5TCapg",authDomain:"service-app-1428b.firebaseapp.com",projectId:"service-app-1428b",storageBucket:"service-app-1428b.appspot.com",messagingSenderId:"899268214541",appId:"1:899268214541:web:2a5079708f1c4c6060ba44"});var zk=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt();return bt(e,"firestore").getImmediate()}(),Bk=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt(),t=bt(e,"auth");return t.isInitialized()?t.getImmediate():Fp(e,{popupRedirectResolver:_g,persistence:[wy,Xm,Jm]})}(),Hk=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt(),t=arguments.length>1?arguments[1]:void 0,n=bt(e=$e(e),Uk),r=n.getImmediate({identifier:t});return r}(),Kk=(0,t.createContext)(null),Wk=function(e){var n=e.children,r=o((0,t.useState)(null),2),i=r[0],a=r[1],s=o((0,t.useState)(!1),2),u=s[0],c=s[1],l=o((0,t.useState)(null),2),f=l[0],h=l[1],d=o((0,t.useState)(null),2),p=d[0],v=d[1];!function(e,t,n,r){$e(e).onAuthStateChanged(t,n,r)}(Bk,(function(e){a(e||null),c(!0)}));var m=(0,t.useCallback)((function(){v(null),h(null)}),[v,h]),y=function(e){h(null),"auth/invalid-email"===e?(h("Invalid email"),v("email")):"auth/user-not-found"===e?(h("User not found"),v("email")):"auth/email-already-in-use"===e?(h("Email already in use"),v("email")):"auth/wrong-password"===e?(h("Wrong password"),v("password")):"auth/weak-password"===e?(h("Password must be at least 6 characters"),v("password")):"auth/too-many-requests"===e?(h("Too many requests, wait and try again"),v("popup")):(h(e),v("popup"))},g=function(){var e=le(de().mark((function e(t,n,r){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mm(Bk,t,n).then(function(){var e=le(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pp(hd(zk,"users_data",t.user.uid),{devices:[],name:null,surname:null,phone:null}),r();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){y(e.code)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),k={user:i,isUserStatusChecked:u,errorMessage:f,errorField:p,setErrorField:v,setErrorMessage:h,cleanError:m,signUp:g,signIn:function(e,t,n){(function(e,t,n){return Om($e(e),pm.credential(t,n))})(Bk,e,t).then((function(e){return n()})).catch((function(e){return y(e.code)}))},logout:function(e){(function(e){return $e(e).signOut()})(Bk).then((function(){return e()})).catch((function(e){return console.error(e.code)}))}};return(0,Y.jsx)(Kk.Provider,{value:k,children:n})},Gk=function(){return(0,t.useContext)(Kk)},Qk=function(){return(0,Y.jsx)("div",{className:"loader"})},$k=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=(0,t.useState)(n),i=o(r,2),a=i[0],s=i[1],u=(0,t.useState)(1),c=o(u,2),l=c[0],f=c[1],h=(0,t.useState)(0),d=o(h,2),p=d[0],v=d[1],m=(0,t.useState)([]),y=o(m,2),g=y[0],k=y[1];return(0,t.useEffect)((function(){var t=Math.ceil(e.length/a);v(t)}),[e.length,a]),(0,t.useEffect)((function(){var t=e.slice(0+a*(l-1),a+a*(l-1));k(t)}),[l,e,a]),(0,t.useEffect)((function(){f(1)}),[e]),{paginationLimit:a,setPaginationLimit:s,currentPage:l,setCurrentPage:f,totalPages:p,paginatedElements:g}},Xk=function(e){var t=e.currentPage,n=e.setCurrentPage,r=e.totalPages,i=(e.setPaginationLimit,function(e){e>0&&e<=r&&n(e)});return(0,Y.jsxs)("div",{className:"pagination",children:[(0,Y.jsxs)("div",{className:"pagination__page-info",children:["Page ",t," of ",r]}),(0,Y.jsxs)("ul",{className:"pagination__navigation",children:[(0,Y.jsx)("div",{className:"pagination__button ".concat(1===t&&"pagination__button--disabled"),onClick:function(){return i(1)},"data-testid":"arrow-double-left",children:(0,Y.jsx)("i",{className:"fas fa-angle-double-left"})}),(0,Y.jsx)("div",{className:"pagination__button ".concat(1===t&&"pagination__button--disabled"),onClick:function(){return i(t-1)},children:(0,Y.jsx)("i",{className:"fas fa-angle-left"})}),(0,Y.jsx)("div",{className:"pagination__button pagination__button pagination__button--active","data-testid":"current-page",children:t}),(0,Y.jsx)("div",{className:"pagination__button ".concat(t===r&&"pagination__button--disabled"),onClick:function(){return i(t+1)},"data-testid":"arrow-right",children:(0,Y.jsx)("i",{className:"fas fas fa-angle-right"})}),(0,Y.jsx)("div",{className:"pagination__button ".concat(t===r&&"pagination__button--disabled"),onClick:function(){return i(r)},"data-testid":"arrow-double-right",children:(0,Y.jsx)("i",{className:"fas fa-angle-double-right"})})]})]})},Yk=function(e){var n=e.onEnter,r=e.onEscape;(0,t.useEffect)((function(){var e=function(e){n&&"Enter"===e.key?(e.preventDefault(),n()):r&&"Escape"===e.key&&(e.preventDefault(),r())};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[n,r])},Jk=function(e){var n=e.setIsAddDeviceOpen,r=e.userDevices,i=o((0,t.useState)([]),2),a=i[0],s=i[1],u=o((0,t.useState)([]),2),c=u[0],l=u[1],f=o((0,t.useState)(!0),2),h=f[0],d=f[1],p=o((0,t.useState)(null),2),v=p[0],m=p[1],y=o((0,t.useState)(null),2),g=y[0],k=y[1],b=o((0,t.useState)(null),2),w=b[0],_=b[1],x=o((0,t.useState)(""),2),E=x[0],S=x[1],T=o((0,t.useState)([]),2),I=T[0],C=T[1],N=o((0,t.useState)([]),2),A=N[0],R=N[1],P=Gk().user,O=$k(c),D=O.setPaginationLimit,L=O.currentPage,j=O.setCurrentPage,M=O.totalPages,U=O.paginatedElements;Yk({onEscape:function(){return n(!1)}}),(0,t.useEffect)((function(){dp(rp(fd(zk,"manufacturers"),op("name","asc"))).then((function(e){var t,n=[],r=fe(e.docs);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(i.data().name)}}catch(a){r.e(a)}finally{r.f()}R(n)})).catch((function(e){return R([])})),dp(rp(fd(zk,"deviceCategories"),op("name","asc"))).then((function(e){var t,n=[],r=fe(e.docs);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(i.data().name)}}catch(a){r.e(a)}finally{r.f()}C(n)})).catch((function(e){return C([])}))}),[]);var F=(0,t.useCallback)(le(de().mark((function e(){var t,n,i,a;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=le(de().mark((function e(){var t,n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=rp(fd(zk,"devices"),op("model")),e.next=4,dp(n);case 4:return e.sent.forEach((function(e){var n=ue(ue({},e.data()),{},{id:e.id});t.push(n)})),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=le(de().mark((function e(t,n){var r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.filter((function(e){var n,r=fe(t);try{for(r.s();!(n=r.n()).done;){if(n.value.id===e.id)return!1}}catch(i){r.e(i)}finally{r.f()}return!0})),e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.prev=2,d(!0),m(null),e.next=7,t();case 7:return i=e.sent,e.next=10,n(r,i);case 10:(a=e.sent)&&s(a),d(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),m(e.t0),d(!1);case 19:case"end":return e.stop()}}),e,null,[[2,15]])}))),[r]);(0,t.useEffect)((function(){P&&F()}),[P,F]),(0,t.useEffect)((function(){g||w||0!==E.length?function(e,t){var n=e.filter((function(e){var n=e.category,r=e.model,i=e.manufacturer,a=e.serialNumber,o=new RegExp("^".concat(t),"i");return(!g||n===g)&&((!w||i===w)&&!(0!==t.length&&!o.test(r)&&!o.test(a)))}));l(n)}(a,E):l(a)}),[a,g,w,E]);var V=[{iconName:"fas fa-circle-plus",color:"green",callback:function(e){P&&e&&(vp(hd(zk,"users_data",P.uid),{devices:wp(e)}).catch((function(e){return console.error(e)})),n(!1))}},{iconName:"fas fa-info-circle",color:"blue",callback:function(){return null}}];return(0,Y.jsxs)("div",{className:"add-device",children:[(0,Y.jsxs)("div",{className:"add-device__top",children:[(0,Y.jsx)(re,{searchValue:E,setSearchValue:S}),(0,Y.jsxs)("div",{className:"add-device__filters",children:[(0,Y.jsx)(te,{text:"Category",options:I,selectedOption:g,setSelectedOption:k,resetText:"All"}),(0,Y.jsx)(te,{text:"Manufacturer",options:A,selectedOption:w,setSelectedOption:_,resetText:"All"})]})]}),0===c.length&&(0,Y.jsxs)("div",{className:"add-device__bottom",children:[h&&(0,Y.jsx)(Qk,{}),!h&&!v&&0===c.length&&(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsx)("h3",{className:"add-device__fetch-info",children:"No devices found"})}),!h&&v&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)("h3",{className:"add-device__fetch-info",children:"Failed to fetch devices"}),(0,Y.jsx)("p",{className:"add-device__fetch-error",children:v}),(0,Y.jsx)(ie,{text:"TRY AGAIN",backgroundColor:"blue",action:function(){return F()}})]})]}),0!==c.length&&(0,Y.jsxs)("div",{className:"add-device__bottom",children:[(0,Y.jsx)(Z,{devices:U,actionButtons:V}),(0,Y.jsx)(Xk,{setPaginationLimit:D,currentPage:L,setCurrentPage:j,totalPages:M})]})]})},Zk=function(e){var t=e.children;return(0,Y.jsx)("div",{className:"sub-header",children:t})},eb={userData:null,isFetching:!0,error:null},tb=(0,t.createContext)(eb),nb=function(e){var n=e.children,r=o((0,t.useState)(null),2),i=r[0],a=r[1],s=o((0,t.useState)(!0),2),u=s[0],c=s[1],l=o((0,t.useState)(null),2),f=l[0],h=l[1],d=Gk().user;(0,t.useEffect)((function(){try{c(!0),d&&gp(hd(zk,"users_data",d.uid),(function(e){var t=e.data();t&&a(t),t||a(null),c(!1)}))}catch(f){h(f)}}),[d]);var p={userData:i,isFetching:u,error:f};return(0,Y.jsx)(tb.Provider,{value:p,children:n})},rb=function(e){var t=e.placeholder,n=e.value,r=e.setState,i=e.type,a=e.disabled,o=void 0!==a&&a,s=e.required,u=e.hasLabel,c=void 0===u||u;return(0,Y.jsxs)("div",{className:"input-basic",children:[c&&(0,Y.jsx)("label",{htmlFor:t,className:"input-basic__label",children:t}),(0,Y.jsx)("input",{id:t,type:i,placeholder:c?"":t,value:n,onChange:function(e){return function(e,t){e(t.currentTarget.value)}(r,e)},disabled:o,className:"input-basic__input ".concat(o?"input-basic__input--read-only":"")}),s&&!n&&(0,Y.jsx)("div",{className:"input-basic__required-warning",children:"Field required"})]})},ib=function(e){var t=e.value,n=e.onChange,r=e.label;return(0,Y.jsxs)("div",{className:"text-area-input",children:[(0,Y.jsx)("label",{htmlFor:"textarea",className:"text-area-input__label",children:r}),(0,Y.jsx)("textarea",{id:"textarea",className:"text-area-input__textarea",value:t,onChange:function(e){return n(e.target.value)}})]})},ab=function(e){var n=e.setIsServiceRequestOpen,r=e.device,i=e.popup,a=o((0,t.useState)(null),2),s=a[0],u=a[1],c=o((0,t.useState)(""),2),l=c[0],f=c[1],h=o((0,t.useState)(!0),2),d=h[0],p=h[1],v=Gk().user;Yk({onEscape:function(){n(!1)}}),(0,t.useEffect)((function(){s&&p(!1)}),[s]);var m=function(){var e=le(de().mark((function e(){var t;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={userId:null===v||void 0===v?void 0:v.uid,device:r,category:s,problemDescription:l,status:"In progress",createdAt:new Pd("serverTimestamp")},e.prev=1,e.next=4,yp(fd(zk,"serviceRequests"),t);case 4:n(!1),i.setPopupContent("Request sent succesfuly"),i.setPopupType("default"),i.setIsPopupActive(!0),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),i.setPopupContent(e.t0),i.setPopupType("error"),i.setIsPopupActive(!0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return(0,Y.jsxs)("div",{className:"add-service-request",children:[(0,Y.jsx)(rb,{type:"text",placeholder:"Manufacturer",disabled:!0,value:r.manufacturer,setState:function(){return null}}),(0,Y.jsx)(rb,{type:"text",placeholder:"Model",disabled:!0,value:r.model,setState:function(){return null}}),(0,Y.jsx)(rb,{type:"text",placeholder:"Serial number",disabled:!0,value:r.serialNumber,setState:function(){return null}}),(0,Y.jsx)(te,{text:"Problem category",options:["Damaged device","Software update","Inspection and maintenance","Other"],selectedOption:s,setSelectedOption:u}),(0,Y.jsx)(ib,{label:"Describe problem",value:l,onChange:f}),(0,Y.jsx)(ie,{text:"Send request",action:m,disabled:d,backgroundColor:"blue"})]})},ob=function(e){var t=e.onClose,n=e.children,r=e.title;return(0,Y.jsxs)("div",{className:"modal-window",children:[(0,Y.jsxs)("div",{className:"modal-window__header",children:[(0,Y.jsx)("h2",{className:"modal-window__title",children:r}),(0,Y.jsx)("button",{className:"modal-window__exit-button fas fa-times",onClick:t})]}),n]})},sb=function(e){var n=e.content,r=e.duration,i=e.type,a=void 0===i?"default":i,o=e.isActive,s=e.setIsActive;return(0,t.useEffect)((function(){o&&setTimeout((function(){s(!1)}),r)}),[o,r,s]),o?(0,Y.jsxs)("div",{className:"popup ".concat(a?"popup--".concat(a):""),children:["default"===a&&(0,Y.jsx)("i",{className:"popup__icon fa-solid fa-circle-info"}),"error"===a&&(0,Y.jsx)("i",{className:"popup__icon fa-solid fa-circle-exclamation"}),n]}):null},ub=function(){var e=o((0,t.useState)(!1),2),n=e[0],r=e[1],i=o((0,t.useState)(""),2),a=i[0],s=i[1],u=o((0,t.useState)("default"),2),c=u[0],l=u[1];return{isPopupActive:n,setIsPopupActive:r,popupContent:a,setPopupContent:s,popupType:c,setPopupType:l,resetPopup:function(){s(""),l("default"),r(!1)}}},cb=function(e){var t=e.callback,n=e.title,r=e.text,i=e.closeModal;return Yk({onEnter:function(){t(),i()},onEscape:function(){i()}}),(0,Y.jsxs)("div",{className:"confirm-modal",children:[(0,Y.jsx)("h4",{className:"confirm-modal__title",children:n}),(0,Y.jsx)("p",{className:"confirm-modal__text",children:r}),(0,Y.jsxs)("div",{className:"confirm-modal__buttons",children:[(0,Y.jsx)(ie,{text:"CONFIRM",backgroundColor:"blue",action:function(){t(),i()}}),(0,Y.jsx)(ie,{text:"DISMISS",action:i})]})]})},lb=function(){var e=o((0,t.useState)([]),2),n=e[0],r=e[1],i=o((0,t.useState)(""),2),a=i[0],s=i[1],u=o((0,t.useState)("Model"),2),c=u[0],l=u[1],f=o((0,t.useState)(!1),2),h=f[0],d=f[1],p=o((0,t.useState)(!1),2),v=p[0],m=p[1],y=o((0,t.useState)(null),2),g=y[0],k=y[1],b=o((0,t.useState)(null),2),w=b[0],_=(b[1],o((0,t.useState)(null),2)),x=_[0],E=_[1],S=(0,t.useContext)(tb),T=S.userData,I=S.isFetching,C=(S.error,Gk().user),N=ub(),A=$k(n,10),R=A.setPaginationLimit,P=A.currentPage,O=A.setCurrentPage,D=A.totalPages,L=A.paginatedElements;(0,t.useEffect)((function(){var e=function(e){var t=X(e).sort((function(e,t){return e[c.toLowerCase()]>t[c.toLowerCase()]?1:e[c.toLowerCase()]<t[c.toLowerCase()]?-1:0}));return t};if(T)if(0===a.length){var t=e(T.devices);r(t)}else if(0!==a.length){var n=function(e,t){return e.filter((function(e){var n=e.model,r=e.serialNumber,i=new RegExp("^".concat(t),"i");return!(0!==t.length&&!i.test(n)&&!i.test(r))}))}(T.devices,a),i=e(n);r(i)}}),[a,T,c]);var j=[{iconName:"fas fa-wrench",color:"yellow",callback:function(e){k(e),m(!0)}},{iconName:"fas fa-info-circle",color:"blue",callback:function(){return window.open("https://www.felder-group.com/pl-pl/produkty/centra-obrobcze-cnc-c1953/cnc-wiertarsko-kolkujace-d-jet-p583668","_blank")}},{iconName:"far fa-trash-alt",color:"red",callback:function(e){E(e)}}],M=["Model","Category","SerialNumber","Manufacturer"];return(0,Y.jsxs)("div",{className:"devices-page",children:[(0,Y.jsx)(ee,{title:"Your Devices",children:(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(ne,{sortBy:c,setSortBy:l,sortingOptions:M}),(0,Y.jsx)(re,{searchValue:a,setSearchValue:s}),(0,Y.jsx)(ie,{text:"ADD DEVICE",backgroundColor:"blue",action:function(){return d(!0)}})]})}),(0,Y.jsxs)(Zk,{children:[(0,Y.jsx)("h4",{className:"devices-page__page-title",children:"Your devices"}),(0,Y.jsx)(ie,{text:"ADD DEVICE",backgroundColor:"blue",action:function(){return d(!0)}})]}),(0,Y.jsxs)(Zk,{children:[(0,Y.jsx)(re,{searchValue:a,setSearchValue:s}),(0,Y.jsx)(ne,{sortBy:c,setSortBy:l,sortingOptions:M})]}),(0,Y.jsxs)("div",{className:"devices-page__main",children:[I&&(0,Y.jsx)(Qk,{}),!I&&!w&&0!==L.length&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(Z,{devices:L,actionButtons:j}),(0,Y.jsx)(Xk,{setPaginationLimit:R,currentPage:P,setCurrentPage:O,totalPages:D})]}),!I&&!w&&0===n.length&&(0,Y.jsx)("div",{className:"devices-page__fetch-info-container",children:(0,Y.jsx)("h3",{className:"devices-page__fetch-info",children:0===a.length?"You don't have any devices":"No devices found"})}),!I&&w&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)("h3",{className:"devices-page__fetch-info",children:"Failed to fetch devices"}),(0,Y.jsx)("p",{className:"devices-page__fetch-error",children:w})]}),T&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(ae,{isOpen:h,onClose:function(){return d(!1)},children:(0,Y.jsx)(ob,{title:"Add new device",onClose:function(){return d(!1)},children:(0,Y.jsx)(Jk,{setIsAddDeviceOpen:d,userDevices:T.devices})})}),g&&(0,Y.jsx)(ae,{isOpen:v,onClose:function(){return m(!1)},children:(0,Y.jsx)(ob,{title:"New service request",onClose:function(){return m(!1)},children:(0,Y.jsx)(ab,{device:g,setIsServiceRequestOpen:function(){return m(!1)},popup:N})})})]})]}),x&&(0,Y.jsx)(ae,{isOpen:null!==x,onClose:function(){return E(null)},children:(0,Y.jsx)(cb,{title:"Device delete",text:"Are you sure to delete this device?",callback:function(){console.log(x),C&&vp(hd(zk,"users_data",C.uid),{devices:_p(x)}).catch((function(e){return console.error(e)}))},closeModal:function(){return E(null)}})}),(0,Y.jsx)(sb,{content:N.popupContent,duration:3e3,type:N.popupType,isActive:N.isPopupActive,setIsActive:N.setIsPopupActive})]})},fb=function(e){var t=e.message;return(0,Y.jsx)("div",{className:"validation-error",children:t})},hb=function(e){var t=e.text;return(0,Y.jsxs)("div",{className:"checkbox",children:[(0,Y.jsx)("input",{id:"checkbox",type:"checkbox",className:"checkbox__input"}),(0,Y.jsx)("label",{htmlFor:"checkbox",className:"checkbox__text",children:t})]})},db=function(){var e=o((0,t.useState)(""),2),n=e[0],r=e[1],i=o((0,t.useState)(""),2),a=i[0],s=i[1],u=o((0,t.useState)(!(!n||!a)),2),c=u[0],l=u[1],f=C(),h=Gk(),d=h.signIn,p=h.errorMessage,v=h.errorField,m=h.cleanError,y=ub();(0,t.useEffect)((function(){l(!(!n||!a))}),[n,a]),(0,t.useEffect)((function(){m()}),[m]);var g=function(){y.resetPopup(),d(n,a,(function(){return f("/")})),p&&"popup"===v&&(y.setPopupContent(p),y.setPopupType("error"),y.setIsPopupActive(!0))};return(0,Y.jsxs)("div",{className:"sign-in-form",children:[(0,Y.jsx)("h1",{className:"sign-in-form__title",children:"Sign In"}),(0,Y.jsxs)("form",{className:"sign-in-form__group sign-in-form__group--inputs",onKeyDown:function(e){return function(e){c&&"Enter"===e.key&&(e.preventDefault(),g())}(e)},autoComplete:"off",children:[(0,Y.jsx)(rb,{placeholder:"Email",type:"text",value:n,setState:r,error:"email"===v?p:null,autofocus:!0,autoComplete:"off",hasLabel:!1}),"email"===v&&p&&(0,Y.jsx)(fb,{message:p}),(0,Y.jsx)(rb,{placeholder:"Password",type:"password",value:a,setState:s,error:"password"===v?p:null,autoComplete:"off",hasLabel:!1}),"password"===v&&p&&(0,Y.jsx)(fb,{message:p}),(0,Y.jsx)(hb,{text:"Remember me"})]}),(0,Y.jsx)(ie,{text:"SIGN IN",backgroundColor:"blue",action:g,disabled:!c}),(0,Y.jsxs)("span",{className:"sign-in-form__sign-up",children:["No account yet? \xa0",(0,Y.jsx)($,{to:"/auth/signup",className:"sign-in-form__sign-up-link",children:"Sign up!"})]}),(0,Y.jsx)($,{to:"/forgot-password",className:"sign-in-form__forgot-password",children:"Forgot password?"}),(0,Y.jsx)(sb,{content:y.popupContent,duration:3e3,type:y.popupType,isActive:y.isPopupActive,setIsActive:y.setIsPopupActive})]})},pb=function(){var e=o((0,t.useState)(""),2),n=e[0],r=e[1],i=o((0,t.useState)(""),2),a=i[0],s=i[1],u=o((0,t.useState)(""),2),c=u[0],l=u[1],f=o((0,t.useState)(!!(n&&a&&c)),2),h=f[0],d=f[1],p=C(),v=Gk(),m=v.signUp,y=v.errorMessage,g=v.errorField,k=v.setErrorMessage,b=v.setErrorField,w=v.cleanError;(0,t.useEffect)((function(){d(!!(n&&a&&c))}),[n,a,c]),(0,t.useEffect)((function(){w()}),[w]);var _=(0,t.useCallback)((function(){a===c?m(n,a,le(de().mark((function e(){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p("/"));case 1:case"end":return e.stop()}}),e)})))):(k("Passwords must match"),b("confirmPassword"))}),[c,n,p,a,b,k,m]);return(0,Y.jsxs)("div",{className:"sign-up-form",children:[(0,Y.jsx)("h1",{className:"sign-up-form__title",children:"Sign Up"}),(0,Y.jsxs)("form",{className:"sign-up-form__group sign-up-form__group--inputs",onKeyDown:function(e){return function(e){h&&"Enter"===e.key&&(e.preventDefault(),_())}(e)},autoComplete:"off",children:[(0,Y.jsx)(rb,{placeholder:"Email",type:"text",value:n,setState:r,error:"email"===g?y:null,autofocus:!0,autoComplete:"off",hasLabel:!1}),"email"===g&&y&&(0,Y.jsx)(fb,{message:y}),(0,Y.jsx)(rb,{placeholder:"Password",type:"password",value:a,error:"password"===g?y:null,setState:s,autoComplete:"off",hasLabel:!1}),"password"===g&&y&&(0,Y.jsx)(fb,{message:y}),(0,Y.jsx)(rb,{placeholder:"Confirm password",type:"password",value:c,error:"confirmPassword"===g?y:null,setState:l,autoComplete:"off",hasLabel:!1}),"confirmPassword"===g&&y&&(0,Y.jsx)(fb,{message:y}),(0,Y.jsxs)("div",{className:"sign-up-form__privacy-consent",children:[(0,Y.jsx)(hb,{text:"I agree to the"}),(0,Y.jsx)($,{to:"/privacy-policy",className:"sign-up-form__privacy-policy-link",children:"Privacy policy"})]})]}),(0,Y.jsx)(ie,{text:"Sign Up",backgroundColor:"blue",action:function(){return _()},disabled:!h}),(0,Y.jsxs)("span",{className:"sign-up-form__login",children:["Already have an account? \xa0",(0,Y.jsx)($,{to:"/auth/login",className:"sign-up-form__login-link",children:"Sign in!"})]})]})},vb=function(e){return(0,Y.jsx)("div",{className:"authorization-page",children:(0,Y.jsxs)(E,{children:[(0,Y.jsx)(_,{path:"login",element:(0,Y.jsx)(db,{})}),(0,Y.jsx)(_,{path:"signup",element:(0,Y.jsx)(pb,{})})]})})},mb=function(e){var t=e.children,n=Gk(),r=n.user;return n.isUserStatusChecked?r?t:(0,Y.jsx)(b,{to:"/auth/login"}):null},yb=function(e){var t=e.photoUrl;return(0,Y.jsx)("div",{className:"profile-image ".concat(t?"":"profile-image--no-photo"),children:t?(0,Y.jsx)("img",{src:t,alt:"user",className:"profile-image__image"}):(0,Y.jsx)("i",{className:"profile-image__no-photo-icon far fa-user"})})},gb=function(e){var n=(0,t.useContext)(tb).userData,r=Gk().user;return(0,Y.jsxs)("div",{className:"account",children:[(0,Y.jsx)($,{to:"/profile",className:"account__image-container",children:null!==r&&void 0!==r&&r.photoURL?(0,Y.jsx)(yb,{photoUrl:r.photoURL}):(0,Y.jsx)("i",{className:"account__profile-icon far fa-user"})}),n&&(0,Y.jsx)("span",{className:"account__user-name",children:n.name&&n.surname?n.name+" "+n.surname:"Welcome User"})]})},kb=function(e){return(0,Y.jsxs)($,{to:"/",className:"logo",children:["Service ",(0,Y.jsx)("div",{className:"logo__color",children:"X"})]})},bb=function(e){var n=e.isActive,r=e.setIsActive,i=C(),a=Gk().logout,o=I(),s=(0,t.useRef)(null);return(0,t.useEffect)((function(){var e=function(e){n&&s.current&&!s.current.contains(e.target)&&r(!1)};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}),[r,n]),(0,Y.jsxs)("div",{ref:s,className:"sidebar ".concat(n&&"active"),children:[(0,Y.jsx)("div",{className:"sidebar__logo-container",children:(0,Y.jsx)(kb,{})}),(0,Y.jsx)(gb,{}),(0,Y.jsxs)("nav",{className:"sidebar__nav",children:[(0,Y.jsxs)($,{to:"/",className:"sidebar__nav-link ".concat("/"===o.pathname?"active":""),children:[(0,Y.jsx)("i",{className:"sidebar__nav-icon fa-solid fa-microchip"}),"Devices"]}),(0,Y.jsxs)($,{to:"/service-requests",className:"sidebar__nav-link ".concat("/service-requests"===o.pathname?"active":""),children:[(0,Y.jsx)("i",{className:"sidebar__nav-icon fa-solid fa-wrench"}),"Service requests"]}),(0,Y.jsxs)($,{to:"/contact",className:"sidebar__nav-link ".concat("/contact"===o.pathname?"active":""),children:[(0,Y.jsx)("i",{className:"sidebar__nav-icon fa-solid fa-address-book"}),"Contact"]}),(0,Y.jsxs)($,{to:"/profile",className:"sidebar__nav-link ".concat("/profile"===o.pathname?"active":""),children:[(0,Y.jsx)("i",{className:"sidebar__nav-icon fa-solid fa-user"}),"Profile"]}),(0,Y.jsxs)("div",{className:"sidebar__nav-link",onClick:function(){return a((function(){return i("/auth/login")}))},children:[(0,Y.jsx)("i",{className:"sidebar__nav-icon fas fa-power-off"}),"Logout"]})]})]})},wb=function(e){var n=o((0,t.useState)(!1),2),r=n[0],i=n[1];return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsxs)("header",{className:"header",children:[(0,Y.jsx)(kb,{}),(0,Y.jsx)("i",{className:"header__bars fas fa-bars",onClick:function(){return i(!r)}})]}),(0,Y.jsx)(bb,{isActive:r,setIsActive:i})]})},_b=function(e){var t=e.children;return(0,Y.jsxs)("div",{className:"layout",children:[(0,Y.jsx)(wb,{}),(0,Y.jsx)("main",{className:"layout__main",children:t})]})},xb=function(e){var n=o((0,t.useState)(""),2),r=n[0],i=n[1],a=o((0,t.useState)(""),2),s=a[0],u=a[1],c=o((0,t.useState)(""),2),l=c[0],f=c[1],h=o((0,t.useState)(!1),2),d=(h[0],h[1],o((0,t.useState)(!1),2)),p=d[0],v=d[1],m=Gk().user,y=ub();(0,t.useEffect)((function(){v(!!(s&&l&&r))}),[s,l,r]);var g=function(){var e=le(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,r!==s){e.next=4;break}throw Error("New password must be different from the old");case 4:if(s===l){e.next=6;break}throw Error("New password and confirm password do not match");case 6:if(!m||!m.email){e.next=18;break}return y.resetPopup(),e.next=10,Lm(m,pm.credential(m.email,r));case 10:return e.next=12,Bm(m,s);case 12:i(""),u(""),f(""),y.setPopupContent("Password changed successfully"),y.setPopupType("default"),y.setIsPopupActive(!0);case 18:e.next=26;break;case 20:e.prev=20,e.t0=e.catch(1),e.t0 instanceof Ue&&y.setPopupContent(e.t0.code),e.t0 instanceof Error&&y.setPopupContent(e.t0.message),y.setPopupType("error"),y.setIsPopupActive(!0);case 26:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}();return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsxs)("form",{className:"change-password",children:[(0,Y.jsx)("h3",{className:"change-password__title",children:"CHANGE PASSWORD"}),(0,Y.jsx)(rb,{placeholder:"Old password",value:r,setState:i,type:"password"}),(0,Y.jsx)(rb,{placeholder:"New password",value:s,setState:u,type:"password"}),(0,Y.jsx)(rb,{placeholder:"Confirm new password",value:l,setState:f,type:"password"}),(0,Y.jsx)("div",{className:"change-password__button-container",children:(0,Y.jsx)(ie,{text:"CHANGE PASSWORD",backgroundColor:"blue",disabled:!p,action:g})})]}),(0,Y.jsx)(sb,{content:y.popupContent,duration:5e3,type:y.popupType,isActive:y.isPopupActive,setIsActive:y.setIsPopupActive})]})},Eb=function(e){var t=e.photoUrl,n=e.setPhotoUrl,r=(e.photoFile,e.setPhotoFile);return(0,Y.jsxs)("div",{className:"profile-image-input ".concat(t?"":"profile-image-input--no-photo"),children:[t?(0,Y.jsx)("img",{src:t,alt:"user",className:"profile-image-input__image"}):(0,Y.jsx)("i",{className:"profile-image-input__no-photo-icon far fa-user"}),(0,Y.jsx)("label",{htmlFor:"file-upload",className:"profile-image-input__label",children:(0,Y.jsx)("div",{className:"profile-image-input__image-input-container",children:(0,Y.jsx)("i",{className:"profile-image-input__edit-icon far fa-edit"})})}),(0,Y.jsx)("input",{onChange:function(e){if(e.currentTarget.files){var t=e.currentTarget.files[0],i=URL.createObjectURL(t);r(t),n(i)}},type:"file",className:"profile-image-input__image-input",id:"file-upload"})]})},Sb=function(e){var n=e.userData,r=Gk().user,i=o((0,t.useState)(""),2),a=i[0],s=i[1],u=o((0,t.useState)(""),2),c=u[0],l=u[1],f=o((0,t.useState)(r.email),2),h=f[0],d=f[1],p=o((0,t.useState)(""),2),v=p[0],m=p[1],y=o((0,t.useState)(""),2),g=y[0],k=y[1],b=o((0,t.useState)(""),2),w=b[0],_=b[1],x=o((0,t.useState)(""),2),E=x[0],S=x[1],T=o((0,t.useState)((null===r||void 0===r?void 0:r.photoURL)||null),2),I=T[0],C=T[1],N=o((0,t.useState)(null),2),A=N[0],R=N[1],P=o((0,t.useState)(!1),2),O=P[0],D=P[1],L=ub(),j=L.popupContent,M=L.setPopupContent,U=L.popupType,F=L.setPopupType,V=L.isPopupActive,q=L.setIsPopupActive,z=L.resetPopup,B=function(){var e=le(de().mark((function e(){var t,n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,z(),!r||!O){e.next=15;break}return e.next=5,vp(hd(zk,"users_data",r.uid),{name:a,surname:c,phone:v,city:g,postCode:w,companyName:E});case 5:if(!I||!A){e.next=15;break}return i=Hk,o="images/".concat(r.uid,"-profile-image"),t=Ok(i=$e(i),o),console.log(A),e.next=10,Fk(t,A);case 10:return e.next=12,Vk(t);case 12:return n=e.sent,e.next=15,qm(r,{photoURL:n});case 15:F("default"),M("Profile updated"),q(!0),e.next=26;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0),F("error"),M(e.t0),q(!0);case 26:case"end":return e.stop()}var i,o}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){n&&(s(n.name),l(n.surname),m(n.phone),k(n.city),_(n.postCode),S(n.companyName))}),[n]),(0,t.useEffect)((function(){D(!!(a&&c&&h&&v&&g&&w&&E))}),[a,c,h,v,g,w,E]),(0,Y.jsxs)("div",{className:"profile-info",children:[(0,Y.jsxs)("div",{className:"profile-info__top",children:[(0,Y.jsx)("h3",{className:"profile-info__title",children:"USER DETAILS"}),(0,Y.jsx)("div",{className:"profile-info__image-container",children:(0,Y.jsx)(Eb,{photoUrl:I,setPhotoUrl:C,photoFile:A,setPhotoFile:R})})]}),(0,Y.jsx)(rb,{placeholder:"Name",value:a,setState:s,type:"text",required:!0}),(0,Y.jsx)(rb,{placeholder:"Surname",value:c,setState:l,type:"text",required:!0}),(0,Y.jsx)(rb,{placeholder:"Email",value:h,setState:d,type:"email",disabled:!0}),(0,Y.jsx)(rb,{placeholder:"Phone",value:v,setState:m,type:"tel",required:!0}),(0,Y.jsx)(rb,{placeholder:"City",value:g,setState:k,type:"text",required:!0}),(0,Y.jsx)(rb,{placeholder:"Post Code",value:w,setState:_,type:"text",required:!0}),(0,Y.jsx)(rb,{placeholder:"Company name",value:E,setState:S,type:"text"}),(0,Y.jsx)("div",{className:"profile-info__button-container",children:(0,Y.jsx)(ie,{text:"Update profile",backgroundColor:"blue",action:B,disabled:!O})}),(0,Y.jsx)(sb,{content:j,duration:5e3,type:U,isActive:V,setIsActive:q})]})},Tb=function(e){var n=(0,t.useContext)(tb),r=n.userData,i=n.isFetching;return(0,Y.jsxs)("div",{className:"profile-page",children:[(0,Y.jsx)(ee,{title:"Your Profile"}),i&&(0,Y.jsx)(Qk,{}),!i&&(0,Y.jsxs)("div",{className:"profile-page__main",children:[(0,Y.jsx)(Sb,{userData:r}),(0,Y.jsx)(xb,{})]})]})},Ib=function(e){return(0,Y.jsxs)("div",{className:"not-found-page",children:[(0,Y.jsx)("h1",{className:"not-found-page__title",children:"Page Not Found \ud83d\udd0e"}),(0,Y.jsx)("p",{className:"not-found-page__text",children:"The page you were looking for could not be found. It might have been removed, renamed, or did not exist in the first place."}),(0,Y.jsx)($,{className:"not-found-page__button",to:"/",children:"Home"})]})},Cb=function(e){var t=e.serviceRequests,n=e.actions;return(0,Y.jsx)("div",{className:"service-requests-table",children:(0,Y.jsxs)("table",{className:"service-requests-table__table",children:[(0,Y.jsx)("thead",{className:"service-requests-table__thead",children:(0,Y.jsxs)("tr",{className:"service-requests-table__thead-tr",children:[(0,Y.jsx)("th",{className:"service-requests-table__th",children:"Request category"}),(0,Y.jsx)("th",{className:"service-requests-table__th",children:"Status"}),(0,Y.jsx)("th",{className:"service-requests-table__th",children:"Created at"}),(0,Y.jsx)("th",{className:"service-requests-table__th",children:"Device model"}),(0,Y.jsx)("th",{className:"service-requests-table__th",children:"Device serial number"}),(0,Y.jsx)("th",{className:"service-requests-table__th",children:"Actions"})]})}),(0,Y.jsx)("tbody",{className:"service-requests-table__tbody",children:t.map((function(e){var t=e.category,r=e.status,i=e.createdAt,a=e.problemDescription,o=e.device,s=e.id;return(0,Y.jsxs)("tr",{className:"service-requests-table__tr",children:[(0,Y.jsx)("td",{className:"service-requests-table__td",children:t}),(0,Y.jsx)("td",{className:"service-requests-table__td ".concat(("In progress"===r?"service-requests-table__td--status-in-progress":"Finished"===r&&"service-requests-table__td--status-finished")||"Canceled"===r&&"service-requests-table__td--status-canceled"),children:r}),(0,Y.jsx)("td",{className:"service-requests-table__td",children:i.toDate().toDateString().split(" ").slice(1).join(" ")}),(0,Y.jsx)("td",{className:"service-requests-table__td",children:o.model}),(0,Y.jsx)("td",{className:"service-requests-table__td",children:o.serialNumber}),(0,Y.jsx)("td",{className:"service-requests-table__td",children:(0,Y.jsx)("div",{className:"service-requests-table__actions",children:n.map((function(e){var n=e.iconName,u=e.color,c=e.callback;return"Finished"!==r&&"Canceled"!==r||"fas fa-ban"!==n?"In progress"===r&&"far fa-trash-alt"===n?null:(0,Y.jsx)(J,{iconName:n,color:u,onClick:function(){return c({category:t,status:r,createdAt:i,problemDescription:a,device:o,id:s})}},"".concat(n,"-").concat(s)):null}))})})]},s)}))})]})})},Nb=function(e){var t=e.request;return(0,Y.jsxs)("div",{className:"service-request-info",children:[(0,Y.jsxs)("div",{className:"service-request-info__request-info",children:[(0,Y.jsx)("h4",{className:"service-request-info__section-title",children:"Request details"}),(0,Y.jsx)(rb,{type:"text",placeholder:"Created at",disabled:!0,value:t.createdAt.toDate().toDateString().split(" ").slice(1).join(" "),setState:function(){return null}}),(0,Y.jsx)(rb,{type:"text",placeholder:"Status",disabled:!0,value:t.status,setState:function(){return null}}),(0,Y.jsx)(rb,{type:"text",placeholder:"Problem category",disabled:!0,value:t.category,setState:function(){return null}}),t.problemDescription&&(0,Y.jsxs)("div",{className:"service-request-info__problem-description-container",children:[(0,Y.jsx)("label",{className:"service-request-info__problem-description-label",children:"Problem description"}),(0,Y.jsx)("div",{className:"service-request-info__problem-description",children:t.problemDescription})]})]}),(0,Y.jsxs)("div",{className:"service-request-info__device-info",children:[(0,Y.jsx)("h4",{className:"service-request-info__section-title",children:"Device details"}),(0,Y.jsx)(rb,{type:"text",placeholder:"Manufacturer",disabled:!0,value:t.device.manufacturer,setState:function(){return null}}),(0,Y.jsx)(rb,{type:"text",placeholder:"Model",disabled:!0,value:t.device.model,setState:function(){return null}}),(0,Y.jsx)(rb,{type:"text",placeholder:"Serial number",disabled:!0,value:t.device.serialNumber,setState:function(){return null}}),(0,Y.jsx)(rb,{type:"text",placeholder:"Device category",disabled:!0,value:t.device.category,setState:function(){return null}})]})]})},Ab=function(e){var n=o((0,t.useState)([]),2),r=n[0],i=n[1],a=o((0,t.useState)(!0),2),s=a[0],u=a[1],c=o((0,t.useState)(null),2),l=c[0],f=c[1],h=o((0,t.useState)(null),2),d=h[0],p=h[1],v=o((0,t.useState)(!1),2),m=v[0],y=v[1],g=o((0,t.useState)(!1),2),k=g[0],b=g[1],w=Gk().user,_=$k(r,10),x=_.setPaginationLimit,E=_.currentPage,S=_.setCurrentPage,T=_.totalPages,I=_.paginatedElements;(0,t.useEffect)((function(){try{u(!0),w&&gp(rp(fd(zk,"serviceRequests"),function(e,t,n){var r=t,i=$d("where",e);return new ip(i,r,n)}("userId","==",w.uid)),(function(e){var t,n=[],r=fe(e.docs);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(ue(ue({},a.data()),{},{id:a.id}))}}catch(o){r.e(o)}finally{r.f()}n&&i(n),n||i([]),u(!1)}))}catch(e){f(e)}}),[w]);var C=function(){var e=le(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=9;break}return e.prev=1,e.next=4,mp(hd(zk,"serviceRequests",t.id));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=le(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=9;break}return e.prev=1,e.next=4,vp(hd(zk,"serviceRequests",t.id),{status:"Canceled"});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),A=[{iconName:"fas fa-info-circle",color:"blue",callback:function(e){p(e),b(!0)}},{iconName:"far fa-trash-alt",color:"red",callback:function(e){p(e),y(!0)}},{iconName:"fas fa-ban",color:"red",callback:function(e){p(e),y(!0)}}];return(0,Y.jsxs)("div",{className:"service-requests-page",children:[(0,Y.jsx)(ee,{title:"Your Service Requests"}),(0,Y.jsxs)("div",{className:"service-requests-page__main",children:[s&&(0,Y.jsx)(Qk,{}),!s&&!l&&0!==I.length&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(Cb,{serviceRequests:I,actions:A}),(0,Y.jsx)(Xk,{setPaginationLimit:x,currentPage:E,setCurrentPage:S,totalPages:T})]}),!s&&!l&&0===I.length&&(0,Y.jsx)("div",{className:"service-requests-page__fetch-info-container",children:(0,Y.jsx)("h3",{className:"service-requests-page__fetch-info",children:"You have no service requests"})}),!s&&l&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)("h3",{className:"service-requests-page__fetch-info",children:"Failed to fetch devices"}),(0,Y.jsx)("p",{className:"service-requests-page__fetch-error",children:l})]})]}),d&&b&&(0,Y.jsx)(ae,{isOpen:k,onClose:function(){return b(!1)},children:(0,Y.jsx)(ob,{title:"Service request",onClose:function(){return b(!1)},children:(0,Y.jsx)(Nb,{request:d})})}),d&&"In progress"===d.status&&(0,Y.jsx)(ae,{isOpen:m,onClose:function(){p(null),y(!1)},children:(0,Y.jsx)(cb,{title:"Cancel service request",text:"Are you sure to cancel this service?",callback:function(){return N(d)},closeModal:function(){p(null),y(!1)}})}),d&&("Finished"===d.status||"Canceled"===d.status)&&(0,Y.jsx)(ae,{isOpen:m,onClose:function(){p(null),y(!1)},children:(0,Y.jsx)(cb,{title:"Delete service request",text:"Are you sure to delete this service permanently?",callback:function(){return C(d)},closeModal:function(){p(null),y(!1)}})})]})},Rb=function(e){var n=o((0,t.useState)(""),2),r=n[0],i=n[1],a=o((0,t.useState)(""),2),s=a[0],u=a[1],c=ub();return(0,Y.jsxs)("form",{className:"contact-form",children:[(0,Y.jsx)("h3",{className:"contact-form__title",children:"Contact us"}),(0,Y.jsx)(rb,{placeholder:"Subject",value:r,setState:i,type:"text"}),(0,Y.jsx)(ib,{label:"Your question",value:s,onChange:u}),(0,Y.jsx)(ie,{text:"SEND QUESTION",backgroundColor:"blue",disabled:!r||!s,action:function(){i(""),u(""),c.setPopupContent("Question sent"),c.setPopupType("default"),c.setIsPopupActive(!0)}}),(0,Y.jsx)(sb,{content:c.popupContent,type:c.popupType,duration:5e3,isActive:c.isPopupActive,setIsActive:c.setIsPopupActive})]})},Pb=function(e){return(0,Y.jsxs)("div",{className:"contact-info",children:[(0,Y.jsx)("h3",{className:"contact-info__title",children:"Company information"}),(0,Y.jsxs)("div",{className:"contact-info__item",children:[(0,Y.jsx)("i",{className:"contact-info__icon fas fa-location-dot"}),"92 4th St. Hollis, NY 11423"]}),(0,Y.jsxs)("div",{className:"contact-info__item",children:[(0,Y.jsx)("i",{className:"contact-info__icon fas fa-envelope"}),"servicex@xmail.com"]}),(0,Y.jsxs)("div",{className:"contact-info__item",children:[(0,Y.jsx)("i",{className:"contact-info__icon fas fa-phone"}),"617-543-5912"]})]})},Ob=function(e){return(0,Y.jsxs)("div",{className:"contact-page",children:[(0,Y.jsx)(ee,{title:"Contact"}),(0,Y.jsxs)("main",{className:"contact-page__main",children:[(0,Y.jsx)(Pb,{}),(0,Y.jsx)("iframe",{title:"location-map",className:"contact-page__map",id:"gmap_canvas",src:"https://maps.google.com/maps?q=400-410%20N%20Crest%20Dr%20Los%20Angeles&t=&z=13&ie=UTF8&iwloc=&output=embed",frameBorder:"0",scrolling:"no"}),(0,Y.jsx)(Rb,{})]})]})},Db=function(){return(0,Y.jsx)(Wk,{children:(0,Y.jsx)(nb,{children:(0,Y.jsx)("div",{className:"app",children:(0,Y.jsx)(Q,{children:(0,Y.jsxs)(E,{children:[(0,Y.jsx)(_,{path:"/service-app/",element:(0,Y.jsx)(_b,{children:(0,Y.jsx)(mb,{children:(0,Y.jsx)(lb,{})})})}),(0,Y.jsx)(_,{path:"/service-app/service-requests",element:(0,Y.jsx)(_b,{children:(0,Y.jsx)(mb,{children:(0,Y.jsx)(Ab,{})})})}),(0,Y.jsx)(_,{path:"/service-app/auth/*",element:(0,Y.jsx)(vb,{})}),(0,Y.jsx)(_,{path:"/service-app/contact",element:(0,Y.jsx)(_b,{children:(0,Y.jsx)(mb,{children:(0,Y.jsx)(Ob,{})})})}),(0,Y.jsx)(_,{path:"/service-app/profile",element:(0,Y.jsx)(_b,{children:(0,Y.jsx)(mb,{children:(0,Y.jsx)(Tb,{})})})}),(0,Y.jsx)(_,{path:"*",element:(0,Y.jsx)(Ib,{})})]})})})})})};r.render((0,Y.jsx)(t.StrictMode,{children:(0,Y.jsx)(Db,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.d51b4f21.js.map